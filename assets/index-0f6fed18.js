function $2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const U2="",F2=`https://script.google.com/macros/s/${U2}/exec`;function V2(t,e){console.error("analyticsAPI",`${t}:`,e)}function Wf(...t){console.log("analyticsAPI",...t)}async function z2({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;return t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString()),fetch(`${F2}?${u}`,{method:"POST"}).then(c=>c.text()).then(c=>JSON.parse(c)).then(c=>(c.status!=="success"&&(Wf("doPost",c.status),Wf("doPost",c.info),Wf("doPost",c.error)),c)).catch(c=>V2("doPost",c))}async function B2({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){return z2({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"}).then(i=>i)}const H2={postTitledColumnsDataByTitles:B2};async function q2(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){return{error:t,status:"error"}}}const W2={fetchIP:q2},K2={appsscript:H2,ipify:W2};function G2(){const t=navigator.userAgent;let e,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):n[1]==="Chrome"&&(e=t.match(/\bOPR|Edge\/(\d+)/),e!=null)?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=t.match(/version\/(\d+)/i))!=null&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function Q2(){return/Android/i.test(navigator.userAgent)?"Android":/webOS/i.test(navigator.userAgent)?"webOS":/iPhone/i.test(navigator.userAgent)?"iPhone":/iPad/i.test(navigator.userAgent)?"iPad":/iPod/i.test(navigator.userAgent)?"iPod":/BlackBerry/i.test(navigator.userAgent)?"BlackBerry":/IEMobile/i.test(navigator.userAgent)?"IEMobile":/Opera Mini/i.test(navigator.userAgent)?"Opera Mini":null}async function Y2(){return{ip:"DEV",time:new Date().toString(),timezone:new Date().getTimezoneOffset()/60,language:window.navigator.language,languages:[...window.navigator.languages],mobile:Q2()||"",page:window.location.pathname,referrer:document.referrer,browser:G2(),screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight}}const X2="";async function J2(){const t=await Y2(),{ip:e,page:n,time:r,language:i,languages:s,browser:o,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:h}=t;await K2.appsscript.postTitledColumnsDataByTitles({spreadsheetId:X2,titlesParams:{ip:e,page:n,time:r,language:i,languages:s.join(" | "),browser:o.name,version:o.version,mobile:a,screenHeight:l,screenWidth:u,viewportHeight:c,viewportWidth:h}})}J2();var Z2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d={},eR={get exports(){return d},set exports(t){d=t}},fh={},x={},tR={get exports(){return x},set exports(t){x=t}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),nR=Symbol.for("react.portal"),rR=Symbol.for("react.fragment"),iR=Symbol.for("react.strict_mode"),sR=Symbol.for("react.profiler"),oR=Symbol.for("react.provider"),aR=Symbol.for("react.context"),lR=Symbol.for("react.forward_ref"),uR=Symbol.for("react.suspense"),cR=Symbol.for("react.memo"),dR=Symbol.for("react.lazy"),f0=Symbol.iterator;function hR(t){return t===null||typeof t!="object"?null:(t=f0&&t[f0]||t["@@iterator"],typeof t=="function"?t:null)}var uE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cE=Object.assign,dE={};function ca(t,e,n){this.props=t,this.context=e,this.refs=dE,this.updater=n||uE}ca.prototype.isReactComponent={};ca.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ca.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hE(){}hE.prototype=ca.prototype;function dy(t,e,n){this.props=t,this.context=e,this.refs=dE,this.updater=n||uE}var hy=dy.prototype=new hE;hy.constructor=dy;cE(hy,ca.prototype);hy.isPureReactComponent=!0;var p0=Array.isArray,fE=Object.prototype.hasOwnProperty,fy={current:null},pE={key:!0,ref:!0,__self:!0,__source:!0};function mE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fE.call(e,r)&&!pE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gu,type:t,key:s,ref:o,props:i,_owner:fy.current}}function fR(t,e){return{$$typeof:gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function py(t){return typeof t=="object"&&t!==null&&t.$$typeof===gu}function pR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m0=/\/+/g;function Kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pR(""+t.key):e.toString(36)}function Pc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gu:case nR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Kf(o,0):r,p0(i)?(n="",t!=null&&(n=t.replace(m0,"$&/")+"/"),Pc(i,e,n,"",function(u){return u})):i!=null&&(py(i)&&(i=fR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(m0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",p0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Kf(s,a);o+=Pc(s,e,n,l,i)}else if(l=hR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Kf(s,a++),o+=Pc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tc(t,e,n){if(t==null)return t;var r=[],i=0;return Pc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},Lc={transition:null},gR={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:Lc,ReactCurrentOwner:fy};Te.Children={map:tc,forEach:function(t,e,n){tc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tc(t,function(){e++}),e},toArray:function(t){return tc(t,function(e){return e})||[]},only:function(t){if(!py(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=ca;Te.Fragment=rR;Te.Profiler=sR;Te.PureComponent=dy;Te.StrictMode=iR;Te.Suspense=uR;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gR;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fE.call(e,l)&&!pE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gu,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:aR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oR,_context:t},t.Consumer=t};Te.createElement=mE;Te.createFactory=function(t){var e=mE.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:lR,render:t}};Te.isValidElement=py;Te.lazy=function(t){return{$$typeof:dR,_payload:{_status:-1,_result:t},_init:mR}};Te.memo=function(t,e){return{$$typeof:cR,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Lc.transition;Lc.transition={};try{t()}finally{Lc.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return cn.current.useCallback(t,e)};Te.useContext=function(t){return cn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return cn.current.useEffect(t,e)};Te.useId=function(){return cn.current.useId()};Te.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return cn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};Te.useRef=function(t){return cn.current.useRef(t)};Te.useState=function(t){return cn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return cn.current.useTransition()};Te.version="18.2.0";(function(t){t.exports=Te})(tR);const Vr=lE(x),Sm=$2({__proto__:null,default:Vr},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR=x,vR=Symbol.for("react.element"),wR=Symbol.for("react.fragment"),_R=Object.prototype.hasOwnProperty,SR=yR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ER={key:!0,ref:!0,__self:!0,__source:!0};function gE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_R.call(e,r)&&!ER.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vR,type:t,key:s,ref:o,props:i,_owner:SR.current}}fh.Fragment=wR;fh.jsx=gE;fh.jsxs=gE;(function(t){t.exports=fh})(eR);var Al={},CR={get exports(){return Al},set exports(t){Al=t}},An={},Em={},xR={get exports(){return Em},set exports(t){Em=t}},yE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,G){var ie=H.length;H.push(G);e:for(;0<ie;){var Le=ie-1>>>1,Ve=H[Le];if(0<i(Ve,G))H[Le]=G,H[ie]=Ve,ie=Le;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var G=H[0],ie=H.pop();if(ie!==G){H[0]=ie;e:for(var Le=0,Ve=H.length,yt=Ve>>>1;Le<yt;){var It=2*(Le+1)-1,Gn=H[It],qe=It+1,vt=H[qe];if(0>i(Gn,ie))qe<Ve&&0>i(vt,Gn)?(H[Le]=vt,H[qe]=ie,Le=qe):(H[Le]=Gn,H[It]=ie,Le=It);else if(qe<Ve&&0>i(vt,ie))H[Le]=vt,H[qe]=ie,Le=qe;else break e}}return G}function i(H,G){var ie=H.sortIndex-G.sortIndex;return ie!==0?ie:H.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,g=!1,v=!1,p=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=H)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function _(H){if(p=!1,w(H),!v)if(n(l)!==null)v=!0,Fe(E);else{var G=n(u);G!==null&&dt(_,G.startTime-H)}}function E(H,G){v=!1,p&&(p=!1,y(L),L=-1),g=!0;var ie=f;try{for(w(G),h=n(l);h!==null&&(!(h.expirationTime>G)||H&&!W());){var Le=h.callback;if(typeof Le=="function"){h.callback=null,f=h.priorityLevel;var Ve=Le(h.expirationTime<=G);G=t.unstable_now(),typeof Ve=="function"?h.callback=Ve:h===n(l)&&r(l),w(G)}else r(l);h=n(l)}if(h!==null)var yt=!0;else{var It=n(u);It!==null&&dt(_,It.startTime-G),yt=!1}return yt}finally{h=null,f=ie,g=!1}}var T=!1,k=null,L=-1,A=5,O=-1;function W(){return!(t.unstable_now()-O<A)}function M(){if(k!==null){var H=t.unstable_now();O=H;var G=!0;try{G=k(!0,H)}finally{G?$():(T=!1,k=null)}}else T=!1}var $;if(typeof m=="function")$=function(){m(M)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Re=le.port2;le.port1.onmessage=M,$=function(){Re.postMessage(null)}}else $=function(){S(M,0)};function Fe(H){k=H,T||(T=!0,$())}function dt(H,G){L=S(function(){H(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,Fe(E))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var ie=f;f=G;try{return H()}finally{f=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=f;f=H;try{return G()}finally{f=ie}},t.unstable_scheduleCallback=function(H,G,ie){var Le=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Le+ie:Le):ie=Le,H){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=ie+Ve,H={id:c++,callback:G,priorityLevel:H,startTime:ie,expirationTime:Ve,sortIndex:-1},ie>Le?(H.sortIndex=ie,e(u,H),n(l)===null&&H===n(u)&&(p?(y(L),L=-1):p=!0,dt(_,ie-Le))):(H.sortIndex=Ve,e(l,H),v||g||(v=!0,Fe(E))),H},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(H){var G=f;return function(){var ie=f;f=G;try{return H.apply(this,arguments)}finally{f=ie}}}})(yE);(function(t){t.exports=yE})(xR);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE=x,In=Em;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wE=new Set,Pl={};function Qs(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(Pl[t]=e,t=0;t<e.length;t++)wE.add(e[t])}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cm=Object.prototype.hasOwnProperty,TR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g0={},y0={};function kR(t){return Cm.call(y0,t)?!0:Cm.call(g0,t)?!1:TR.test(t)?y0[t]=!0:(g0[t]=!0,!1)}function IR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bR(t,e,n,r){if(e===null||typeof e>"u"||IR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var my=/[\-:]([a-z])/g;function gy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(my,gy);Ft[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(my,gy);Ft[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(my,gy);Ft[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function yy(t,e,n,r){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bR(e,n,i,r)&&(n=null),r||i===null?kR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ci=vE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nc=Symbol.for("react.element"),po=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),vy=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),_E=Symbol.for("react.provider"),SE=Symbol.for("react.context"),wy=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),km=Symbol.for("react.suspense_list"),_y=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),EE=Symbol.for("react.offscreen"),v0=Symbol.iterator;function La(t){return t===null||typeof t!="object"?null:(t=v0&&t[v0]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Gf;function Xa(t){if(Gf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gf=e&&e[1]||""}return`
`+Gf+t}var Qf=!1;function Yf(t,e){if(!t||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xa(t):""}function RR(t){switch(t.tag){case 5:return Xa(t.type);case 16:return Xa("Lazy");case 13:return Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 2:case 15:return t=Yf(t.type,!1),t;case 11:return t=Yf(t.type.render,!1),t;case 1:return t=Yf(t.type,!0),t;default:return""}}function Im(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mo:return"Fragment";case po:return"Portal";case xm:return"Profiler";case vy:return"StrictMode";case Tm:return"Suspense";case km:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SE:return(t.displayName||"Context")+".Consumer";case _E:return(t._context.displayName||"Context")+".Provider";case wy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _y:return e=t.displayName||null,e!==null?e:Im(t.type)||"Memo";case vi:e=t._payload,t=t._init;try{return Im(t(e))}catch{}}return null}function AR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Im(e);case 8:return e===vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PR(t){var e=CE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rc(t){t._valueTracker||(t._valueTracker=PR(t))}function xE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function od(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bm(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TE(t,e){e=e.checked,e!=null&&yy(t,"checked",e,!1)}function Rm(t,e){TE(t,e);var n=qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Am(t,e.type,n):e.hasOwnProperty("defaultValue")&&Am(t,e.type,qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Am(t,e,n){(e!=="number"||od(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ja=Array.isArray;function Po(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(Ja(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qi(n)}}function kE(t,e){var n=qi(e.value),r=qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function E0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ic,bE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ll(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LR=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(t){LR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ll[e]=ll[t]})});function RE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ll.hasOwnProperty(t)&&ll[t]?(""+e).trim():e+"px"}function AE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=RE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NR=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nm(t,e){if(e){if(NR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function Om(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jm=null;function Sy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dm=null,Lo=null,No=null;function C0(t){if(t=wu(t)){if(typeof Dm!="function")throw Error(V(280));var e=t.stateNode;e&&(e=vh(e),Dm(t.stateNode,t.type,e))}}function PE(t){Lo?No?No.push(t):No=[t]:Lo=t}function LE(){if(Lo){var t=Lo,e=No;if(No=Lo=null,C0(t),e)for(t=0;t<e.length;t++)C0(e[t])}}function NE(t,e){return t(e)}function OE(){}var Xf=!1;function jE(t,e,n){if(Xf)return t(e,n);Xf=!0;try{return NE(t,e,n)}finally{Xf=!1,(Lo!==null||No!==null)&&(OE(),LE())}}function Nl(t,e){var n=t.stateNode;if(n===null)return null;var r=vh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var Mm=!1;if(Zr)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){Mm=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{Mm=!1}function OR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ul=!1,ad=null,ld=!1,$m=null,jR={onError:function(t){ul=!0,ad=t}};function DR(t,e,n,r,i,s,o,a,l){ul=!1,ad=null,OR.apply(jR,arguments)}function MR(t,e,n,r,i,s,o,a,l){if(DR.apply(this,arguments),ul){if(ul){var u=ad;ul=!1,ad=null}else throw Error(V(198));ld||(ld=!0,$m=u)}}function Ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x0(t){if(Ys(t)!==t)throw Error(V(188))}function $R(t){var e=t.alternate;if(!e){if(e=Ys(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return x0(i),t;if(s===r)return x0(i),e;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function ME(t){return t=$R(t),t!==null?$E(t):null}function $E(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$E(t);if(e!==null)return e;t=t.sibling}return null}var UE=In.unstable_scheduleCallback,T0=In.unstable_cancelCallback,UR=In.unstable_shouldYield,FR=In.unstable_requestPaint,ut=In.unstable_now,VR=In.unstable_getCurrentPriorityLevel,Ey=In.unstable_ImmediatePriority,FE=In.unstable_UserBlockingPriority,ud=In.unstable_NormalPriority,zR=In.unstable_LowPriority,VE=In.unstable_IdlePriority,ph=null,Er=null;function BR(t){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(ph,t,void 0,(t.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:WR,HR=Math.log,qR=Math.LN2;function WR(t){return t>>>=0,t===0?32:31-(HR(t)/qR|0)|0}var sc=64,oc=4194304;function Za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Za(a):(s&=o,s!==0&&(r=Za(s)))}else o=n&~i,o!==0?r=Za(o):s!==0&&(r=Za(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rr(e),i=1<<n,r|=t[n],e&=~i;return r}function KR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-rr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=KR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Um(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zE(){var t=sc;return sc<<=1,!(sc&4194240)&&(sc=64),t}function Jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rr(e),t[e]=n}function QR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-rr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Cy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function BE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HE,xy,qE,WE,KE,Fm=!1,ac=[],Pi=null,Li=null,Ni=null,Ol=new Map,jl=new Map,_i=[],YR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k0(t,e){switch(t){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(e.pointerId)}}function Oa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wu(e),e!==null&&xy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XR(t,e,n,r,i){switch(e){case"focusin":return Pi=Oa(Pi,t,e,n,r,i),!0;case"dragenter":return Li=Oa(Li,t,e,n,r,i),!0;case"mouseover":return Ni=Oa(Ni,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ol.set(s,Oa(Ol.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jl.set(s,Oa(jl.get(s)||null,t,e,n,r,i)),!0}return!1}function GE(t){var e=gs(t.target);if(e!==null){var n=Ys(e);if(n!==null){if(e=n.tag,e===13){if(e=DE(n),e!==null){t.blockedOn=e,KE(t.priority,function(){qE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jm=r,n.target.dispatchEvent(r),jm=null}else return e=wu(n),e!==null&&xy(e),t.blockedOn=n,!1;e.shift()}return!0}function I0(t,e,n){Nc(t)&&n.delete(e)}function JR(){Fm=!1,Pi!==null&&Nc(Pi)&&(Pi=null),Li!==null&&Nc(Li)&&(Li=null),Ni!==null&&Nc(Ni)&&(Ni=null),Ol.forEach(I0),jl.forEach(I0)}function ja(t,e){t.blockedOn===e&&(t.blockedOn=null,Fm||(Fm=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,JR)))}function Dl(t){function e(i){return ja(i,t)}if(0<ac.length){ja(ac[0],t);for(var n=1;n<ac.length;n++){var r=ac[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pi!==null&&ja(Pi,t),Li!==null&&ja(Li,t),Ni!==null&&ja(Ni,t),Ol.forEach(e),jl.forEach(e),n=0;n<_i.length;n++)r=_i[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)GE(n),n.blockedOn===null&&_i.shift()}var Oo=ci.ReactCurrentBatchConfig,dd=!0;function ZR(t,e,n,r){var i=Me,s=Oo.transition;Oo.transition=null;try{Me=1,Ty(t,e,n,r)}finally{Me=i,Oo.transition=s}}function eA(t,e,n,r){var i=Me,s=Oo.transition;Oo.transition=null;try{Me=4,Ty(t,e,n,r)}finally{Me=i,Oo.transition=s}}function Ty(t,e,n,r){if(dd){var i=Vm(t,e,n,r);if(i===null)lp(t,e,r,hd,n),k0(t,r);else if(XR(i,t,e,n,r))r.stopPropagation();else if(k0(t,r),e&4&&-1<YR.indexOf(t)){for(;i!==null;){var s=wu(i);if(s!==null&&HE(s),s=Vm(t,e,n,r),s===null&&lp(t,e,r,hd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lp(t,e,r,null,n)}}var hd=null;function Vm(t,e,n,r){if(hd=null,t=Sy(r),t=gs(t),t!==null)if(e=Ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hd=t,null}function QE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VR()){case Ey:return 1;case FE:return 4;case ud:case zR:return 16;case VE:return 536870912;default:return 16}default:return 16}}var Ii=null,ky=null,Oc=null;function YE(){if(Oc)return Oc;var t,e=ky,n=e.length,r,i="value"in Ii?Ii.value:Ii.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Oc=i.slice(t,1<r?1-r:void 0)}function jc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lc(){return!0}function b0(){return!1}function Pn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lc:b0,this.isPropagationStopped=b0,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),e}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iy=Pn(da),vu=rt({},da,{view:0,detail:0}),tA=Pn(vu),Zf,ep,Da,mh=rt({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:by,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(Zf=t.screenX-Da.screenX,ep=t.screenY-Da.screenY):ep=Zf=0,Da=t),Zf)},movementY:function(t){return"movementY"in t?t.movementY:ep}}),R0=Pn(mh),nA=rt({},mh,{dataTransfer:0}),rA=Pn(nA),iA=rt({},vu,{relatedTarget:0}),tp=Pn(iA),sA=rt({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),oA=Pn(sA),aA=rt({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lA=Pn(aA),uA=rt({},da,{data:0}),A0=Pn(uA),cA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hA[t])?!!e[t]:!1}function by(){return fA}var pA=rt({},vu,{key:function(t){if(t.key){var e=cA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:by,charCode:function(t){return t.type==="keypress"?jc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mA=Pn(pA),gA=rt({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P0=Pn(gA),yA=rt({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:by}),vA=Pn(yA),wA=rt({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),_A=Pn(wA),SA=rt({},mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EA=Pn(SA),CA=[9,13,27,32],Ry=Zr&&"CompositionEvent"in window,cl=null;Zr&&"documentMode"in document&&(cl=document.documentMode);var xA=Zr&&"TextEvent"in window&&!cl,XE=Zr&&(!Ry||cl&&8<cl&&11>=cl),L0=String.fromCharCode(32),N0=!1;function JE(t,e){switch(t){case"keyup":return CA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function TA(t,e){switch(t){case"compositionend":return ZE(e);case"keypress":return e.which!==32?null:(N0=!0,L0);case"textInput":return t=e.data,t===L0&&N0?null:t;default:return null}}function kA(t,e){if(go)return t==="compositionend"||!Ry&&JE(t,e)?(t=YE(),Oc=ky=Ii=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XE&&e.locale!=="ko"?null:e.data;default:return null}}var IA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IA[t.type]:e==="textarea"}function eC(t,e,n,r){PE(r),e=fd(e,"onChange"),0<e.length&&(n=new Iy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dl=null,Ml=null;function bA(t){dC(t,0)}function gh(t){var e=wo(t);if(xE(e))return t}function RA(t,e){if(t==="change")return e}var tC=!1;if(Zr){var np;if(Zr){var rp="oninput"in document;if(!rp){var j0=document.createElement("div");j0.setAttribute("oninput","return;"),rp=typeof j0.oninput=="function"}np=rp}else np=!1;tC=np&&(!document.documentMode||9<document.documentMode)}function D0(){dl&&(dl.detachEvent("onpropertychange",nC),Ml=dl=null)}function nC(t){if(t.propertyName==="value"&&gh(Ml)){var e=[];eC(e,Ml,t,Sy(t)),jE(bA,e)}}function AA(t,e,n){t==="focusin"?(D0(),dl=e,Ml=n,dl.attachEvent("onpropertychange",nC)):t==="focusout"&&D0()}function PA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gh(Ml)}function LA(t,e){if(t==="click")return gh(e)}function NA(t,e){if(t==="input"||t==="change")return gh(e)}function OA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:OA;function $l(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cm.call(e,i)||!or(t[i],e[i]))return!1}return!0}function M0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $0(t,e){var n=M0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M0(n)}}function rC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iC(){for(var t=window,e=od();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=od(t.document)}return e}function Ay(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jA(t){var e=iC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rC(n.ownerDocument.documentElement,n)){if(r!==null&&Ay(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$0(n,s);var o=$0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DA=Zr&&"documentMode"in document&&11>=document.documentMode,yo=null,zm=null,hl=null,Bm=!1;function U0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bm||yo==null||yo!==od(r)||(r=yo,"selectionStart"in r&&Ay(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hl&&$l(hl,r)||(hl=r,r=fd(zm,"onSelect"),0<r.length&&(e=new Iy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yo)))}function uc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},ip={},sC={};Zr&&(sC=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function yh(t){if(ip[t])return ip[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sC)return ip[t]=e[n];return t}var oC=yh("animationend"),aC=yh("animationiteration"),lC=yh("animationstart"),uC=yh("transitionend"),cC=new Map,F0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(t,e){cC.set(t,e),Qs(e,[t])}for(var sp=0;sp<F0.length;sp++){var op=F0[sp],MA=op.toLowerCase(),$A=op[0].toUpperCase()+op.slice(1);Ji(MA,"on"+$A)}Ji(oC,"onAnimationEnd");Ji(aC,"onAnimationIteration");Ji(lC,"onAnimationStart");Ji("dblclick","onDoubleClick");Ji("focusin","onFocus");Ji("focusout","onBlur");Ji(uC,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function V0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MR(r,e,void 0,t),t.currentTarget=null}function dC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;V0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;V0(i,a,u),s=l}}}if(ld)throw t=$m,ld=!1,$m=null,t}function We(t,e){var n=e[Gm];n===void 0&&(n=e[Gm]=new Set);var r=t+"__bubble";n.has(r)||(hC(e,t,2,!1),n.add(r))}function ap(t,e,n){var r=0;e&&(r|=4),hC(n,t,r,e)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Ul(t){if(!t[cc]){t[cc]=!0,wE.forEach(function(n){n!=="selectionchange"&&(UA.has(n)||ap(n,!1,t),ap(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cc]||(e[cc]=!0,ap("selectionchange",!1,e))}}function hC(t,e,n,r){switch(QE(e)){case 1:var i=ZR;break;case 4:i=eA;break;default:i=Ty}n=i.bind(null,e,n,t),i=void 0,!Mm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}jE(function(){var u=s,c=Sy(n),h=[];e:{var f=cC.get(t);if(f!==void 0){var g=Iy,v=t;switch(t){case"keypress":if(jc(n)===0)break e;case"keydown":case"keyup":g=mA;break;case"focusin":v="focus",g=tp;break;case"focusout":v="blur",g=tp;break;case"beforeblur":case"afterblur":g=tp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=R0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=rA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vA;break;case oC:case aC:case lC:g=oA;break;case uC:g=_A;break;case"scroll":g=tA;break;case"wheel":g=EA;break;case"copy":case"cut":case"paste":g=lA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=P0}var p=(e&4)!==0,S=!p&&t==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var m=u,w;m!==null;){w=m;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=Nl(m,y),_!=null&&p.push(Fl(m,_,w)))),S)break;m=m.return}0<p.length&&(f=new g(f,v,null,n,c),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==jm&&(v=n.relatedTarget||n.fromElement)&&(gs(v)||v[ei]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?gs(v):null,v!==null&&(S=Ys(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(p=R0,_="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(p=P0,_="onPointerLeave",y="onPointerEnter",m="pointer"),S=g==null?f:wo(g),w=v==null?f:wo(v),f=new p(_,m+"leave",g,n,c),f.target=S,f.relatedTarget=w,_=null,gs(c)===u&&(p=new p(y,m+"enter",v,n,c),p.target=w,p.relatedTarget=S,_=p),S=_,g&&v)t:{for(p=g,y=v,m=0,w=p;w;w=oo(w))m++;for(w=0,_=y;_;_=oo(_))w++;for(;0<m-w;)p=oo(p),m--;for(;0<w-m;)y=oo(y),w--;for(;m--;){if(p===y||y!==null&&p===y.alternate)break t;p=oo(p),y=oo(y)}p=null}else p=null;g!==null&&z0(h,f,g,p,!1),v!==null&&S!==null&&z0(h,S,v,p,!0)}}e:{if(f=u?wo(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var E=RA;else if(O0(f))if(tC)E=NA;else{E=PA;var T=AA}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=LA);if(E&&(E=E(t,u))){eC(h,E,n,c);break e}T&&T(t,f,u),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Am(f,"number",f.value)}switch(T=u?wo(u):window,t){case"focusin":(O0(T)||T.contentEditable==="true")&&(yo=T,zm=u,hl=null);break;case"focusout":hl=zm=yo=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,U0(h,n,c);break;case"selectionchange":if(DA)break;case"keydown":case"keyup":U0(h,n,c)}var k;if(Ry)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else go?JE(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(XE&&n.locale!=="ko"&&(go||L!=="onCompositionStart"?L==="onCompositionEnd"&&go&&(k=YE()):(Ii=c,ky="value"in Ii?Ii.value:Ii.textContent,go=!0)),T=fd(u,L),0<T.length&&(L=new A0(L,t,null,n,c),h.push({event:L,listeners:T}),k?L.data=k:(k=ZE(n),k!==null&&(L.data=k)))),(k=xA?TA(t,n):kA(t,n))&&(u=fd(u,"onBeforeInput"),0<u.length&&(c=new A0("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}dC(h,e)})}function Fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nl(t,n),s!=null&&r.unshift(Fl(t,s,i)),s=Nl(t,e),s!=null&&r.push(Fl(t,s,i))),t=t.return}return r}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Nl(n,s),l!=null&&o.unshift(Fl(n,l,a))):i||(l=Nl(n,s),l!=null&&o.push(Fl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FA=/\r\n?/g,VA=/\u0000|\uFFFD/g;function B0(t){return(typeof t=="string"?t:""+t).replace(FA,`
`).replace(VA,"")}function dc(t,e,n){if(e=B0(e),B0(t)!==e&&n)throw Error(V(425))}function pd(){}var Hm=null,qm=null;function Wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Km=typeof setTimeout=="function"?setTimeout:void 0,zA=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(t){return H0.resolve(null).then(t).catch(HA)}:Km;function HA(t){setTimeout(function(){throw t})}function up(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Dl(e)}function Oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function q0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ha=Math.random().toString(36).slice(2),yr="__reactFiber$"+ha,Vl="__reactProps$"+ha,ei="__reactContainer$"+ha,Gm="__reactEvents$"+ha,qA="__reactListeners$"+ha,WA="__reactHandles$"+ha;function gs(t){var e=t[yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ei]||n[yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=q0(t);t!==null;){if(n=t[yr])return n;t=q0(t)}return e}t=n,n=t.parentNode}return null}function wu(t){return t=t[yr]||t[ei],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function vh(t){return t[Vl]||null}var Qm=[],_o=-1;function Zi(t){return{current:t}}function Ke(t){0>_o||(t.current=Qm[_o],Qm[_o]=null,_o--)}function Be(t,e){_o++,Qm[_o]=t.current,t.current=e}var Wi={},en=Zi(Wi),yn=Zi(!1),Ns=Wi;function Wo(t,e){var n=t.type.contextTypes;if(!n)return Wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vn(t){return t=t.childContextTypes,t!=null}function md(){Ke(yn),Ke(en)}function W0(t,e,n){if(en.current!==Wi)throw Error(V(168));Be(en,e),Be(yn,n)}function fC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(V(108,AR(t)||"Unknown",i));return rt({},n,r)}function gd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wi,Ns=en.current,Be(en,t),Be(yn,yn.current),!0}function K0(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=fC(t,e,Ns),r.__reactInternalMemoizedMergedChildContext=t,Ke(yn),Ke(en),Be(en,t)):Ke(yn),Be(yn,n)}var Ur=null,wh=!1,cp=!1;function pC(t){Ur===null?Ur=[t]:Ur.push(t)}function KA(t){wh=!0,pC(t)}function es(){if(!cp&&Ur!==null){cp=!0;var t=0,e=Me;try{var n=Ur;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ur=null,wh=!1}catch(i){throw Ur!==null&&(Ur=Ur.slice(t+1)),UE(Ey,es),i}finally{Me=e,cp=!1}}return null}var So=[],Eo=0,yd=null,vd=0,Dn=[],Mn=0,Os=null,zr=1,Br="";function ds(t,e){So[Eo++]=vd,So[Eo++]=yd,yd=t,vd=e}function mC(t,e,n){Dn[Mn++]=zr,Dn[Mn++]=Br,Dn[Mn++]=Os,Os=t;var r=zr;t=Br;var i=32-rr(r)-1;r&=~(1<<i),n+=1;var s=32-rr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zr=1<<32-rr(e)+i|n<<i|r,Br=s+t}else zr=1<<s|n<<i|r,Br=t}function Py(t){t.return!==null&&(ds(t,1),mC(t,1,0))}function Ly(t){for(;t===yd;)yd=So[--Eo],So[Eo]=null,vd=So[--Eo],So[Eo]=null;for(;t===Os;)Os=Dn[--Mn],Dn[Mn]=null,Br=Dn[--Mn],Dn[Mn]=null,zr=Dn[--Mn],Dn[Mn]=null}var Tn=null,Cn=null,Ye=!1,er=null;function gC(t,e){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,Cn=Oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Os!==null?{id:zr,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,Cn=null,!0):!1;default:return!1}}function Ym(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xm(t){if(Ye){var e=Cn;if(e){var n=e;if(!G0(t,e)){if(Ym(t))throw Error(V(418));e=Oi(n.nextSibling);var r=Tn;e&&G0(t,e)?gC(r,n):(t.flags=t.flags&-4097|2,Ye=!1,Tn=t)}}else{if(Ym(t))throw Error(V(418));t.flags=t.flags&-4097|2,Ye=!1,Tn=t}}}function Q0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function hc(t){if(t!==Tn)return!1;if(!Ye)return Q0(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wm(t.type,t.memoizedProps)),e&&(e=Cn)){if(Ym(t))throw yC(),Error(V(418));for(;e;)gC(t,e),e=Oi(e.nextSibling)}if(Q0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=Oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=Tn?Oi(t.stateNode.nextSibling):null;return!0}function yC(){for(var t=Cn;t;)t=Oi(t.nextSibling)}function Ko(){Cn=Tn=null,Ye=!1}function Ny(t){er===null?er=[t]:er.push(t)}var GA=ci.ReactCurrentBatchConfig;function Jn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var wd=Zi(null),_d=null,Co=null,Oy=null;function jy(){Oy=Co=_d=null}function Dy(t){var e=wd.current;Ke(wd),t._currentValue=e}function Jm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jo(t,e){_d=t,Oy=Co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(Oy!==t)if(t={context:t,memoizedValue:e,next:null},Co===null){if(_d===null)throw Error(V(308));Co=t,_d.dependencies={lanes:0,firstContext:t}}else Co=Co.next=t;return e}var ys=null;function My(t){ys===null?ys=[t]:ys.push(t)}function vC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,My(e)):(n.next=i.next,i.next=n),e.interleaved=n,ti(t,r)}function ti(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wi=!1;function $y(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ti(t,n)}return i=r.interleaved,i===null?(e.next=e,My(r)):(e.next=i.next,i.next=e),r.interleaved=e,ti(t,n)}function Dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cy(t,n)}}function Y0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sd(t,e,n,r){var i=t.updateQueue;wi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,p=a;switch(f=e,g=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=rt({},h,f);break e;case 2:wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ds|=o,t.lanes=o,t.memoizedState=h}}function X0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var _C=new vE.Component().refs;function Zm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _h={isMounted:function(t){return(t=t._reactInternals)?Ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),i=Mi(t),s=Gr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(ir(e,t,i,r),Dc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),i=Mi(t),s=Gr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(ir(e,t,i,r),Dc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=Mi(t),i=Gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ji(t,i,r),e!==null&&(ir(e,t,r,n),Dc(e,t,r))}};function J0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$l(n,r)||!$l(i,s):!0}function SC(t,e,n){var r=!1,i=Wi,s=e.contextType;return typeof s=="object"&&s!==null?s=zn(s):(i=vn(e)?Ns:en.current,r=e.contextTypes,s=(r=r!=null)?Wo(t,i):Wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_h,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Z0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_h.enqueueReplaceState(e,e.state,null)}function eg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=_C,$y(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zn(s):(s=vn(e)?Ns:en.current,i.context=Wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_h.enqueueReplaceState(i,i.state,null),Sd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===_C&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function fc(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ew(t){var e=t._init;return e(t._payload)}function EC(t){function e(y,m){if(t){var w=y.deletions;w===null?(y.deletions=[m],y.flags|=16):w.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=$i(y,m),y.index=0,y.sibling=null,y}function s(y,m,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<m?(y.flags|=2,m):w):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,w,_){return m===null||m.tag!==6?(m=yp(w,y.mode,_),m.return=y,m):(m=i(m,w),m.return=y,m)}function l(y,m,w,_){var E=w.type;return E===mo?c(y,m,w.props.children,_,w.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vi&&ew(E)===m.type)?(_=i(m,w.props),_.ref=Ma(y,m,w),_.return=y,_):(_=zc(w.type,w.key,w.props,null,y.mode,_),_.ref=Ma(y,m,w),_.return=y,_)}function u(y,m,w,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=vp(w,y.mode,_),m.return=y,m):(m=i(m,w.children||[]),m.return=y,m)}function c(y,m,w,_,E){return m===null||m.tag!==7?(m=bs(w,y.mode,_,E),m.return=y,m):(m=i(m,w),m.return=y,m)}function h(y,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=yp(""+m,y.mode,w),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case nc:return w=zc(m.type,m.key,m.props,null,y.mode,w),w.ref=Ma(y,null,m),w.return=y,w;case po:return m=vp(m,y.mode,w),m.return=y,m;case vi:var _=m._init;return h(y,_(m._payload),w)}if(Ja(m)||La(m))return m=bs(m,y.mode,w,null),m.return=y,m;fc(y,m)}return null}function f(y,m,w,_){var E=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(y,m,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nc:return w.key===E?l(y,m,w,_):null;case po:return w.key===E?u(y,m,w,_):null;case vi:return E=w._init,f(y,m,E(w._payload),_)}if(Ja(w)||La(w))return E!==null?null:c(y,m,w,_,null);fc(y,w)}return null}function g(y,m,w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,a(m,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case nc:return y=y.get(_.key===null?w:_.key)||null,l(m,y,_,E);case po:return y=y.get(_.key===null?w:_.key)||null,u(m,y,_,E);case vi:var T=_._init;return g(y,m,w,T(_._payload),E)}if(Ja(_)||La(_))return y=y.get(w)||null,c(m,y,_,E,null);fc(m,_)}return null}function v(y,m,w,_){for(var E=null,T=null,k=m,L=m=0,A=null;k!==null&&L<w.length;L++){k.index>L?(A=k,k=null):A=k.sibling;var O=f(y,k,w[L],_);if(O===null){k===null&&(k=A);break}t&&k&&O.alternate===null&&e(y,k),m=s(O,m,L),T===null?E=O:T.sibling=O,T=O,k=A}if(L===w.length)return n(y,k),Ye&&ds(y,L),E;if(k===null){for(;L<w.length;L++)k=h(y,w[L],_),k!==null&&(m=s(k,m,L),T===null?E=k:T.sibling=k,T=k);return Ye&&ds(y,L),E}for(k=r(y,k);L<w.length;L++)A=g(k,y,L,w[L],_),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?L:A.key),m=s(A,m,L),T===null?E=A:T.sibling=A,T=A);return t&&k.forEach(function(W){return e(y,W)}),Ye&&ds(y,L),E}function p(y,m,w,_){var E=La(w);if(typeof E!="function")throw Error(V(150));if(w=E.call(w),w==null)throw Error(V(151));for(var T=E=null,k=m,L=m=0,A=null,O=w.next();k!==null&&!O.done;L++,O=w.next()){k.index>L?(A=k,k=null):A=k.sibling;var W=f(y,k,O.value,_);if(W===null){k===null&&(k=A);break}t&&k&&W.alternate===null&&e(y,k),m=s(W,m,L),T===null?E=W:T.sibling=W,T=W,k=A}if(O.done)return n(y,k),Ye&&ds(y,L),E;if(k===null){for(;!O.done;L++,O=w.next())O=h(y,O.value,_),O!==null&&(m=s(O,m,L),T===null?E=O:T.sibling=O,T=O);return Ye&&ds(y,L),E}for(k=r(y,k);!O.done;L++,O=w.next())O=g(k,y,L,O.value,_),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?L:O.key),m=s(O,m,L),T===null?E=O:T.sibling=O,T=O);return t&&k.forEach(function(M){return e(y,M)}),Ye&&ds(y,L),E}function S(y,m,w,_){if(typeof w=="object"&&w!==null&&w.type===mo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case nc:e:{for(var E=w.key,T=m;T!==null;){if(T.key===E){if(E=w.type,E===mo){if(T.tag===7){n(y,T.sibling),m=i(T,w.props.children),m.return=y,y=m;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vi&&ew(E)===T.type){n(y,T.sibling),m=i(T,w.props),m.ref=Ma(y,T,w),m.return=y,y=m;break e}n(y,T);break}else e(y,T);T=T.sibling}w.type===mo?(m=bs(w.props.children,y.mode,_,w.key),m.return=y,y=m):(_=zc(w.type,w.key,w.props,null,y.mode,_),_.ref=Ma(y,m,w),_.return=y,y=_)}return o(y);case po:e:{for(T=w.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(y,m.sibling),m=i(m,w.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=vp(w,y.mode,_),m.return=y,y=m}return o(y);case vi:return T=w._init,S(y,m,T(w._payload),_)}if(Ja(w))return v(y,m,w,_);if(La(w))return p(y,m,w,_);fc(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,w),m.return=y,y=m):(n(y,m),m=yp(w,y.mode,_),m.return=y,y=m),o(y)):n(y,m)}return S}var Go=EC(!0),CC=EC(!1),_u={},Cr=Zi(_u),zl=Zi(_u),Bl=Zi(_u);function vs(t){if(t===_u)throw Error(V(174));return t}function Uy(t,e){switch(Be(Bl,e),Be(zl,t),Be(Cr,_u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lm(e,t)}Ke(Cr),Be(Cr,e)}function Qo(){Ke(Cr),Ke(zl),Ke(Bl)}function xC(t){vs(Bl.current);var e=vs(Cr.current),n=Lm(e,t.type);e!==n&&(Be(zl,t),Be(Cr,n))}function Fy(t){zl.current===t&&(Ke(Cr),Ke(zl))}var tt=Zi(0);function Ed(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dp=[];function Vy(){for(var t=0;t<dp.length;t++)dp[t]._workInProgressVersionPrimary=null;dp.length=0}var Mc=ci.ReactCurrentDispatcher,hp=ci.ReactCurrentBatchConfig,js=0,nt=null,_t=null,Rt=null,Cd=!1,fl=!1,Hl=0,QA=0;function Ht(){throw Error(V(321))}function zy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function By(t,e,n,r,i,s){if(js=s,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mc.current=t===null||t.memoizedState===null?ZA:eP,t=n(r,i),fl){s=0;do{if(fl=!1,Hl=0,25<=s)throw Error(V(301));s+=1,Rt=_t=null,e.updateQueue=null,Mc.current=tP,t=n(r,i)}while(fl)}if(Mc.current=xd,e=_t!==null&&_t.next!==null,js=0,Rt=_t=nt=null,Cd=!1,e)throw Error(V(300));return t}function Hy(){var t=Hl!==0;return Hl=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?nt.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Bn(){if(_t===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Rt===null?nt.memoizedState:Rt.next;if(e!==null)Rt=e,_t=t;else{if(t===null)throw Error(V(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Rt===null?nt.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function ql(t,e){return typeof e=="function"?e(t):e}function fp(t){var e=Bn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((js&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,nt.lanes|=c,Ds|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,or(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,nt.lanes|=s,Ds|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pp(t){var e=Bn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);or(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function TC(){}function kC(t,e){var n=nt,r=Bn(),i=e(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,gn=!0),r=r.queue,qy(RC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,Wl(9,bC.bind(null,n,r,i,e),void 0,null),Pt===null)throw Error(V(349));js&30||IC(n,e,i)}return i}function IC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bC(t,e,n,r){e.value=n,e.getSnapshot=r,AC(e)&&PC(t)}function RC(t,e,n){return n(function(){AC(e)&&PC(t)})}function AC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!or(t,n)}catch{return!0}}function PC(t){var e=ti(t,1);e!==null&&ir(e,t,1,-1)}function tw(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:t},e.queue=t,t=t.dispatch=JA.bind(null,nt,t),[e.memoizedState,t]}function Wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function LC(){return Bn().memoizedState}function $c(t,e,n,r){var i=mr();nt.flags|=t,i.memoizedState=Wl(1|e,n,void 0,r===void 0?null:r)}function Sh(t,e,n,r){var i=Bn();r=r===void 0?null:r;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,r!==null&&zy(r,o.deps)){i.memoizedState=Wl(e,n,s,r);return}}nt.flags|=t,i.memoizedState=Wl(1|e,n,s,r)}function nw(t,e){return $c(8390656,8,t,e)}function qy(t,e){return Sh(2048,8,t,e)}function NC(t,e){return Sh(4,2,t,e)}function OC(t,e){return Sh(4,4,t,e)}function jC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DC(t,e,n){return n=n!=null?n.concat([t]):null,Sh(4,4,jC.bind(null,e,t),n)}function Wy(){}function MC(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $C(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UC(t,e,n){return js&21?(or(n,e)||(n=zE(),nt.lanes|=n,Ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function YA(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=hp.transition;hp.transition={};try{t(!1),e()}finally{Me=n,hp.transition=r}}function FC(){return Bn().memoizedState}function XA(t,e,n){var r=Mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VC(t))zC(e,n);else if(n=vC(t,e,n,r),n!==null){var i=un();ir(n,t,r,i),BC(n,e,r)}}function JA(t,e,n){var r=Mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VC(t))zC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,or(a,o)){var l=e.interleaved;l===null?(i.next=i,My(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=vC(t,e,i,r),n!==null&&(i=un(),ir(n,t,r,i),BC(n,e,r))}}function VC(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function zC(t,e){fl=Cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cy(t,n)}}var xd={readContext:zn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},ZA={readContext:zn,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:nw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$c(4194308,4,jC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $c(4194308,4,t,e)},useInsertionEffect:function(t,e){return $c(4,2,t,e)},useMemo:function(t,e){var n=mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XA.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:tw,useDebugValue:Wy,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=tw(!1),e=t[0];return t=YA.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=mr();if(Ye){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),Pt===null)throw Error(V(349));js&30||IC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,nw(RC.bind(null,r,s,t),[t]),r.flags|=2048,Wl(9,bC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mr(),e=Pt.identifierPrefix;if(Ye){var n=Br,r=zr;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eP={readContext:zn,useCallback:MC,useContext:zn,useEffect:qy,useImperativeHandle:DC,useInsertionEffect:NC,useLayoutEffect:OC,useMemo:$C,useReducer:fp,useRef:LC,useState:function(){return fp(ql)},useDebugValue:Wy,useDeferredValue:function(t){var e=Bn();return UC(e,_t.memoizedState,t)},useTransition:function(){var t=fp(ql)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:TC,useSyncExternalStore:kC,useId:FC,unstable_isNewReconciler:!1},tP={readContext:zn,useCallback:MC,useContext:zn,useEffect:qy,useImperativeHandle:DC,useInsertionEffect:NC,useLayoutEffect:OC,useMemo:$C,useReducer:pp,useRef:LC,useState:function(){return pp(ql)},useDebugValue:Wy,useDeferredValue:function(t){var e=Bn();return _t===null?e.memoizedState=t:UC(e,_t.memoizedState,t)},useTransition:function(){var t=pp(ql)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:TC,useSyncExternalStore:kC,useId:FC,unstable_isNewReconciler:!1};function Yo(t,e){try{var n="",r=e;do n+=RR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nP=typeof WeakMap=="function"?WeakMap:Map;function HC(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kd||(kd=!0,dg=r),tg(t,e)},n}function qC(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){tg(t,e),typeof r!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gP.bind(null,t,e,n),e.then(t,t))}function iw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,ji(n,e,1))),n.lanes|=1),t)}var rP=ci.ReactCurrentOwner,gn=!1;function on(t,e,n,r){e.child=t===null?CC(e,null,n,r):Go(e,t.child,n,r)}function ow(t,e,n,r,i){n=n.render;var s=e.ref;return jo(e,i),r=By(t,e,n,r,s,i),n=Hy(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(Ye&&n&&Py(e),e.flags|=1,on(t,e,r,i),e.child)}function aw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ev(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,WC(t,e,s,r,i)):(t=zc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:$l,n(o,r)&&t.ref===e.ref)return ni(t,e,i)}return e.flags|=1,t=$i(s,r),t.ref=e.ref,t.return=e,e.child=t}function WC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($l(s,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,ni(t,e,i)}return ng(t,e,n,r,i)}function KC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(To,En),En|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(To,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(To,En),En|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(To,En),En|=r;return on(t,e,i,n),e.child}function GC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ng(t,e,n,r,i){var s=vn(n)?Ns:en.current;return s=Wo(e,s),jo(e,i),n=By(t,e,n,r,s,i),r=Hy(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(Ye&&r&&Py(e),e.flags|=1,on(t,e,n,i),e.child)}function lw(t,e,n,r,i){if(vn(n)){var s=!0;gd(e)}else s=!1;if(jo(e,i),e.stateNode===null)Uc(t,e),SC(e,n,r),eg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=vn(n)?Ns:en.current,u=Wo(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Z0(e,o,r,u),wi=!1;var f=e.memoizedState;o.state=f,Sd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||yn.current||wi?(typeof c=="function"&&(Zm(e,n,c,r),l=e.memoizedState),(a=wi||J0(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=vn(n)?Ns:en.current,l=Wo(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Z0(e,o,r,l),wi=!1,f=e.memoizedState,o.state=f,Sd(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||yn.current||wi?(typeof g=="function"&&(Zm(e,n,g,r),v=e.memoizedState),(u=wi||J0(e,n,u,r,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return rg(t,e,n,r,s,i)}function rg(t,e,n,r,i,s){GC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&K0(e,n,!1),ni(t,e,s);r=e.stateNode,rP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Go(e,t.child,null,s),e.child=Go(e,null,a,s)):on(t,e,a,s),e.memoizedState=r.state,i&&K0(e,n,!0),e.child}function QC(t){var e=t.stateNode;e.pendingContext?W0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W0(t,e.context,!1),Uy(t,e.containerInfo)}function uw(t,e,n,r,i){return Ko(),Ny(i),e.flags|=256,on(t,e,n,r),e.child}var ig={dehydrated:null,treeContext:null,retryLane:0};function sg(t){return{baseLanes:t,cachePool:null,transitions:null}}function YC(t,e,n){var r=e.pendingProps,i=tt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(tt,i&1),t===null)return Xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xh(o,r,0,null),t=bs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sg(n),e.memoizedState=ig,t):Ky(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return iP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$i(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$i(a,s):(s=bs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?sg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ig,r}return s=t.child,t=s.sibling,r=$i(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ky(t,e){return e=xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pc(t,e,n,r){return r!==null&&Ny(r),Go(e,t.child,null,n),t=Ky(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=mp(Error(V(422))),pc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xh({mode:"visible",children:r.children},i,0,null),s=bs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Go(e,t.child,null,o),e.child.memoizedState=sg(o),e.memoizedState=ig,s);if(!(e.mode&1))return pc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(V(419)),r=mp(s,r,void 0),pc(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=Pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ti(t,i),ir(r,t,i,-1))}return Zy(),r=mp(Error(V(421))),pc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Cn=Oi(i.nextSibling),Tn=e,Ye=!0,er=null,t!==null&&(Dn[Mn++]=zr,Dn[Mn++]=Br,Dn[Mn++]=Os,zr=t.id,Br=t.overflow,Os=e),e=Ky(e,r.children),e.flags|=4096,e)}function cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jm(t.return,e,n)}function gp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function XC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(on(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cw(t,n,e);else if(t.tag===19)cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ed(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ed(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gp(e,!0,n,null,s);break;case"together":gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ni(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=$i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sP(t,e,n){switch(e.tag){case 3:QC(e),Ko();break;case 5:xC(e);break;case 1:vn(e.type)&&gd(e);break;case 4:Uy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(wd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?YC(t,e,n):(Be(tt,tt.current&1),t=ni(t,e,n),t!==null?t.sibling:null);Be(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,KC(t,e,n)}return ni(t,e,n)}var JC,og,ZC,ex;JC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};og=function(){};ZC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vs(Cr.current);var s=null;switch(n){case"input":i=bm(t,i),r=bm(t,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=Pm(t,i),r=Pm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pd)}Nm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ex=function(t,e,n,r){n!==r&&(e.flags|=4)};function $a(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oP(t,e,n){var r=e.pendingProps;switch(Ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return vn(e.type)&&md(),qt(e),null;case 3:return r=e.stateNode,Qo(),Ke(yn),Ke(en),Vy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(pg(er),er=null))),og(t,e),qt(e),null;case 5:Fy(e);var i=vs(Bl.current);if(n=e.type,t!==null&&e.stateNode!=null)ZC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return qt(e),null}if(t=vs(Cr.current),hc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[yr]=e,r[Vl]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<el.length;i++)We(el[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":w0(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":S0(r,s),We("invalid",r)}Nm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&dc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dc(r.textContent,a,t),i=["children",""+a]):Pl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":rc(r),_0(r,s,!0);break;case"textarea":rc(r),E0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yr]=e,t[Vl]=r,JC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Om(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<el.length;i++)We(el[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":w0(t,r),i=bm(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),We("invalid",t);break;case"textarea":S0(t,r),i=Pm(t,r),We("invalid",t);break;default:i=r}Nm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?AE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ll(t,l):typeof l=="number"&&Ll(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&We("scroll",t):l!=null&&yy(t,s,l,o))}switch(n){case"input":rc(t),_0(t,r,!1);break;case"textarea":rc(t),E0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Po(t,!!r.multiple,s,!1):r.defaultValue!=null&&Po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qt(e),null;case 6:if(t&&e.stateNode!=null)ex(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=vs(Bl.current),vs(Cr.current),hc(e)){if(r=e.stateNode,n=e.memoizedProps,r[yr]=e,(s=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:dc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yr]=e,e.stateNode=r}return qt(e),null;case 13:if(Ke(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Cn!==null&&e.mode&1&&!(e.flags&128))yC(),Ko(),e.flags|=98560,s=!1;else if(s=hc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(V(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[yr]=e}else Ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),s=!1}else er!==null&&(pg(er),er=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?Et===0&&(Et=3):Zy())),e.updateQueue!==null&&(e.flags|=4),qt(e),null);case 4:return Qo(),og(t,e),t===null&&Ul(e.stateNode.containerInfo),qt(e),null;case 10:return Dy(e.type._context),qt(e),null;case 17:return vn(e.type)&&md(),qt(e),null;case 19:if(Ke(tt),s=e.memoizedState,s===null)return qt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)$a(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ed(t),o!==null){for(e.flags|=128,$a(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(tt,tt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ut()>Xo&&(e.flags|=128,r=!0,$a(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ed(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$a(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return qt(e),null}else 2*ut()-s.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,$a(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ut(),e.sibling=null,n=tt.current,Be(tt,r?n&1|2:n&1),e):(qt(e),null);case 22:case 23:return Jy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function aP(t,e){switch(Ly(e),e.tag){case 1:return vn(e.type)&&md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),Ke(yn),Ke(en),Vy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fy(e),null;case 13:if(Ke(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(tt),null;case 4:return Qo(),null;case 10:return Dy(e.type._context),null;case 22:case 23:return Jy(),null;case 24:return null;default:return null}}var mc=!1,Gt=!1,lP=typeof WeakSet=="function"?WeakSet:Set,Y=null;function xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function ag(t,e,n){try{n()}catch(r){st(t,e,r)}}var dw=!1;function uP(t,e){if(Hm=dd,t=iC(),Ay(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qm={focusedElem:t,selectionRange:n},dd=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,S=v.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:Jn(e.type,p),S);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){st(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return v=dw,dw=!1,v}function pl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ag(e,n,s)}i=i.next}while(i!==r)}}function Eh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tx(t){var e=t.alternate;e!==null&&(t.alternate=null,tx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yr],delete e[Vl],delete e[Gm],delete e[qA],delete e[WA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nx(t){return t.tag===5||t.tag===3||t.tag===4}function hw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ug(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pd));else if(r!==4&&(t=t.child,t!==null))for(ug(t,e,n),t=t.sibling;t!==null;)ug(t,e,n),t=t.sibling}function cg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cg(t,e,n),t=t.sibling;t!==null;)cg(t,e,n),t=t.sibling}var jt=null,Zn=!1;function gi(t,e,n){for(n=n.child;n!==null;)rx(t,e,n),n=n.sibling}function rx(t,e,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(ph,n)}catch{}switch(n.tag){case 5:Gt||xo(n,e);case 6:var r=jt,i=Zn;jt=null,gi(t,e,n),jt=r,Zn=i,jt!==null&&(Zn?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(Zn?(t=jt,n=n.stateNode,t.nodeType===8?up(t.parentNode,n):t.nodeType===1&&up(t,n),Dl(t)):up(jt,n.stateNode));break;case 4:r=jt,i=Zn,jt=n.stateNode.containerInfo,Zn=!0,gi(t,e,n),jt=r,Zn=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ag(n,e,o),i=i.next}while(i!==r)}gi(t,e,n);break;case 1:if(!Gt&&(xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}gi(t,e,n);break;case 21:gi(t,e,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,gi(t,e,n),Gt=r):gi(t,e,n);break;default:gi(t,e,n)}}function fw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lP),e.forEach(function(r){var i=vP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:jt=a.stateNode,Zn=!1;break e;case 3:jt=a.stateNode.containerInfo,Zn=!0;break e;case 4:jt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(jt===null)throw Error(V(160));rx(s,o,i),jt=null,Zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){st(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ix(e,t),e=e.sibling}function ix(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),pr(t),r&4){try{pl(3,t,t.return),Eh(3,t)}catch(p){st(t,t.return,p)}try{pl(5,t,t.return)}catch(p){st(t,t.return,p)}}break;case 1:Yn(e,t),pr(t),r&512&&n!==null&&xo(n,n.return);break;case 5:if(Yn(e,t),pr(t),r&512&&n!==null&&xo(n,n.return),t.flags&32){var i=t.stateNode;try{Ll(i,"")}catch(p){st(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&TE(i,s),Om(a,o);var u=Om(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?AE(i,h):c==="dangerouslySetInnerHTML"?bE(i,h):c==="children"?Ll(i,h):yy(i,c,h,u)}switch(a){case"input":Rm(i,s);break;case"textarea":kE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Po(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Po(i,!!s.multiple,s.defaultValue,!0):Po(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vl]=s}catch(p){st(t,t.return,p)}}break;case 6:if(Yn(e,t),pr(t),r&4){if(t.stateNode===null)throw Error(V(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){st(t,t.return,p)}}break;case 3:if(Yn(e,t),pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(e.containerInfo)}catch(p){st(t,t.return,p)}break;case 4:Yn(e,t),pr(t);break;case 13:Yn(e,t),pr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Yy=ut())),r&4&&fw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(u=Gt)||c,Yn(e,t),Gt=u):Yn(e,t),pr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Y=t,c=t.child;c!==null;){for(h=Y=c;Y!==null;){switch(f=Y,g=f.child,f.tag){case 0:case 11:case 14:case 15:pl(4,f,f.return);break;case 1:xo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(p){st(r,n,p)}}break;case 5:xo(f,f.return);break;case 22:if(f.memoizedState!==null){mw(h);continue}}g!==null?(g.return=f,Y=g):mw(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=RE("display",o))}catch(p){st(t,t.return,p)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){st(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yn(e,t),pr(t),r&4&&fw(t);break;case 21:break;default:Yn(e,t),pr(t)}}function pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nx(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ll(i,""),r.flags&=-33);var s=hw(t);cg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hw(t);ug(t,a,o);break;default:throw Error(V(161))}}catch(l){st(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cP(t,e,n){Y=t,sx(t)}function sx(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Gt;a=mc;var u=Gt;if(mc=o,(Gt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?gw(i):l!==null?(l.return=o,Y=l):gw(i);for(;s!==null;)Y=s,sx(s),s=s.sibling;Y=i,mc=a,Gt=u}pw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):pw(t)}}function pw(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||Eh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&X0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Dl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Gt||e.flags&512&&lg(e)}catch(f){st(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function mw(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function gw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Eh(4,e)}catch(l){st(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){st(e,i,l)}}var s=e.return;try{lg(e)}catch(l){st(e,s,l)}break;case 5:var o=e.return;try{lg(e)}catch(l){st(e,o,l)}}}catch(l){st(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var dP=Math.ceil,Td=ci.ReactCurrentDispatcher,Gy=ci.ReactCurrentOwner,Un=ci.ReactCurrentBatchConfig,Pe=0,Pt=null,mt=null,$t=0,En=0,To=Zi(0),Et=0,Kl=null,Ds=0,Ch=0,Qy=0,ml=null,pn=null,Yy=0,Xo=1/0,Dr=null,kd=!1,dg=null,Di=null,gc=!1,bi=null,Id=0,gl=0,hg=null,Fc=-1,Vc=0;function un(){return Pe&6?ut():Fc!==-1?Fc:Fc=ut()}function Mi(t){return t.mode&1?Pe&2&&$t!==0?$t&-$t:GA.transition!==null?(Vc===0&&(Vc=zE()),Vc):(t=Me,t!==0||(t=window.event,t=t===void 0?16:QE(t.type)),t):1}function ir(t,e,n,r){if(50<gl)throw gl=0,hg=null,Error(V(185));yu(t,n,r),(!(Pe&2)||t!==Pt)&&(t===Pt&&(!(Pe&2)&&(Ch|=n),Et===4&&Si(t,$t)),wn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Xo=ut()+500,wh&&es()))}function wn(t,e){var n=t.callbackNode;GR(t,e);var r=cd(t,t===Pt?$t:0);if(r===0)n!==null&&T0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&T0(n),e===1)t.tag===0?KA(yw.bind(null,t)):pC(yw.bind(null,t)),BA(function(){!(Pe&6)&&es()}),n=null;else{switch(BE(r)){case 1:n=Ey;break;case 4:n=FE;break;case 16:n=ud;break;case 536870912:n=VE;break;default:n=ud}n=fx(n,ox.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ox(t,e){if(Fc=-1,Vc=0,Pe&6)throw Error(V(327));var n=t.callbackNode;if(Do()&&t.callbackNode!==n)return null;var r=cd(t,t===Pt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bd(t,r);else{e=r;var i=Pe;Pe|=2;var s=lx();(Pt!==t||$t!==e)&&(Dr=null,Xo=ut()+500,Is(t,e));do try{pP();break}catch(a){ax(t,a)}while(1);jy(),Td.current=s,Pe=i,mt!==null?e=0:(Pt=null,$t=0,e=Et)}if(e!==0){if(e===2&&(i=Um(t),i!==0&&(r=i,e=fg(t,i))),e===1)throw n=Kl,Is(t,0),Si(t,r),wn(t,ut()),n;if(e===6)Si(t,r);else{if(i=t.current.alternate,!(r&30)&&!hP(i)&&(e=bd(t,r),e===2&&(s=Um(t),s!==0&&(r=s,e=fg(t,s))),e===1))throw n=Kl,Is(t,0),Si(t,r),wn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:hs(t,pn,Dr);break;case 3:if(Si(t,r),(r&130023424)===r&&(e=Yy+500-ut(),10<e)){if(cd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Km(hs.bind(null,t,pn,Dr),e);break}hs(t,pn,Dr);break;case 4:if(Si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-rr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dP(r/1960))-r,10<r){t.timeoutHandle=Km(hs.bind(null,t,pn,Dr),r);break}hs(t,pn,Dr);break;case 5:hs(t,pn,Dr);break;default:throw Error(V(329))}}}return wn(t,ut()),t.callbackNode===n?ox.bind(null,t):null}function fg(t,e){var n=ml;return t.current.memoizedState.isDehydrated&&(Is(t,e).flags|=256),t=bd(t,e),t!==2&&(e=pn,pn=n,e!==null&&pg(e)),t}function pg(t){pn===null?pn=t:pn.push.apply(pn,t)}function hP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(t,e){for(e&=~Qy,e&=~Ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rr(e),r=1<<n;t[n]=-1,e&=~r}}function yw(t){if(Pe&6)throw Error(V(327));Do();var e=cd(t,0);if(!(e&1))return wn(t,ut()),null;var n=bd(t,e);if(t.tag!==0&&n===2){var r=Um(t);r!==0&&(e=r,n=fg(t,r))}if(n===1)throw n=Kl,Is(t,0),Si(t,e),wn(t,ut()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hs(t,pn,Dr),wn(t,ut()),null}function Xy(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Xo=ut()+500,wh&&es())}}function Ms(t){bi!==null&&bi.tag===0&&!(Pe&6)&&Do();var e=Pe;Pe|=1;var n=Un.transition,r=Me;try{if(Un.transition=null,Me=1,t)return t()}finally{Me=r,Un.transition=n,Pe=e,!(Pe&6)&&es()}}function Jy(){En=To.current,Ke(To)}function Is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zA(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(Ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&md();break;case 3:Qo(),Ke(yn),Ke(en),Vy();break;case 5:Fy(r);break;case 4:Qo();break;case 13:Ke(tt);break;case 19:Ke(tt);break;case 10:Dy(r.type._context);break;case 22:case 23:Jy()}n=n.return}if(Pt=t,mt=t=$i(t.current,null),$t=En=e,Et=0,Kl=null,Qy=Ch=Ds=0,pn=ml=null,ys!==null){for(e=0;e<ys.length;e++)if(n=ys[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ys=null}return t}function ax(t,e){do{var n=mt;try{if(jy(),Mc.current=xd,Cd){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cd=!1}if(js=0,Rt=_t=nt=null,fl=!1,Hl=0,Gy.current=null,n===null||n.return===null){Et=1,Kl=e,mt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=iw(o);if(g!==null){g.flags&=-257,sw(g,o,a,s,e),g.mode&1&&rw(s,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var p=new Set;p.add(l),e.updateQueue=p}else v.add(l);break e}else{if(!(e&1)){rw(s,u,e),Zy();break e}l=Error(V(426))}}else if(Ye&&a.mode&1){var S=iw(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),sw(S,o,a,s,e),Ny(Yo(l,a));break e}}s=l=Yo(l,a),Et!==4&&(Et=2),ml===null?ml=[s]:ml.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=HC(s,l,e);Y0(s,y);break e;case 1:a=l;var m=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Di===null||!Di.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=qC(s,a,e);Y0(s,_);break e}}s=s.return}while(s!==null)}cx(n)}catch(E){e=E,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(1)}function lx(){var t=Td.current;return Td.current=xd,t===null?xd:t}function Zy(){(Et===0||Et===3||Et===2)&&(Et=4),Pt===null||!(Ds&268435455)&&!(Ch&268435455)||Si(Pt,$t)}function bd(t,e){var n=Pe;Pe|=2;var r=lx();(Pt!==t||$t!==e)&&(Dr=null,Is(t,e));do try{fP();break}catch(i){ax(t,i)}while(1);if(jy(),Pe=n,Td.current=r,mt!==null)throw Error(V(261));return Pt=null,$t=0,Et}function fP(){for(;mt!==null;)ux(mt)}function pP(){for(;mt!==null&&!UR();)ux(mt)}function ux(t){var e=hx(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?cx(t):mt=e,Gy.current=null}function cx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aP(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,mt=null;return}}else if(n=oP(n,e,En),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);Et===0&&(Et=5)}function hs(t,e,n){var r=Me,i=Un.transition;try{Un.transition=null,Me=1,mP(t,e,n,r)}finally{Un.transition=i,Me=r}return null}function mP(t,e,n,r){do Do();while(bi!==null);if(Pe&6)throw Error(V(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QR(t,s),t===Pt&&(mt=Pt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gc||(gc=!0,fx(ud,function(){return Do(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Un.transition,Un.transition=null;var o=Me;Me=1;var a=Pe;Pe|=4,Gy.current=null,uP(t,n),ix(n,t),jA(qm),dd=!!Hm,qm=Hm=null,t.current=n,cP(n),FR(),Pe=a,Me=o,Un.transition=s}else t.current=n;if(gc&&(gc=!1,bi=t,Id=i),s=t.pendingLanes,s===0&&(Di=null),BR(n.stateNode),wn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kd)throw kd=!1,t=dg,dg=null,t;return Id&1&&t.tag!==0&&Do(),s=t.pendingLanes,s&1?t===hg?gl++:(gl=0,hg=t):gl=0,es(),null}function Do(){if(bi!==null){var t=BE(Id),e=Un.transition,n=Me;try{if(Un.transition=null,Me=16>t?16:t,bi===null)var r=!1;else{if(t=bi,bi=null,Id=0,Pe&6)throw Error(V(331));var i=Pe;for(Pe|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:pl(8,c,s)}var h=c.child;if(h!==null)h.return=c,Y=h;else for(;Y!==null;){c=Y;var f=c.sibling,g=c.return;if(tx(c),c===u){Y=null;break}if(f!==null){f.return=g,Y=f;break}Y=g}}}var v=s.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var S=p.sibling;p.sibling=null,p=S}while(p!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Y=y;break e}Y=s.return}}var m=t.current;for(Y=m;Y!==null;){o=Y;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Y=w;else e:for(o=m;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Eh(9,a)}}catch(E){st(a,a.return,E)}if(a===o){Y=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Y=_;break e}Y=a.return}}if(Pe=i,es(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(ph,t)}catch{}r=!0}return r}finally{Me=n,Un.transition=e}}return!1}function vw(t,e,n){e=Yo(n,e),e=HC(t,e,1),t=ji(t,e,1),e=un(),t!==null&&(yu(t,1,e),wn(t,e))}function st(t,e,n){if(t.tag===3)vw(t,t,n);else for(;e!==null;){if(e.tag===3){vw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Di===null||!Di.has(r))){t=Yo(n,t),t=qC(e,t,1),e=ji(e,t,1),t=un(),e!==null&&(yu(e,1,t),wn(e,t));break}}e=e.return}}function gP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&($t&n)===n&&(Et===4||Et===3&&($t&130023424)===$t&&500>ut()-Yy?Is(t,0):Qy|=n),wn(t,e)}function dx(t,e){e===0&&(t.mode&1?(e=oc,oc<<=1,!(oc&130023424)&&(oc=4194304)):e=1);var n=un();t=ti(t,e),t!==null&&(yu(t,e,n),wn(t,n))}function yP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dx(t,n)}function vP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),dx(t,n)}var hx;hx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,sP(t,e,n);gn=!!(t.flags&131072)}else gn=!1,Ye&&e.flags&1048576&&mC(e,vd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uc(t,e),t=e.pendingProps;var i=Wo(e,en.current);jo(e,n),i=By(null,e,r,t,i,n);var s=Hy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(r)?(s=!0,gd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$y(e),i.updater=_h,e.stateNode=i,i._reactInternals=e,eg(e,r,t,n),e=rg(null,e,r,!0,s,n)):(e.tag=0,Ye&&s&&Py(e),on(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_P(r),t=Jn(r,t),i){case 0:e=ng(null,e,r,t,n);break e;case 1:e=lw(null,e,r,t,n);break e;case 11:e=ow(null,e,r,t,n);break e;case 14:e=aw(null,e,r,Jn(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),ng(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),lw(t,e,r,i,n);case 3:e:{if(QC(e),t===null)throw Error(V(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wC(t,e),Sd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yo(Error(V(423)),e),e=uw(t,e,r,n,i);break e}else if(r!==i){i=Yo(Error(V(424)),e),e=uw(t,e,r,n,i);break e}else for(Cn=Oi(e.stateNode.containerInfo.firstChild),Tn=e,Ye=!0,er=null,n=CC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ko(),r===i){e=ni(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return xC(e),t===null&&Xm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wm(r,i)?o=null:s!==null&&Wm(r,s)&&(e.flags|=32),GC(t,e),on(t,e,o,n),e.child;case 6:return t===null&&Xm(e),null;case 13:return YC(t,e,n);case 4:return Uy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Go(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),ow(t,e,r,i,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be(wd,r._currentValue),r._currentValue=o,s!==null)if(or(s.value,o)){if(s.children===i.children&&!yn.current){e=ni(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Gr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Jm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}on(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,jo(e,n),i=zn(i),r=r(i),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,i=Jn(r,e.pendingProps),i=Jn(r.type,i),aw(t,e,r,i,n);case 15:return WC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),Uc(t,e),e.tag=1,vn(r)?(t=!0,gd(e)):t=!1,jo(e,n),SC(e,r,i),eg(e,r,i,n),rg(null,e,r,!0,t,n);case 19:return XC(t,e,n);case 22:return KC(t,e,n)}throw Error(V(156,e.tag))};function fx(t,e){return UE(t,e)}function wP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,n,r){return new wP(t,e,n,r)}function ev(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _P(t){if(typeof t=="function")return ev(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wy)return 11;if(t===_y)return 14}return 2}function $i(t,e){var n=t.alternate;return n===null?(n=$n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ev(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case mo:return bs(n.children,i,s,e);case vy:o=8,i|=8;break;case xm:return t=$n(12,n,e,i|2),t.elementType=xm,t.lanes=s,t;case Tm:return t=$n(13,n,e,i),t.elementType=Tm,t.lanes=s,t;case km:return t=$n(19,n,e,i),t.elementType=km,t.lanes=s,t;case EE:return xh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _E:o=10;break e;case SE:o=9;break e;case wy:o=11;break e;case _y:o=14;break e;case vi:o=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=$n(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function bs(t,e,n,r){return t=$n(7,t,r,e),t.lanes=n,t}function xh(t,e,n,r){return t=$n(22,t,r,e),t.elementType=EE,t.lanes=n,t.stateNode={isHidden:!1},t}function yp(t,e,n){return t=$n(6,t,null,e),t.lanes=n,t}function vp(t,e,n){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jf(0),this.expirationTimes=Jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tv(t,e,n,r,i,s,o,a,l){return t=new SP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$n(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$y(s),t}function EP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function px(t){if(!t)return Wi;t=t._reactInternals;e:{if(Ys(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(vn(n))return fC(t,n,e)}return e}function mx(t,e,n,r,i,s,o,a,l){return t=tv(n,r,!0,t,i,s,o,a,l),t.context=px(null),n=t.current,r=un(),i=Mi(n),s=Gr(r,i),s.callback=e??null,ji(n,s,i),t.current.lanes=i,yu(t,i,r),wn(t,r),t}function Th(t,e,n,r){var i=e.current,s=un(),o=Mi(i);return n=px(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ji(i,e,o),t!==null&&(ir(t,i,o,s),Dc(t,i,o)),o}function Rd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ww(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nv(t,e){ww(t,e),(t=t.alternate)&&ww(t,e)}function CP(){return null}var gx=typeof reportError=="function"?reportError:function(t){console.error(t)};function rv(t){this._internalRoot=t}kh.prototype.render=rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));Th(t,e,null,null)};kh.prototype.unmount=rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ms(function(){Th(null,t,null,null)}),e[ei]=null}};function kh(t){this._internalRoot=t}kh.prototype.unstable_scheduleHydration=function(t){if(t){var e=WE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_i.length&&e!==0&&e<_i[n].priority;n++);_i.splice(n,0,t),n===0&&GE(t)}};function iv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _w(){}function xP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rd(o);s.call(u)}}var o=mx(e,r,t,0,null,!1,!1,"",_w);return t._reactRootContainer=o,t[ei]=o.current,Ul(t.nodeType===8?t.parentNode:t),Ms(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Rd(l);a.call(u)}}var l=tv(t,0,!1,null,null,!1,!1,"",_w);return t._reactRootContainer=l,t[ei]=l.current,Ul(t.nodeType===8?t.parentNode:t),Ms(function(){Th(e,l,n,r)}),l}function bh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Rd(o);a.call(l)}}Th(e,o,t,i)}else o=xP(n,e,t,i,r);return Rd(o)}HE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Za(e.pendingLanes);n!==0&&(Cy(e,n|1),wn(e,ut()),!(Pe&6)&&(Xo=ut()+500,es()))}break;case 13:Ms(function(){var r=ti(t,1);if(r!==null){var i=un();ir(r,t,1,i)}}),nv(t,1)}};xy=function(t){if(t.tag===13){var e=ti(t,134217728);if(e!==null){var n=un();ir(e,t,134217728,n)}nv(t,134217728)}};qE=function(t){if(t.tag===13){var e=Mi(t),n=ti(t,e);if(n!==null){var r=un();ir(n,t,e,r)}nv(t,e)}};WE=function(){return Me};KE=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Dm=function(t,e,n){switch(e){case"input":if(Rm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vh(r);if(!i)throw Error(V(90));xE(r),Rm(r,i)}}}break;case"textarea":kE(t,n);break;case"select":e=n.value,e!=null&&Po(t,!!n.multiple,e,!1)}};NE=Xy;OE=Ms;var TP={usingClientEntryPoint:!1,Events:[wu,wo,vh,PE,LE,Xy]},Ua={findFiberByHostInstance:gs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kP={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ME(t),t===null?null:t.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||CP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{ph=yc.inject(kP),Er=yc}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TP;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iv(e))throw Error(V(200));return EP(t,e,null,n)};An.createRoot=function(t,e){if(!iv(t))throw Error(V(299));var n=!1,r="",i=gx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tv(t,1,!1,null,null,n,!1,r,i),t[ei]=e.current,Ul(t.nodeType===8?t.parentNode:t),new rv(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=ME(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return Ms(t)};An.hydrate=function(t,e,n){if(!Ih(e))throw Error(V(200));return bh(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!iv(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mx(e,null,t,1,n??null,i,!1,s,o),t[ei]=e.current,Ul(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new kh(e)};An.render=function(t,e,n){if(!Ih(e))throw Error(V(200));return bh(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!Ih(t))throw Error(V(40));return t._reactRootContainer?(Ms(function(){bh(null,null,t,!1,function(){t._reactRootContainer=null,t[ei]=null})}),!0):!1};An.unstable_batchedUpdates=Xy;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ih(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return bh(t,e,n,!1,r)};An.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=An})(CR);const IP=lE(Al);var yx,Sw=Al;yx=Sw.createRoot,Sw.hydrateRoot;var mg={},bP={get exports(){return mg},set exports(t){mg=t}},vx={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jo=x;function RP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var AP=typeof Object.is=="function"?Object.is:RP,PP=Jo.useState,LP=Jo.useEffect,NP=Jo.useLayoutEffect,OP=Jo.useDebugValue;function jP(t,e){var n=e(),r=PP({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return NP(function(){i.value=n,i.getSnapshot=e,wp(i)&&s({inst:i})},[t,n,e]),LP(function(){return wp(i)&&s({inst:i}),t(function(){wp(i)&&s({inst:i})})},[t]),OP(n),n}function wp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!AP(t,n)}catch{return!0}}function DP(t,e){return e()}var MP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DP:jP;vx.useSyncExternalStore=Jo.useSyncExternalStore!==void 0?Jo.useSyncExternalStore:MP;(function(t){t.exports=vx})(bP);var gg={},$P={get exports(){return gg},set exports(t){gg=t}},wx={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=x,UP=mg;function FP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var VP=typeof Object.is=="function"?Object.is:FP,zP=UP.useSyncExternalStore,BP=Rh.useRef,HP=Rh.useEffect,qP=Rh.useMemo,WP=Rh.useDebugValue;wx.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=BP(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=qP(function(){function l(g){if(!u){if(u=!0,c=g,g=r(g),i!==void 0&&o.hasValue){var v=o.value;if(i(v,g))return h=v}return h=g}if(v=h,VP(c,g))return v;var p=r(g);return i!==void 0&&i(v,p)?v:(c=g,h=p)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=zP(t,s[0],s[1]);return HP(function(){o.hasValue=!0,o.value=a},[a]),WP(a),a};(function(t){t.exports=wx})($P);function KP(t){t()}let _x=KP;const GP=t=>_x=t,QP=()=>_x,Ki=x.createContext(null);function Sx(){return x.useContext(Ki)}const YP=()=>{throw new Error("uSES not initialized!")};let Ex=YP;const XP=t=>{Ex=t},JP=(t,e)=>t===e;function ZP(t=Ki){const e=t===Ki?Sx:()=>x.useContext(t);return function(r,i=JP){const{store:s,subscription:o,getServerState:a}=e(),l=Ex(o.addNestedSub,s.getState,a||s.getState,r,i);return x.useDebugValue(l),l}}const eL=ZP();var yg={},tL={get exports(){return yg},set exports(t){yg=t}},$e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=typeof Symbol=="function"&&Symbol.for,sv=Nt?Symbol.for("react.element"):60103,ov=Nt?Symbol.for("react.portal"):60106,Ah=Nt?Symbol.for("react.fragment"):60107,Ph=Nt?Symbol.for("react.strict_mode"):60108,Lh=Nt?Symbol.for("react.profiler"):60114,Nh=Nt?Symbol.for("react.provider"):60109,Oh=Nt?Symbol.for("react.context"):60110,av=Nt?Symbol.for("react.async_mode"):60111,jh=Nt?Symbol.for("react.concurrent_mode"):60111,Dh=Nt?Symbol.for("react.forward_ref"):60112,Mh=Nt?Symbol.for("react.suspense"):60113,nL=Nt?Symbol.for("react.suspense_list"):60120,$h=Nt?Symbol.for("react.memo"):60115,Uh=Nt?Symbol.for("react.lazy"):60116,rL=Nt?Symbol.for("react.block"):60121,iL=Nt?Symbol.for("react.fundamental"):60117,sL=Nt?Symbol.for("react.responder"):60118,oL=Nt?Symbol.for("react.scope"):60119;function Ln(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sv:switch(t=t.type,t){case av:case jh:case Ah:case Lh:case Ph:case Mh:return t;default:switch(t=t&&t.$$typeof,t){case Oh:case Dh:case Uh:case $h:case Nh:return t;default:return e}}case ov:return e}}}function Cx(t){return Ln(t)===jh}$e.AsyncMode=av;$e.ConcurrentMode=jh;$e.ContextConsumer=Oh;$e.ContextProvider=Nh;$e.Element=sv;$e.ForwardRef=Dh;$e.Fragment=Ah;$e.Lazy=Uh;$e.Memo=$h;$e.Portal=ov;$e.Profiler=Lh;$e.StrictMode=Ph;$e.Suspense=Mh;$e.isAsyncMode=function(t){return Cx(t)||Ln(t)===av};$e.isConcurrentMode=Cx;$e.isContextConsumer=function(t){return Ln(t)===Oh};$e.isContextProvider=function(t){return Ln(t)===Nh};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sv};$e.isForwardRef=function(t){return Ln(t)===Dh};$e.isFragment=function(t){return Ln(t)===Ah};$e.isLazy=function(t){return Ln(t)===Uh};$e.isMemo=function(t){return Ln(t)===$h};$e.isPortal=function(t){return Ln(t)===ov};$e.isProfiler=function(t){return Ln(t)===Lh};$e.isStrictMode=function(t){return Ln(t)===Ph};$e.isSuspense=function(t){return Ln(t)===Mh};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ah||t===jh||t===Lh||t===Ph||t===Mh||t===nL||typeof t=="object"&&t!==null&&(t.$$typeof===Uh||t.$$typeof===$h||t.$$typeof===Nh||t.$$typeof===Oh||t.$$typeof===Dh||t.$$typeof===iL||t.$$typeof===sL||t.$$typeof===oL||t.$$typeof===rL)};$e.typeOf=Ln;(function(t){t.exports=$e})(tL);var xx=yg,aL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Tx={};Tx[xx.ForwardRef]=aL;Tx[xx.Memo]=lL;var Ew={},uL={get exports(){return Ew},set exports(t){Ew=t}},Ue={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=Symbol.for("react.element"),uv=Symbol.for("react.portal"),Fh=Symbol.for("react.fragment"),Vh=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),Bh=Symbol.for("react.provider"),Hh=Symbol.for("react.context"),cL=Symbol.for("react.server_context"),qh=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),Kh=Symbol.for("react.suspense_list"),Gh=Symbol.for("react.memo"),Qh=Symbol.for("react.lazy"),dL=Symbol.for("react.offscreen"),kx;kx=Symbol.for("react.module.reference");function Wn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lv:switch(t=t.type,t){case Fh:case zh:case Vh:case Wh:case Kh:return t;default:switch(t=t&&t.$$typeof,t){case cL:case Hh:case qh:case Qh:case Gh:case Bh:return t;default:return e}}case uv:return e}}}Ue.ContextConsumer=Hh;Ue.ContextProvider=Bh;Ue.Element=lv;Ue.ForwardRef=qh;Ue.Fragment=Fh;Ue.Lazy=Qh;Ue.Memo=Gh;Ue.Portal=uv;Ue.Profiler=zh;Ue.StrictMode=Vh;Ue.Suspense=Wh;Ue.SuspenseList=Kh;Ue.isAsyncMode=function(){return!1};Ue.isConcurrentMode=function(){return!1};Ue.isContextConsumer=function(t){return Wn(t)===Hh};Ue.isContextProvider=function(t){return Wn(t)===Bh};Ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lv};Ue.isForwardRef=function(t){return Wn(t)===qh};Ue.isFragment=function(t){return Wn(t)===Fh};Ue.isLazy=function(t){return Wn(t)===Qh};Ue.isMemo=function(t){return Wn(t)===Gh};Ue.isPortal=function(t){return Wn(t)===uv};Ue.isProfiler=function(t){return Wn(t)===zh};Ue.isStrictMode=function(t){return Wn(t)===Vh};Ue.isSuspense=function(t){return Wn(t)===Wh};Ue.isSuspenseList=function(t){return Wn(t)===Kh};Ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Fh||t===zh||t===Vh||t===Wh||t===Kh||t===dL||typeof t=="object"&&t!==null&&(t.$$typeof===Qh||t.$$typeof===Gh||t.$$typeof===Bh||t.$$typeof===Hh||t.$$typeof===qh||t.$$typeof===kx||t.getModuleId!==void 0)};Ue.typeOf=Wn;(function(t){t.exports=Ue})(uL);function hL(){const t=QP();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const Cw={notify(){},get:()=>[]};function fL(t,e){let n,r=Cw;function i(h){return l(),r.subscribe(h)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=hL())}function u(){n&&(n(),n=void 0,r.clear(),r=Cw)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const pL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mL=pL?x.useLayoutEffect:x.useEffect;function gL({store:t,context:e,children:n,serverState:r}){const i=x.useMemo(()=>{const a=fL(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=x.useMemo(()=>t.getState(),[t]);mL(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||Ki;return Vr.createElement(o.Provider,{value:i},n)}function Ix(t=Ki){const e=t===Ki?Sx:()=>x.useContext(t);return function(){const{store:r}=e();return r}}const yL=Ix();function vL(t=Ki){const e=t===Ki?yL:Ix(t);return function(){return e().dispatch}}const wL=vL();XP(gg.useSyncExternalStoreWithSelector);GP(Al.unstable_batchedUpdates);function Bc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bc=function(n){return typeof n}:Bc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bc(t)}function _L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SL(t,e,n){return e&&xw(t.prototype,e),n&&xw(t,n),t}function EL(t,e){return e&&(Bc(e)==="object"||typeof e=="function")?e:Hc(t)}function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vg(t)}function Hc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wg(t,e)}function wg(t,e){return wg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},wg(t,e)}function qc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bx=function(t){CL(e,t);function e(){var n,r;_L(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=EL(this,(n=vg(e)).call.apply(n,[this].concat(s))),qc(Hc(r),"state",{bootstrapped:!1}),qc(Hc(r),"_unsubscribe",void 0),qc(Hc(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return SL(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(x.PureComponent);qc(bx,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ae(){return Ae=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ae.apply(this,arguments)}var lt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lt||(lt={}));const Tw="popstate";function xL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Gl("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ri(i)}return kL(e,n,null,t)}function ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TL(){return Math.random().toString(36).substr(2,8)}function kw(t,e){return{usr:t.state,key:t.key,idx:e}}function Gl(t,e,n,r){return n===void 0&&(n=null),Ae({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?di(e):e,{state:n,key:e&&e.key||r||TL()})}function ri(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function di(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=lt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ae({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=lt.Pop;let S=c(),y=S==null?null:S-u;u=S,l&&l({action:a,location:p.location,delta:y})}function f(S,y){a=lt.Push;let m=Gl(p.location,S,y);n&&n(m,S),u=c()+1;let w=kw(m,u),_=p.createHref(m);try{o.pushState(w,"",_)}catch{i.location.assign(_)}s&&l&&l({action:a,location:p.location,delta:1})}function g(S,y){a=lt.Replace;let m=Gl(p.location,S,y);n&&n(m,S),u=c();let w=kw(m,u),_=p.createHref(m);o.replaceState(w,"",_),s&&l&&l({action:a,location:p.location,delta:0})}function v(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof S=="string"?S:ri(S);return ve(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let p={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tw,h),l=S,()=>{i.removeEventListener(Tw,h),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(S){return o.go(S)}};return p}var wt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wt||(wt={}));const IL=new Set(["lazy","caseSensitive","path","id","index","children"]);function bL(t){return t.index===!0}function Rx(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(ve(i.index!==!0||!i.children,"Cannot specify children on an index route"),ve(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),bL(i)){let l=Ae({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=Ae({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=Rx(i.children,e,o,r)),l}})}function ko(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?di(e):e,i=Su(r.pathname||"/",n);if(i==null)return null;let s=Ax(t);RL(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=$L(s[a],FL(i));return o}function Ax(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ve(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Qr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ax(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:DL(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Px(s.path))i(s,o,l)}),e}function Px(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Px(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function RL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ML(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AL=/^:\w+$/,PL=3,LL=2,NL=1,OL=10,jL=-2,Iw=t=>t==="*";function DL(t,e){let n=t.split("/"),r=n.length;return n.some(Iw)&&(r+=jL),e&&(r+=LL),n.filter(i=>!Iw(i)).reduce((i,s)=>i+(AL.test(s)?PL:s===""?NL:OL),r)}function ML(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $L(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Ri({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Qr([i,c.pathname]),pathnameBase:HL(Qr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Qr([i,c.pathnameBase]))}return s}function Ri(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=VL(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function UL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FL(t){try{return decodeURI(t)}catch(e){return Zo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function VL(t,e){try{return decodeURIComponent(t)}catch(n){return Zo(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Su(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?di(t):t;return{pathname:n?n.startsWith("/")?n:BL(n,e):e,search:qL(r),hash:WL(i)}}function BL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _p(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=di(t):(i=Ae({},t),ve(!i.pathname||!i.pathname.includes("?"),_p("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),_p("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),_p("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=zL(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Qr=t=>t.join("/").replace(/\/\/+/g,"/"),HL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class bw extends Error{}class KL{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],ve(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((s,o)=>r=o),this.controller=new AbortController;let i=()=>r(new bw("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((s,o)=>{let[a,l]=o;return Object.assign(s,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof bw?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return ve(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:QL(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function GL(t){return t instanceof Promise&&t._tracked===!0}function QL(t){if(!GL(t))return t;if(t._error)throw t._error;return t._data}class dv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Io(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lx=["post","put","patch","delete"],YL=new Set(Lx),XL=["get",...Lx],JL=new Set(XL),ZL=new Set([301,302,303,307,308]),eN=new Set([307,308]),Sp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},tN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Rw={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Nx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ox=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nN=!Ox,rN=t=>!!t.hasErrorBoundary;function iN(t){ve(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||rN,n={},r=Rx(t.routes,e,void 0,n),i,s=null,o=new Set,a=null,l=null,u=null,c=t.hydrationData!=null,h=ko(r,t.history.location,t.basename),f=null;if(h==null){let P=gr(404,{pathname:t.history.location.pathname}),{matches:N,route:D}=jw(r);h=N,f={[D.id]:P}}let g=!h.some(P=>P.route.lazy)&&(!h.some(P=>P.route.loader)||t.hydrationData!=null),v,p={historyAction:t.history.action,location:t.history.location,matches:h,initialized:g,navigation:Sp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},S=lt.Pop,y=!1,m,w=!1,_=!1,E=[],T=[],k=new Map,L=0,A=-1,O=new Map,W=new Set,M=new Map,$=new Map,le=new Map,Re=!1;function Fe(){if(s=t.history.listen(D=>{let{action:J,location:ee,delta:ue}=D;if(Re){Re=!1;return}Zo(le.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=q({currentLocation:p.location,nextLocation:ee,historyAction:J});if(se&&ue!=null){Re=!0,t.history.go(ue*-1),b(se,{state:"blocked",location:ee,proceed(){b(se,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),t.history.go(ue)},reset(){j(se),G({blockers:new Map(v.state.blockers)})}});return}return yt(J,ee)}),p.initialized)return v;let P=p.matches.filter(D=>D.route.lazy);if(P.length===0)return yt(lt.Pop,p.location),v;let N=P.map(D=>_g(D.route,e,n));return Promise.all(N).then(()=>{!p.matches.some(J=>J.route.loader)||t.hydrationData!=null?G({initialized:!0}):yt(lt.Pop,p.location)}),v}function dt(){s&&s(),o.clear(),m&&m.abort(),p.fetchers.forEach((P,N)=>fe(N)),p.blockers.forEach((P,N)=>j(N))}function H(P){return o.add(P),()=>o.delete(P)}function G(P){p=Ae({},p,P),o.forEach(N=>N(p))}function ie(P,N){var D,J;let ee=p.actionData!=null&&p.navigation.formMethod!=null&&Mr(p.navigation.formMethod)&&p.navigation.state==="loading"&&((D=P.state)==null?void 0:D._isRedirect)!==!0,ue;N.actionData?Object.keys(N.actionData).length>0?ue=N.actionData:ue=null:ee?ue=p.actionData:ue=null;let se=N.loaderData?Ow(p.loaderData,N.loaderData,N.matches||[],N.errors):p.loaderData;for(let[ne]of le)j(ne);let Se=y===!0||p.navigation.formMethod!=null&&Mr(p.navigation.formMethod)&&((J=P.state)==null?void 0:J._isRedirect)!==!0;i&&(r=i,i=void 0),G(Ae({},N,{actionData:ue,loaderData:se,historyAction:S,location:P,initialized:!0,navigation:Sp,revalidation:"idle",restoreScrollPosition:Xu(P,N.matches||p.matches),preventScrollReset:Se,blockers:new Map(p.blockers)})),w||S===lt.Pop||(S===lt.Push?t.history.push(P,P.state):S===lt.Replace&&t.history.replace(P,P.state)),S=lt.Pop,y=!1,w=!1,_=!1,E=[],T=[]}async function Le(P,N){if(typeof P=="number"){t.history.go(P);return}let{path:D,submission:J,error:ee}=Aw(P,N),ue=p.location,se=Gl(p.location,D,N&&N.state);se=Ae({},se,t.history.encodeLocation(se));let Se=N&&N.replace!=null?N.replace:void 0,ne=lt.Push;Se===!0?ne=lt.Replace:Se===!1||J!=null&&Mr(J.formMethod)&&J.formAction===p.location.pathname+p.location.search&&(ne=lt.Replace);let zt=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,Ne=q({currentLocation:ue,nextLocation:se,historyAction:ne});if(Ne){b(Ne,{state:"blocked",location:se,proceed(){b(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Le(P,N)},reset(){j(Ne),G({blockers:new Map(p.blockers)})}});return}return await yt(ne,se,{submission:J,pendingError:ee,preventScrollReset:zt,replace:N&&N.replace})}function Ve(){if(ye(),G({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){yt(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}yt(S||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function yt(P,N,D){m&&m.abort(),m=null,S=P,w=(D&&D.startUninterruptedRevalidation)===!0,mi(p.location,p.matches),y=(D&&D.preventScrollReset)===!0;let J=i||r,ee=D&&D.overrideNavigation,ue=ko(J,N,t.basename);if(!ue){let at=gr(404,{pathname:N.pathname}),{matches:hr,route:Qn}=jw(J);Ce(),ie(N,{matches:hr,loaderData:{},errors:{[Qn.id]:at}});return}if(uN(p.location,N)&&!(D&&D.submission&&Mr(D.submission.formMethod))){ie(N,{matches:ue});return}m=new AbortController;let se=Va(t.history,N,m.signal,D&&D.submission),Se,ne;if(D&&D.pendingError)ne={[bo(ue).route.id]:D.pendingError};else if(D&&D.submission&&Mr(D.submission.formMethod)){let at=await It(se,N,D.submission,ue,{replace:D.replace});if(at.shortCircuited)return;Se=at.pendingActionData,ne=at.pendingActionError,ee=Ae({state:"loading",location:N},D.submission),se=new Request(se.url,{signal:se.signal})}let{shortCircuited:zt,loaderData:Ne,errors:rn}=await Gn(se,N,ue,ee,D&&D.submission,D&&D.replace,Se,ne);zt||(m=null,ie(N,Ae({matches:ue},Se?{actionData:Se}:{},{loaderData:Ne,errors:rn})))}async function It(P,N,D,J,ee){ye();let ue=Ae({state:"submitting",location:N},D);G({navigation:ue});let se,Se=Sg(J,N);if(!Se.route.action&&!Se.route.lazy)se={type:wt.error,error:gr(405,{method:P.method,pathname:N.pathname,routeId:Se.route.id})};else if(se=await Fa("action",P,Se,J,n,e,v.basename),P.signal.aborted)return{shortCircuited:!0};if(Mo(se)){let ne;return ee&&ee.replace!=null?ne=ee.replace:ne=se.location===p.location.pathname+p.location.search,await F(p,se,{submission:D,replace:ne}),{shortCircuited:!0}}if(yl(se)){let ne=bo(J,Se.route.id);return(ee&&ee.replace)!==!0&&(S=lt.Push),{pendingActionData:{},pendingActionError:{[ne.route.id]:se.error}}}if(ws(se))throw gr(400,{type:"defer-action"});return{pendingActionData:{[Se.route.id]:se.data}}}async function Gn(P,N,D,J,ee,ue,se,Se){let ne=J;ne||(ne=Ae({state:"loading",location:N,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ee));let zt=ee||(ne.formMethod&&ne.formAction&&ne.formData&&ne.formEncType?{formMethod:ne.formMethod,formAction:ne.formAction,formData:ne.formData,formEncType:ne.formEncType}:void 0),Ne=i||r,[rn,at]=Pw(t.history,p,D,zt,N,_,E,T,M,Ne,t.basename,se,Se);if(Ce(Bt=>!(D&&D.some(fr=>fr.route.id===Bt))||rn&&rn.some(fr=>fr.route.id===Bt)),rn.length===0&&at.length===0)return ie(N,Ae({matches:D,loaderData:{},errors:Se||null},se?{actionData:se}:{})),{shortCircuited:!0};if(!w){at.forEach(fr=>{let as=p.fetchers.get(fr.key),ec={state:"loading",data:as&&as.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(fr.key,ec)});let Bt=se||p.actionData;G(Ae({navigation:ne},Bt?Object.keys(Bt).length===0?{actionData:null}:{actionData:Bt}:{},at.length>0?{fetchers:new Map(p.fetchers)}:{}))}A=++L,at.forEach(Bt=>k.set(Bt.key,m));let{results:hr,loaderResults:Qn,fetcherResults:Pa}=await Q(p.matches,D,rn,at,P);if(P.signal.aborted)return{shortCircuited:!0};at.forEach(Bt=>k.delete(Bt.key));let Ju=Dw(hr);if(Ju)return await F(p,Ju,{replace:ue}),{shortCircuited:!0};let{loaderData:Zu,errors:so}=Nw(p,D,rn,Qn,Se,at,Pa,$);$.forEach((Bt,fr)=>{Bt.subscribe(as=>{(as||Bt.done)&&$.delete(fr)})}),I();let Bf=R(A);return Ae({loaderData:Zu,errors:so},Bf||at.length>0?{fetchers:new Map(p.fetchers)}:{})}function qe(P){return p.fetchers.get(P)||tN}function vt(P,N,D,J){if(nN)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");k.has(P)&&Ee(P);let ue=ko(i||r,D,t.basename);if(!ue){_e(P,N,gr(404,{pathname:D}));return}let{path:se,submission:Se}=Aw(D,J,!0),ne=Sg(ue,se);if(y=(J&&J.preventScrollReset)===!0,Se&&Mr(Se.formMethod)){fi(P,N,se,ne,ue,Se);return}M.set(P,{routeId:N,path:se}),pi(P,N,se,ne,ue,Se)}async function fi(P,N,D,J,ee,ue){if(ye(),M.delete(P),!J.route.action&&!J.route.lazy){let Lr=gr(405,{method:ue.formMethod,pathname:D,routeId:N});_e(P,N,Lr);return}let se=p.fetchers.get(P),Se=Ae({state:"submitting"},ue,{data:se&&se.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(P,Se),G({fetchers:new Map(p.fetchers)});let ne=new AbortController,zt=Va(t.history,D,ne.signal,ue);k.set(P,ne);let Ne=await Fa("action",zt,J,ee,n,e,v.basename);if(zt.signal.aborted){k.get(P)===ne&&k.delete(P);return}if(Mo(Ne)){k.delete(P),W.add(P);let Lr=Ae({state:"loading"},ue,{data:void 0," _hasFetcherDoneAnything ":!0});return p.fetchers.set(P,Lr),G({fetchers:new Map(p.fetchers)}),F(p,Ne,{isFetchActionRedirect:!0})}if(yl(Ne)){_e(P,N,Ne.error);return}if(ws(Ne))throw gr(400,{type:"defer-action"});let rn=p.navigation.location||p.location,at=Va(t.history,rn,ne.signal),hr=i||r,Qn=p.navigation.state!=="idle"?ko(hr,p.navigation.location,t.basename):p.matches;ve(Qn,"Didn't find any matches after fetcher action");let Pa=++L;O.set(P,Pa);let Ju=Ae({state:"loading",data:Ne.data},ue,{" _hasFetcherDoneAnything ":!0});p.fetchers.set(P,Ju);let[Zu,so]=Pw(t.history,p,Qn,ue,rn,_,E,T,M,hr,t.basename,{[J.route.id]:Ne.data},void 0);so.filter(Lr=>Lr.key!==P).forEach(Lr=>{let qf=Lr.key,h0=p.fetchers.get(qf),M2={state:"loading",data:h0&&h0.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(qf,M2),k.set(qf,ne)}),G({fetchers:new Map(p.fetchers)});let{results:Bf,loaderResults:Bt,fetcherResults:fr}=await Q(p.matches,Qn,Zu,so,at);if(ne.signal.aborted)return;O.delete(P),k.delete(P),so.forEach(Lr=>k.delete(Lr.key));let as=Dw(Bf);if(as)return F(p,as);let{loaderData:ec,errors:Hf}=Nw(p,p.matches,Zu,Bt,void 0,so,fr,$),j2={state:"idle",data:Ne.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(P,j2);let D2=R(Pa);p.navigation.state==="loading"&&Pa>A?(ve(S,"Expected pending action"),m&&m.abort(),ie(p.navigation.location,{matches:Qn,loaderData:ec,errors:Hf,fetchers:new Map(p.fetchers)})):(G(Ae({errors:Hf,loaderData:Ow(p.loaderData,ec,Qn,Hf)},D2?{fetchers:new Map(p.fetchers)}:{})),_=!1)}async function pi(P,N,D,J,ee,ue){let se=p.fetchers.get(P),Se=Ae({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ue,{data:se&&se.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(P,Se),G({fetchers:new Map(p.fetchers)});let ne=new AbortController,zt=Va(t.history,D,ne.signal);k.set(P,ne);let Ne=await Fa("loader",zt,J,ee,n,e,v.basename);if(ws(Ne)&&(Ne=await $x(Ne,zt.signal,!0)||Ne),k.get(P)===ne&&k.delete(P),zt.signal.aborted)return;if(Mo(Ne)){await F(p,Ne);return}if(yl(Ne)){let at=bo(p.matches,N);p.fetchers.delete(P),G({fetchers:new Map(p.fetchers),errors:{[at.route.id]:Ne.error}});return}ve(!ws(Ne),"Unhandled fetcher deferred data");let rn={state:"idle",data:Ne.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(P,rn),G({fetchers:new Map(p.fetchers)})}async function F(P,N,D){var J;let{submission:ee,replace:ue,isFetchActionRedirect:se}=D===void 0?{}:D;N.revalidate&&(_=!0);let Se=Gl(P.location,N.location,Ae({_isRedirect:!0},se?{_isFetchActionRedirect:!0}:{}));if(ve(Se,"Expected a location on the redirect navigation"),Nx.test(N.location)&&Ox&&typeof((J=window)==null?void 0:J.location)<"u"){let hr=t.history.createURL(N.location),Qn=Su(hr.pathname,t.basename||"/")==null;if(window.location.origin!==hr.origin||Qn){ue?window.location.replace(N.location):window.location.assign(N.location);return}}m=null;let ne=ue===!0?lt.Replace:lt.Push,{formMethod:zt,formAction:Ne,formEncType:rn,formData:at}=P.navigation;!ee&&zt&&Ne&&at&&rn&&(ee={formMethod:zt,formAction:Ne,formEncType:rn,formData:at}),eN.has(N.status)&&ee&&Mr(ee.formMethod)?await yt(ne,Se,{submission:Ae({},ee,{formAction:N.location}),preventScrollReset:y}):await yt(ne,Se,{overrideNavigation:{state:"loading",location:Se,formMethod:ee?ee.formMethod:void 0,formAction:ee?ee.formAction:void 0,formEncType:ee?ee.formEncType:void 0,formData:ee?ee.formData:void 0},preventScrollReset:y})}async function Q(P,N,D,J,ee){let ue=await Promise.all([...D.map(ne=>Fa("loader",ee,ne,N,n,e,v.basename)),...J.map(ne=>ne.matches&&ne.match?Fa("loader",Va(t.history,ne.path,ee.signal),ne.match,ne.matches,n,e,v.basename):{type:wt.error,error:gr(404,{pathname:ne.path})})]),se=ue.slice(0,D.length),Se=ue.slice(D.length);return await Promise.all([Mw(P,D,se,ee.signal,!1,p.loaderData),Mw(P,J.map(ne=>ne.match),Se,ee.signal,!0)]),{results:ue,loaderResults:se,fetcherResults:Se}}function ye(){_=!0,E.push(...Ce()),M.forEach((P,N)=>{k.has(N)&&(T.push(N),Ee(N))})}function _e(P,N,D){let J=bo(p.matches,N);fe(P),G({errors:{[J.route.id]:D},fetchers:new Map(p.fetchers)})}function fe(P){k.has(P)&&Ee(P),M.delete(P),O.delete(P),W.delete(P),p.fetchers.delete(P)}function Ee(P){let N=k.get(P);ve(N,"Expected fetch controller: "+P),N.abort(),k.delete(P)}function C(P){for(let N of P){let J={state:"idle",data:qe(N).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(N,J)}}function I(){let P=[];for(let N of W){let D=p.fetchers.get(N);ve(D,"Expected fetcher: "+N),D.state==="loading"&&(W.delete(N),P.push(N))}C(P)}function R(P){let N=[];for(let[D,J]of O)if(J<P){let ee=p.fetchers.get(D);ve(ee,"Expected fetcher: "+D),ee.state==="loading"&&(Ee(D),O.delete(D),N.push(D))}return C(N),N.length>0}function z(P,N){let D=p.blockers.get(P)||Rw;return le.get(P)!==N&&le.set(P,N),D}function j(P){p.blockers.delete(P),le.delete(P)}function b(P,N){let D=p.blockers.get(P)||Rw;ve(D.state==="unblocked"&&N.state==="blocked"||D.state==="blocked"&&N.state==="blocked"||D.state==="blocked"&&N.state==="proceeding"||D.state==="blocked"&&N.state==="unblocked"||D.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+D.state+" -> "+N.state),p.blockers.set(P,N),G({blockers:new Map(p.blockers)})}function q(P){let{currentLocation:N,nextLocation:D,historyAction:J}=P;if(le.size===0)return;le.size>1&&Zo(!1,"A router only supports one blocker at a time");let ee=Array.from(le.entries()),[ue,se]=ee[ee.length-1],Se=p.blockers.get(ue);if(!(Se&&Se.state==="proceeding")&&se({currentLocation:N,nextLocation:D,historyAction:J}))return ue}function Ce(P){let N=[];return $.forEach((D,J)=>{(!P||P(J))&&(D.cancel(),N.push(J),$.delete(J))}),N}function ze(P,N,D){if(a=P,u=N,l=D||(J=>J.key),!c&&p.navigation===Sp){c=!0;let J=Xu(p.location,p.matches);J!=null&&G({restoreScrollPosition:J})}return()=>{a=null,u=null,l=null}}function mi(P,N){if(a&&l&&u){let D=N.map(ee=>$w(ee,p.loaderData)),J=l(P,D)||P.key;a[J]=u()}}function Xu(P,N){if(a&&l&&u){let D=N.map(ue=>$w(ue,p.loaderData)),J=l(P,D)||P.key,ee=a[J];if(typeof ee=="number")return ee}return null}function Aa(P){i=P}return v={get basename(){return t.basename},get state(){return p},get routes(){return r},initialize:Fe,subscribe:H,enableScrollRestoration:ze,navigate:Le,fetch:vt,revalidate:Ve,createHref:P=>t.history.createHref(P),encodeLocation:P=>t.history.encodeLocation(P),getFetcher:qe,deleteFetcher:fe,dispose:dt,getBlocker:z,deleteBlocker:j,_internalFetchControllers:k,_internalActiveDeferreds:$,_internalSetRoutes:Aa},v}function sN(t){return t!=null&&"formData"in t}function Aw(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:ri(t);if(!e||!sN(e))return{path:r};if(e.formMethod&&!dN(e.formMethod))return{path:r,error:gr(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:Mx(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Mr(i.formMethod)))return{path:r,submission:i};let s=di(r),o=Dx(e.formData);return n&&s.search&&Ux(s.search)&&o.append("index",""),s.search="?"+o,{path:ri(s),submission:i}}function oN(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Pw(t,e,n,r,i,s,o,a,l,u,c,h,f){let g=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,v=t.createURL(e.location),p=t.createURL(i),S=s||v.toString()===p.toString()||v.search!==p.search,y=f?Object.keys(f)[0]:void 0,w=oN(n,y).filter((E,T)=>{if(E.route.lazy)return!0;if(E.route.loader==null)return!1;if(aN(e.loaderData,e.matches[T],E)||o.some(A=>A===E.route.id))return!0;let k=e.matches[T],L=E;return Lw(E,Ae({currentUrl:v,currentParams:k.params,nextUrl:p,nextParams:L.params},r,{actionResult:g,defaultShouldRevalidate:S||jx(k,L)}))}),_=[];return l.forEach((E,T)=>{if(!n.some(O=>O.route.id===E.routeId))return;let k=ko(u,E.path,c);if(!k){_.push(Ae({key:T},E,{matches:null,match:null}));return}let L=Sg(k,E.path);if(a.includes(T)){_.push(Ae({key:T,matches:k,match:L},E));return}Lw(L,Ae({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:S}))&&_.push(Ae({key:T,matches:k,match:L},E))}),[w,_]}function aN(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function jx(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Lw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function _g(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ve(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Zo(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!IL.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:e(Ae({},i)),lazy:void 0})}async function Fa(t,e,n,r,i,s,o,a,l,u){o===void 0&&(o="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,h,f,g=S=>{let y,m=new Promise((w,_)=>y=_);return f=()=>y(),e.signal.addEventListener("abort",f),Promise.race([S({request:e,params:n.params,context:u}),m])};try{let S=n.route[t];if(n.route.lazy)if(S)h=(await Promise.all([g(S),_g(n.route,s,i)]))[0];else if(await _g(n.route,s,i),S=n.route[t],S)h=await g(S);else{if(t==="action")throw gr(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:wt.data,data:void 0}}else ve(S,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),h=await g(S);ve(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(S){c=wt.error,h=S}finally{f&&e.signal.removeEventListener("abort",f)}if(cN(h)){let S=h.status;if(ZL.has(S)){let w=h.headers.get("Location");if(ve(w,"Redirects returned/thrown from loaders/actions must have a Location header"),Nx.test(w)){if(!a){let _=new URL(e.url),E=w.startsWith("//")?new URL(_.protocol+w):new URL(w),T=Su(E.pathname,o)!=null;E.origin===_.origin&&T&&(w=E.pathname+E.search+E.hash)}}else{let _=r.slice(0,r.indexOf(n)+1),E=Yh(_).map(k=>k.pathnameBase),T=cv(w,E,new URL(e.url).pathname);if(ve(ri(T),"Unable to resolve redirect location: "+w),o){let k=T.pathname;T.pathname=k==="/"?o:Qr([o,k])}w=ri(T)}if(a)throw h.headers.set("Location",w),h;return{type:wt.redirect,status:S,location:w,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||wt.data,response:h};let y,m=h.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?y=await h.json():y=await h.text(),c===wt.error?{type:c,error:new dv(S,h.statusText,y),headers:h.headers}:{type:wt.data,data:y,statusCode:h.status,headers:h.headers}}if(c===wt.error)return{type:c,error:h};if(h instanceof KL){var v,p;return{type:wt.deferred,deferredData:h,statusCode:(v=h.init)==null?void 0:v.status,headers:((p=h.init)==null?void 0:p.headers)&&new Headers(h.init.headers)}}return{type:wt.data,data:h}}function Va(t,e,n,r){let i=t.createURL(Mx(e)).toString(),s={signal:n};if(r&&Mr(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?Dx(l):l}return new Request(i,s)}function Dx(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function lN(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,h)=>{let f=e[h].route.id;if(ve(!Mo(c),"Cannot handle redirect results in processLoaderData"),yl(c)){let g=bo(t,f),v=c.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=v),s[f]=void 0,l||(l=!0,a=Io(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else ws(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function Nw(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=lN(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:h,match:f}=s[c];ve(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let g=o[c];if(yl(g)){let v=bo(t.matches,f==null?void 0:f.route.id);u&&u[v.route.id]||(u=Ae({},u,{[v.route.id]:g.error})),t.fetchers.delete(h)}else if(Mo(g))ve(!1,"Unhandled fetcher revalidation redirect");else if(ws(g))ve(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(h,v)}}return{loaderData:l,errors:u}}function Ow(t,e,n,r){let i=Ae({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function bo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function jw(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new dv(t||500,o,new Error(a),!0)}function Dw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Mo(n))return n}}function Mx(t){let e=typeof t=="string"?di(t):t;return ri(Ae({},e,{hash:""}))}function uN(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function ws(t){return t.type===wt.deferred}function yl(t){return t.type===wt.error}function Mo(t){return(t&&t.type)===wt.redirect}function cN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function dN(t){return JL.has(t)}function Mr(t){return YL.has(t)}async function Mw(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!jx(u,l)&&(s&&s[l.route.id])!==void 0;ws(a)&&(i||c)&&await $x(a,r,i).then(h=>{h&&(n[o]=h||n[o])})}}async function $x(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:wt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:wt.error,error:i}}return{type:wt.data,data:t.deferredData.data}}}function Ux(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function $w(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Sg(t,e){let n=typeof e=="string"?di(e).search:e.search;if(t[t.length-1].route.index&&Ux(n||""))return t[t.length-1];let r=Yh(t);return r[r.length-1]}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const fN=typeof Object.is=="function"?Object.is:hN,{useState:pN,useEffect:mN,useLayoutEffect:gN,useDebugValue:yN}=Sm;function vN(t,e,n){const r=e(),[{inst:i},s]=pN({inst:{value:r,getSnapshot:e}});return gN(()=>{i.value=r,i.getSnapshot=e,Ep(i)&&s({inst:i})},[t,r,e]),mN(()=>(Ep(i)&&s({inst:i}),t(()=>{Ep(i)&&s({inst:i})})),[t]),yN(r),r}function Ep(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!fN(n,r)}catch{return!0}}function wN(t,e,n){return e()}const _N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SN=!_N,EN=SN?wN:vN,CN="useSyncExternalStore"in Sm?(t=>t.useSyncExternalStore)(Sm):EN,hv=x.createContext(null),Eu=x.createContext(null),fa=x.createContext(null),Xh=x.createContext(null),ts=x.createContext({outlet:null,matches:[]}),Fx=x.createContext(null);function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function xN(t,e){let{relative:n}=e===void 0?{}:e;pa()||ve(!1);let{basename:r,navigator:i}=x.useContext(fa),{hash:s,pathname:o,search:a}=fv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function pa(){return x.useContext(Xh)!=null}function ns(){return pa()||ve(!1),x.useContext(Xh).location}function cr(){pa()||ve(!1);let{basename:t,navigator:e}=x.useContext(fa),{matches:n}=x.useContext(ts),{pathname:r}=ns(),i=JSON.stringify(Yh(n).map(a=>a.pathnameBase)),s=x.useRef(!1);return x.useEffect(()=>{s.current=!0}),x.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=cv(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Qr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const TN=x.createContext(null);function kN(t){let e=x.useContext(ts).outlet;return e&&x.createElement(TN.Provider,{value:t},e)}function Vx(){let{matches:t}=x.useContext(ts),e=t[t.length-1];return e?e.params:{}}function fv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=x.useContext(ts),{pathname:i}=ns(),s=JSON.stringify(Yh(r).map(o=>o.pathnameBase));return x.useMemo(()=>cv(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function IN(t,e){pa()||ve(!1);let{navigator:n}=x.useContext(fa),r=x.useContext(Eu),{matches:i}=x.useContext(ts),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=ns(),u;if(e){var c;let p=typeof e=="string"?di(e):e;a==="/"||(c=p.pathname)!=null&&c.startsWith(a)||ve(!1),u=p}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",g=ko(t,{pathname:f}),v=PN(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:Qr([a,n.encodeLocation?n.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?a:Qr([a,n.encodeLocation?n.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r||void 0);return e&&v?x.createElement(Xh.Provider,{value:{location:Eg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:lt.Pop}},v):v}function bN(){let t=zx(),e=Io(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}class RN extends x.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(ts.Provider,{value:this.props.routeContext},x.createElement(Fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AN(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(hv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ts.Provider,{value:e},r)}function PN(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||ve(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=x.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=x.createElement(bN,null));let c=e.concat(r.slice(0,a+1)),h=()=>{let f=s;return l?f=u:o.route.Component?f=x.createElement(o.route.Component,null):o.route.element&&(f=o.route.element),x.createElement(AN,{match:o,routeContext:{outlet:s,matches:c},children:f})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?x.createElement(RN,{location:n.location,component:u,error:l,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var Uw;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Uw||(Uw={}));var Ad;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Ad||(Ad={}));function LN(t){let e=x.useContext(Eu);return e||ve(!1),e}function NN(t){let e=x.useContext(ts);return e||ve(!1),e}function ON(t){let e=NN(),n=e.matches[e.matches.length-1];return n.route.id||ve(!1),n.route.id}function zx(){var t;let e=x.useContext(Fx),n=LN(Ad.UseRouteError),r=ON(Ad.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function jN(t){let{fallbackElement:e,router:n}=t,r=x.useCallback(()=>n.state,[n]),i=CN(n.subscribe,r,r),s=x.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=x.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return x.createElement(x.Fragment,null,x.createElement(hv.Provider,{value:a},x.createElement(Eu.Provider,{value:i},x.createElement($N,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?x.createElement(UN,null):e))),null)}function Bx(t){let{to:e,replace:n,state:r,relative:i}=t;pa()||ve(!1);let s=x.useContext(Eu),o=cr();return x.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function DN(t){return kN(t.context)}function MN(t){ve(!1)}function $N(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lt.Pop,navigator:s,static:o=!1}=t;pa()&&ve(!1);let a=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=di(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:g="default"}=r,v=x.useMemo(()=>{let p=Su(u,a);return p==null?null:{location:{pathname:p,search:c,hash:h,state:f,key:g},navigationType:i}},[a,u,c,h,f,g,i]);return v==null?null:x.createElement(fa.Provider,{value:l},x.createElement(Xh.Provider,{children:n,value:v}))}function UN(t){let{children:e,location:n}=t,r=x.useContext(hv),i=r&&!e?r.router.routes:Cg(e);return IN(i,n)}var Fw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Fw||(Fw={}));new Promise(()=>{});function Cg(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;if(r.type===x.Fragment){n.push.apply(n,Cg(r.props.children,e));return}r.type!==MN&&ve(!1),!r.props.index||!r.props.children||ve(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Cg(r.props.children,s)),n.push(o)}),n}function FN(t){return!!t.ErrorBoundary||!!t.errorElement}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(this,arguments)}function Hx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zN(t,e){return t.button===0&&(!e||e==="_self")&&!VN(t)}const BN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],HN=["aria-current","caseSensitive","className","end","style","to","children"];function qN(t,e){return iN({basename:e==null?void 0:e.basename,history:xL({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||WN(),routes:t,detectErrorBoundary:FN}).initialize()}function WN(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ql({},e,{errors:KN(e.errors)})),e}function KN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new dv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const GN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jh=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,h=Hx(e,BN),{basename:f}=x.useContext(fa),g,v=!1;if(typeof u=="string"&&QN.test(u)&&(g=u,GN)){let m=new URL(window.location.href),w=u.startsWith("//")?new URL(m.protocol+u):new URL(u),_=Su(w.pathname,f);w.origin===m.origin&&_!=null?u=_+w.search+w.hash:v=!0}let p=xN(u,{relative:i}),S=YN(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function y(m){r&&r(m),m.defaultPrevented||S(m)}return x.createElement("a",Ql({},h,{href:g||p,onClick:v||s?r:y,ref:n,target:l}))}),Pd=x.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=Hx(e,HN),h=fv(l,{relative:c.relative}),f=ns(),g=x.useContext(Eu),{navigator:v}=x.useContext(fa),p=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,S=f.pathname,y=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(S=S.toLowerCase(),y=y?y.toLowerCase():null,p=p.toLowerCase());let m=S===p||!o&&S.startsWith(p)&&S.charAt(p.length)==="/",w=y!=null&&(y===p||!o&&y.startsWith(p)&&y.charAt(p.length)==="/"),_=m?r:void 0,E;typeof s=="function"?E=s({isActive:m,isPending:w}):E=[s,m?"active":null,w?"pending":null].filter(Boolean).join(" ");let T=typeof a=="function"?a({isActive:m,isPending:w}):a;return x.createElement(Jh,Ql({},c,{"aria-current":_,className:E,ref:n,style:T,to:l}),typeof u=="function"?u({isActive:m,isPending:w}):u)});var Vw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Vw||(Vw={}));var zw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zw||(zw={}));function YN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=cr(),l=ns(),u=fv(t,{relative:o});return x.useCallback(c=>{if(zN(c,n)){c.preventDefault();let h=r!==void 0?r:ri(l)===ri(u);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function Ie({size:t="default",strokeWidth:e=2,height:n,width:r,children:i,className:s,...o}){const a={tiny:"12px",small:"16px",default:"24px",medium:"32px",large:"36px",extra:"48px",custom:"24px"};return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:r||a[t],height:n||a[t],className:s,fill:"currentColor",stroke:"currentColor",strokeWidth:e,...o,children:i})}function xg(t){return d.jsxs(Ie,{width:"45px",height:"28px",viewBox:"0 0 45 28",stroke:"none",...t,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),d.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"})]})}function XN(t,e){return e&&e.length===t.length?t.map((n,r)=>({...n,id:e[r]})):t.map((n,r)=>({...n,id:r}))}function JN(...t){return{className:t.flat(1/0).filter(e=>e).join(" ").trim()}}function ZN(t,e,n,r=""){const i=document.createElement(e);if(n!=null&&n.class){const s=n.class.split(" ");i.classList.add(...s)}return n!=null&&n.id&&i.setAttribute("id",n.id),n!=null&&n.attributes&&n.attributes.forEach(s=>{const o=s.split("=")[0],a=(s.split("=")[1]||"").replaceAll('"',"");i.setAttribute(o,a)}),r&&(i.innerHTML=r),t.append(i),i}function eO(...t){return t.reduce((e,n)=>e.filter(r=>n.includes(r)))}function tO(){return Date.now()}function nO(...t){return t.reduce((e,n)=>e.filter(r=>!n.includes(r)))}function rO(t){return t.map((e,n)=>e!==""?n:"").filter(String)}function Ui(t,e){return Math.trunc(Math.random()*(e-t+1)+t)}function iO(){const t=Ui(0,255).toString(16),e=Ui(0,255).toString(16),n=Ui(0,255).toString(16);return`#${t}${e}${n}`}function sO(){const t=Ui(0,255),e=Ui(0,255),n=Ui(0,255);return[t,e,n]}function oO(){let t;return()=>{const e=t>window.scrollY?"UP":"DOWN";return t=window.scrollY,e}}const aO=oO();function ar(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function lO(t,e){return!e&&typeof t=="string"?t[0]:e&&typeof t!="string"?t[e].toString()[0]:null}function uO(t,e){const n=new Map,r=t[0];if(typeof r!="string"&&!ar(r))throw new Error("Invalid value");if(!e&&ar(r))throw new Error("No key provided");return t.forEach(i=>{const s=lO(i,e);n.has(s)?n.set(s,[...n.get(s),i]):n.set(s,[i])}),Array.from(n.entries())}function cO(t){return Object.keys(t).length===0}function dO(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function hO(t){return new Date(+t)}function fO(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!ar(r))throw new Error("Invalid value");if(ar(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.filter(s=>s.trim()!=="")),e&&typeof r!="string"&&(i=n.filter(s=>s[e].toString().trim()!=="")),i}function pO({callback:t,delay:e,counts:n}){let r=0;const i=setInterval(()=>{t(),r+=1,r===n&&clearInterval(i)},e);return i}function mO(t){const e=t.slice();for(let n=0;n<t.length;n++){const r=Ui(0,t.length-1);[e[n],e[r]]=[e[r],e[n]]}return e}function gO(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!ar(r))throw new Error("Invalid value");if(ar(r)&&!e)throw new Error("No key provided");let i=[];return!e&&typeof r=="string"&&(i=n.sort((s,o)=>s.localeCompare(o))),e&&typeof r!="string"&&(i=n.sort((s,o)=>s[e].toString().localeCompare(o[e].toString()))),i}function yO(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function vO(t,e,n="..."){return t.length>e?`${t.substring(0,e).trim()}${n}`:t}function wO(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!ar(r))throw new Error("Invalid value");if(ar(r)&&!e)throw new Error("No key provided");let i=0;return!e&&typeof r=="string"?i=t.length-n.reverse().findIndex(s=>s!==""):e&&typeof r!="string"&&(i=t.length-n.reverse().findIndex(s=>s[e]!=="")),n.reverse().splice(0,i)}function _O(t,e){const n=t[0];if(typeof n!="string"&&!ar(n))throw new Error("Invalid value");if(ar(n)&&!e)throw new Error("No key provided");const r=t.slice();let i=0;return!e&&typeof n=="string"?i=r.findIndex(s=>s!==""):e&&typeof n!="string"&&(i=r.findIndex(s=>s[e]!=="")),r.splice(i)}const X={addId:XN,className:JN,createHTMLElem:ZN,getCommonValues:eO,getCurrentDateInMs:tO,getDifferentValues:nO,getIndexesOfNonEmptyElements:rO,getRandomHEXColor:iO,getRandomNumber:Ui,getRandomRGBColor:sO,getScrollDirection:aO,groupBy:uO,isObject:ar,isObjectEmpty:cO,join:dO,parseCurrentDateFromMs:hO,removeEmptyValues:fO,setIntervalCounts:pO,shuffleArray:mO,sortArrayLocalCompare:gO,sortArrayOfObj:yO,stringCut:vO,trimEndEmptyValues:wO,trimStartEmptyValues:_O};function pv({as:t="div",...e}){return d.jsx(t,{...e})}function mv(t){const e=(t==null?void 0:t.size)===10?"col10":"col";return X.join([(t==null?void 0:t.xx)&&`${e}-xx-${t.xx}`,(t==null?void 0:t.xl)&&`${e}-xl-${t.xl}`,(t==null?void 0:t.lg)&&`${e}-lg-${t.lg}`,(t==null?void 0:t.md)&&`${e}-md-${t.md}`,(t==null?void 0:t.sm)&&`${e}-sm-${t.sm}`,(t==null?void 0:t.xs)&&`${e}-xs-${t.xs}`,(t==null?void 0:t.ss)&&`${e}-ss-${t.ss}`])}const ge=x.forwardRef(({component:t="div",grid:e,children:n,className:r,...i},s)=>{const o=e&&mv(e),a={className:X.join(r,o),ref:s,...i};return d.jsx(pv,{as:t,...a,children:n})});ge.displayName="Block";const SO="_StartScreen_srdz3_1",EO={StartScreen:SO};function CO(){return d.jsx(ge,{className:EO.StartScreen,children:d.jsx(xg,{})})}const Ct={about:"/about",chordslist:"/chordslist",home:"/",login:"/login",other:"/*",signup:"/signup",signupContinue:"/signup/continue",songslist:"/songslist",songslistSelection:"/songslist/selection"},lr={user:"/user",chat:"/chat",users:"/users"},qx={admin:"/admin"},ct=eL;function Pr(){const{email:t,status:e,sex:n}=ct(r=>r.userReducer);return{isAuth:!!t,isOwner:e==="owner",isAdmin:e==="admin",isUser:e==="user",isFillProfile:n}}const Mt=x.forwardRef(({container:t,row:e,component:n="div",children:r,className:i,...s},o)=>{const a=[t&&"container",e&&"row"],l={className:X.join(i,a),ref:o,...s};return d.jsx(pv,{as:n,...l,children:r})});Mt.displayName="Grid";const xO="_h1_bjtyp_34",TO="_inversion_bjtyp_37",kO="_h2_bjtyp_41",IO="_h3_bjtyp_48",bO="_h4_bjtyp_55",RO="_h5_bjtyp_62",AO="_h6_bjtyp_69",PO="_subtitle1_bjtyp_76",LO="_subtitle2_bjtyp_83",NO="_p1_bjtyp_90",OO="_p2_bjtyp_97",jO="_caption_bjtyp_104",DO="_overline_bjtyp_111",MO="_link_bjtyp_118",$O="_input_bjtyp_132",UO="_button_bjtyp_460",Xt={h1:xO,inversion:TO,h2:kO,h3:IO,h4:bO,h5:RO,h6:AO,subtitle1:PO,subtitle2:LO,p1:NO,p2:OO,caption:jO,overline:DO,link:MO,"link-sm":"_link-sm_bjtyp_125",input:$O,button:UO,"button-sm":"_button-sm_bjtyp_471","button-icon":"_button-icon_bjtyp_482","button-icon-sm":"_button-icon-sm_bjtyp_493"},FO="_Link_14qzb_57",VO="_noUnderline_14qzb_63",zO="_inverted_14qzb_66",BO="_hover_14qzb_76",HO="_disabled_14qzb_96",vl={Link:FO,noUnderline:VO,inverted:zO,hover:BO,disabled:HO},gv=x.forwardRef(({display:t,underline:e,hover:n=!0,children:r,blank:i,className:s,...o},a)=>{const l=[t?Xt[t]:Xt.link,e===!1&&vl.noUnderline,n&&vl.hover],u=i&&{target:"_blank",rel:"noreferrer noopener"};return d.jsx("a",{className:X.join(vl.Link,s,l),ref:a,...u,...o,children:r})});gv.displayName="Link";const $s=x.forwardRef(({display:t,underline:e,children:n,blank:r,className:i,...s},o)=>{const a=[t?Xt[t]:Xt.link,e===!1&&vl.noUnderline],l=r&&{target:"_blank",rel:"noreferrer noopener"};return d.jsx("span",{className:X.join(vl.Link,i,a),ref:o,...l,...s,children:n})});$s.displayName="LinkLabel";const qO="_Footer_14zpd_1",WO="_container_14zpd_1",Bw={Footer:qO,container:WO};function KO(){const{pathname:t}=ns(),{isAuth:e}=Pr(),n=Ri("/login",t),r=Ri("/signup",t);return Ri("/songslist",t)||Ri("/songslist/:page",t)?null:d.jsx(ge,{component:"footer",className:Bw.Footer,children:d.jsx(Mt,{container:!0,className:Bw.container,children:!(n||r)&&e&&t!==lr.chat&&d.jsx(gv,{display:"caption",underline:!1,href:"https://github.com/AmelianceSkyMusic",blank:!0,children:"AmelianceSkyMusic"})})})}function Hw(t){return d.jsxs(Ie,{width:"108px",height:"28px",viewBox:"0 0 108 28",stroke:"none",...t,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.48798 6L0 22.8H3.98401L5.48108 19.2H13.2687L14.76 22.8H18.84L11.328 6H7.48798ZM12.0459 16.248L9.38251 9.81833L6.70868 16.248H12.0459Z"}),d.jsx("path",{d:"M17.205 6L22.7009 22.8H26.877L30.6852 11.4169L34.3889 22.8H38.5649L44.0609 6H40.3409L36.4266 17.8967L32.5889 6H28.989L25.0272 17.809L21.2369 6H17.205Z"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.495 22.944C48.463 22.944 47.545 22.728 46.741 22.296C45.949 21.864 45.319 21.276 44.851 20.532C44.395 19.776 44.167 18.918 44.167 17.958C44.167 16.986 44.395 16.128 44.851 15.384C45.319 14.628 45.949 14.04 46.741 13.62C47.545 13.188 48.463 12.972 49.495 12.972C50.515 12.972 51.427 13.188 52.231 13.62C53.035 14.04 53.665 14.622 54.121 15.366C54.577 16.11 54.805 16.974 54.805 17.958C54.805 18.918 54.577 19.776 54.121 20.532C53.665 21.276 53.035 21.864 52.231 22.296C51.427 22.728 50.515 22.944 49.495 22.944ZM49.495 20.64C49.963 20.64 50.383 20.532 50.755 20.316C51.127 20.1 51.421 19.794 51.637 19.398C51.853 18.99 51.961 18.51 51.961 17.958C51.961 17.394 51.853 16.914 51.637 16.518C51.421 16.122 51.127 15.816 50.755 15.6C50.383 15.384 49.963 15.276 49.495 15.276C49.027 15.276 48.607 15.384 48.235 15.6C47.863 15.816 47.563 16.122 47.335 16.518C47.119 16.914 47.011 17.394 47.011 17.958C47.011 18.51 47.119 18.99 47.335 19.398C47.563 19.794 47.863 20.1 48.235 20.316C48.607 20.532 49.027 20.64 49.495 20.64Z"}),d.jsx("path",{d:"M60.364 13.116H57.6819V22.8H60.4899V18.228C60.4899 17.304 60.7239 16.626 61.1919 16.194C61.6719 15.75 62.2959 15.528 63.0639 15.528C63.1719 15.528 63.2739 15.534 63.3699 15.546C63.3847 15.546 63.3998 15.5461 63.4152 15.5464L63.4372 15.5469L63.4645 15.5478C63.5353 15.5504 63.6118 15.5558 63.6939 15.564V12.972C62.7819 12.972 62.0079 13.152 61.3719 13.512C60.9645 13.7349 60.6285 14.0267 60.364 14.3875V13.116Z"}),d.jsx("path",{d:"M69.6919 22.944C68.8639 22.944 68.0659 22.848 67.2979 22.656C66.5419 22.452 65.9419 22.2 65.4979 21.9L66.4339 19.884C66.8779 20.16 67.3999 20.388 67.9999 20.568C68.6119 20.736 69.2119 20.82 69.7999 20.82C70.4479 20.82 70.9039 20.742 71.1679 20.586C71.4438 20.43 71.5818 20.214 71.5818 19.938C71.5818 19.71 71.4739 19.542 71.2579 19.434C71.0539 19.314 70.7779 19.224 70.4299 19.164C70.2651 19.1356 70.0923 19.1072 69.9115 19.0789C69.7103 19.0472 69.4991 19.0156 69.2779 18.984C68.8699 18.924 68.4559 18.846 68.0359 18.75C67.6158 18.642 67.2319 18.486 66.8839 18.282C66.5359 18.078 66.2538 17.802 66.0379 17.454C65.8339 17.106 65.7319 16.656 65.7319 16.104C65.7319 15.492 65.9059 14.952 66.2538 14.484C66.6139 14.016 67.1299 13.65 67.8019 13.386C68.4739 13.11 69.2779 12.972 70.2139 12.972C70.8739 12.972 71.5459 13.044 72.2299 13.188C72.9139 13.332 73.4839 13.542 73.9399 13.818L73.0038 15.816C72.5359 15.54 72.0619 15.354 71.5818 15.258C71.1139 15.15 70.6579 15.096 70.2139 15.096C69.5899 15.096 69.1339 15.18 68.8459 15.348C68.5579 15.516 68.4139 15.732 68.4139 15.996C68.4139 16.236 68.5159 16.416 68.7198 16.536C68.9359 16.656 69.2179 16.752 69.5659 16.824C69.9139 16.896 70.2919 16.962 70.6999 17.022C71.1199 17.07 71.5399 17.148 71.9599 17.256C72.3799 17.364 72.7579 17.52 73.0939 17.724C73.4419 17.916 73.7239 18.186 73.9399 18.534C74.1559 18.87 74.2639 19.314 74.2639 19.866C74.2639 20.466 74.0839 21 73.7239 21.468C73.3639 21.924 72.8419 22.284 72.1579 22.548C71.4859 22.812 70.6639 22.944 69.6919 22.944Z"}),d.jsx("path",{d:"M84.9344 13.44C84.3344 13.128 83.6504 12.972 82.8824 12.972C82.0544 12.972 81.3163 13.146 80.6684 13.494C80.3424 13.669 80.0544 13.8821 79.8044 14.133V9.444H76.9964V22.8H79.8044V18.012C79.8044 17.412 79.9004 16.92 80.0923 16.536C80.2964 16.152 80.5724 15.87 80.9203 15.69C81.2804 15.498 81.6824 15.402 82.1264 15.402C82.7504 15.402 83.2303 15.588 83.5663 15.96C83.9144 16.332 84.0884 16.908 84.0884 17.688V22.8H86.8964V17.256C86.8964 16.272 86.7224 15.468 86.3744 14.844C86.0264 14.208 85.5464 13.74 84.9344 13.44Z"}),d.jsx("path",{d:"M91.8457 11.766C91.3297 11.766 90.9097 11.616 90.5857 11.316C90.2617 11.016 90.0997 10.644 90.0997 10.2C90.0997 9.75601 90.2617 9.384 90.5857 9.08401C90.9097 8.784 91.3297 8.634 91.8457 8.634C92.3617 8.634 92.7817 8.77802 93.1057 9.06601C93.4297 9.34201 93.5917 9.702 93.5917 10.146C93.5917 10.614 93.4297 11.004 93.1057 11.316C92.7937 11.616 92.3737 11.766 91.8457 11.766Z"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.438 22.404C101.05 22.764 101.764 22.944 102.58 22.944C103.492 22.944 104.308 22.74 105.028 22.332C105.76 21.924 106.336 21.348 106.756 20.604C107.188 19.86 107.404 18.978 107.404 17.958C107.404 16.95 107.188 16.074 106.756 15.33C106.336 14.586 105.76 14.01 105.028 13.602C104.308 13.182 103.492 12.972 102.58 12.972C101.728 12.972 100.996 13.152 100.384 13.512C100.062 13.7013 99.7799 13.942 99.5378 14.2342V13.116H96.8557V26.292H99.6638V21.7747C99.8927 22.0254 100.151 22.2352 100.438 22.404ZM103.336 20.316C102.976 20.532 102.562 20.64 102.094 20.64C101.626 20.64 101.206 20.532 100.834 20.316C100.462 20.1 100.168 19.794 99.9518 19.398C99.7357 18.99 99.6277 18.51 99.6277 17.958C99.6277 17.394 99.7357 16.914 99.9518 16.518C100.168 16.122 100.462 15.816 100.834 15.6C101.206 15.384 101.626 15.276 102.094 15.276C102.562 15.276 102.976 15.384 103.336 15.6C103.708 15.816 104.002 16.122 104.218 16.518C104.446 16.914 104.56 17.394 104.56 17.958C104.56 18.51 104.446 18.99 104.218 19.398C104.002 19.794 103.708 20.1 103.336 20.316Z"}),d.jsx("path",{d:"M90.4417 22.8V13.116H93.2497V22.8H90.4417Z"})]})}function GO({type:t}){const{isAuth:e}=Pr();return d.jsxs(Jh,{to:"/",style:{color:"var(--color--f1-0)"},children:[t==="short"&&d.jsx(xg,{}),t==="normal"&&d.jsx(Hw,{}),!t&&(e?d.jsx(Hw,{}):d.jsx(xg,{}))]})}const QO="_Button_n3hsj_106",YO="_tiny_n3hsj_121",XO="_small_n3hsj_124",JO="_medium_n3hsj_130",ZO="_large_n3hsj_133",ej="_extra_n3hsj_136",tj="_disabled_n3hsj_145",nj="_label_n3hsj_160",rj="_icon_n3hsj_187",ij="_secondary_n3hsj_211",sj="_text_n3hsj_228",vr={Button:QO,tiny:YO,small:XO,default:"_default_n3hsj_127",medium:JO,large:ZO,extra:ej,disabled:tj,label:nj,icon:rj,secondary:ij,text:sj},Ze=x.forwardRef(({size:t="default",type:e="primary",submit:n,children:r,className:i,...s},o)=>{const a=Array.isArray(r)?r==null?void 0:r.some(c=>typeof c=="string"):typeof r=="string",l=t&&vr[t],u=[e&&vr[e],!a&&vr.icon];return d.jsx("button",{type:n?"submit":"button",className:X.join(vr.Button,i,l,u),ref:o,...s,children:d.jsx("span",{className:X.join(vr.label,Xt.button,l),children:r})})});Ze.displayName="Button";const yv=x.forwardRef(({size:t="default",width:e,height:n,type:r="primary",blank:i,customStyle:s,children:o,className:a,style:l,...u},c)=>{const h=Array.isArray(o)?o==null?void 0:o.some(p=>typeof p=="string"):typeof o=="string",f=[t&&vr[t],r&&vr[r],!h&&vr.icon,vr.Button],g=i&&{target:"_blank",rel:"noreferrer noopener"},v=t==="custom"?{width:e,height:n}:{};return d.jsx("a",{className:X.join(a,!s&&f),ref:c,style:{...l,...v},...g,...u,children:d.jsx("span",{className:X.join(vr.label,Xt.button),children:o})})});yv.displayName="ButtonLink";function Wx(){localStorage.clear(),window.location.reload()}function vv(){return Date.now()}function oj(){const t=new Date;return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}function Yr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function aj(t,e){return typeof t=="string"?t[0]:Yr(t)&&e||Array.isArray(t)&&e&&typeof e=="number"?String(t[e])[0]:""}function lj(t,e){const n=t[0];if(typeof n!="string"&&!Yr(n)&&!Array.isArray(n))throw new Error("Invalid value");if((Yr(n)||Array.isArray(n))&&!e)throw new Error("No key provided");if(Array.isArray(n)&&typeof e=="string")throw new Error("Key should be array index number");const r=new Map;return t.forEach(i=>{const s=aj(i,e||void 0);r.has(s)?r.set(s,[...r.get(s),i]):r.set(s,[i])}),Array.from(r.entries())}function ea(t){return Object.keys(t).length===0}function Us(...t){return t.flat(1/0).filter(e=>e).join(" ").trim()}function qw(t){return new Date(Number(t))}function uj(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!Yr(r)&&!Array.isArray(r))throw new Error("Invalid value");if((Yr(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="number")&&(i=n.filter(s=>String(s).trim()!=="")),Yr(r)&&e&&(i=n.filter(s=>String(s[e]).trim()!=="")),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.filter(s=>String(s[e]).trim()!=="")),i}function Kx(t,e,n){var s,o;const r=n?3:2;let i="Sorry, something went wrong ¯\\_(ツ)_/¯!";return t&&(typeof t=="string"&&(i=t),t instanceof Error&&(i=t.message)),e?console.error(`${e} >`,`${i}
`,(s=new Error().stack)==null?void 0:s.split(`
`)[r]):console.error(`${i}
`,(o=new Error().stack)==null?void 0:o.split(`
`)[r]),i}function cj(t,e){const n=t.slice(),r=n[0];if(typeof r!="string"&&!Yr(r)&&!Array.isArray(r))throw new Error("Invalid value");if((Yr(r)||Array.isArray(r))&&!e)throw new Error("No key provided");if(Array.isArray(r)&&typeof e=="string")throw new Error("Key should be array index number");let i=[];return(typeof r=="string"||typeof r=="string")&&(i=n.sort((s,o)=>{const a=String(s),l=String(o);return a.localeCompare(l)})),Yr(r)&&e&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l.toString())})),Array.isArray(r)&&e&&typeof e=="number"&&(i=n.sort((s,o)=>{const a=String(s[e]),l=String(o[e]);return a.localeCompare(l)})),i}function dj(t,e,n="num"){const r=t.slice();return e&&r.sort((i,s)=>{if(n==="num"){if(+i[e]<+s[e])return-1;if(+i[e]>+s[e])return 1}else{if(i[e]<s[e])return-1;if(i[e]>s[e])return 1}return 0}),r}function Ww(t){const e=t*1e3,n=new Date(e).toISOString().slice(11,19);return n.match(/^00/)?n.slice(3):n}const hj="ameliance-scripts";async function fj(t){if(t)try{return await navigator.clipboard.writeText(t),!0}catch(e){throw new Error(Kx(e,hj))}return!1}function pj(){const[t,e]=x.useState();return x.useEffect(()=>{typeof t=="boolean"&&(t===!0&&!document.fullscreenElement?document.documentElement.requestFullscreen():document.exitFullscreen&&document.exitFullscreen())},[t]),e}function tr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Gi(t){return!!t&&!!t[Qe]}function ii(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Cj}(t)||Array.isArray(t)||!!t[Zw]||!!(!((e=t.constructor)===null||e===void 0)&&e[Zw])||wv(t)||_v(t))}function Fs(t,e,n){n===void 0&&(n=!1),ma(t)===0?(n?Object.keys:Uo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function ma(t){var e=t[Qe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:wv(t)?2:_v(t)?3:0}function $o(t,e){return ma(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function mj(t,e){return ma(t)===2?t.get(e):t[e]}function Gx(t,e,n){var r=ma(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Qx(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function wv(t){return Sj&&t instanceof Map}function _v(t){return Ej&&t instanceof Set}function fs(t){return t.o||t.t}function Sv(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Xx(t);delete e[Qe];for(var n=Uo(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Ev(t,e){return e===void 0&&(e=!1),Cv(t)||Gi(t)||!ii(t)||(ma(t)>1&&(t.set=t.add=t.clear=t.delete=gj),Object.freeze(t),e&&Fs(t,function(n,r){return Ev(r,!0)},!0)),t}function gj(){tr(2)}function Cv(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function xr(t){var e=bg[t];return e||tr(18,t),e}function yj(t,e){bg[t]||(bg[t]=e)}function Tg(){return Yl}function Cp(t,e){e&&(xr("Patches"),t.u=[],t.s=[],t.v=e)}function Ld(t){kg(t),t.p.forEach(vj),t.p=null}function kg(t){t===Yl&&(Yl=t.l)}function Kw(t){return Yl={p:[],l:Yl,h:t,m:!0,_:0}}function vj(t){var e=t[Qe];e.i===0||e.i===1?e.j():e.O=!0}function xp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||xr("ES5").S(e,t,r),r?(n[Qe].P&&(Ld(e),tr(4)),ii(t)&&(t=Nd(e,t),e.l||Od(e,t)),e.u&&xr("Patches").M(n[Qe].t,t,e.u,e.s)):t=Nd(e,n,[]),Ld(e),e.u&&e.v(e.u,e.s),t!==Yx?t:void 0}function Nd(t,e,n){if(Cv(e))return e;var r=e[Qe];if(!r)return Fs(e,function(a,l){return Gw(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Od(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Sv(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Fs(s,function(a,l){return Gw(t,r,i,a,l,n,o)}),Od(t,i,!1),n&&t.u&&xr("Patches").N(r,n,t.u,t.s)}return r.o}function Gw(t,e,n,r,i,s,o){if(Gi(i)){var a=Nd(t,i,s&&e&&e.i!==3&&!$o(e.R,r)?s.concat(r):void 0);if(Gx(n,r,a),!Gi(a))return;t.m=!1}else o&&n.add(i);if(ii(i)&&!Cv(i)){if(!t.h.D&&t._<1)return;Nd(t,i),e&&e.A.l||Od(t,i)}}function Od(t,e,n){n===void 0&&(n=!1),t.h.D&&t.m&&Ev(e,n)}function Tp(t,e){var n=t[Qe];return(n?fs(n):t)[e]}function Qw(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Ei(t){t.P||(t.P=!0,t.l&&Ei(t.l))}function kp(t){t.o||(t.o=Sv(t.t))}function Ig(t,e,n){var r=wv(e)?xr("MapSet").F(e,n):_v(e)?xr("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Tg(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=Xl;o&&(l=[a],u=tl);var c=Proxy.revocable(l,u),h=c.revoke,f=c.proxy;return a.k=f,a.j=h,f}(e,n):xr("ES5").J(e,n);return(n?n.A:Tg()).p.push(r),r}function wj(t){return Gi(t)||tr(22,t),function e(n){if(!ii(n))return n;var r,i=n[Qe],s=ma(n);if(i){if(!i.P&&(i.i<4||!xr("ES5").K(i)))return i.t;i.I=!0,r=Yw(n,s),i.I=!1}else r=Yw(n,s);return Fs(r,function(o,a){i&&mj(i.t,o)===a||Gx(r,o,e(a))}),s===3?new Set(r):r}(t)}function Yw(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Sv(t)}function _j(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Qe];return Xl.get(l,s)},set:function(l){var u=this[Qe];Xl.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Qe];if(!a.P)switch(a.i){case 5:r(a)&&Ei(a);break;case 4:n(a)&&Ei(a)}}}function n(s){for(var o=s.t,a=s.k,l=Uo(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Qe){var h=o[c];if(h===void 0&&!$o(o,c))return!0;var f=a[c],g=f&&f[Qe];if(g?g.t!==h:!Qx(f,h))return!0}}var v=!!o[Qe];return l.length!==Uo(o).length+(v?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};yj("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,h){if(c){for(var f=Array(h.length),g=0;g<h.length;g++)Object.defineProperty(f,""+g,t(g,!0));return f}var v=Xx(h);delete v[Qe];for(var p=Uo(v),S=0;S<p.length;S++){var y=p[S];v[y]=t(y,c||!!v[y].enumerable)}return Object.create(Object.getPrototypeOf(h),v)}(a,s),u={i:a?5:4,A:o?o.A:Tg(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Qe,{value:u,writable:!0}),l},S:function(s,o,a){a?Gi(o)&&o[Qe].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Qe];if(c){var h=c.t,f=c.k,g=c.R,v=c.i;if(v===4)Fs(f,function(w){w!==Qe&&(h[w]!==void 0||$o(h,w)?g[w]||l(f[w]):(g[w]=!0,Ei(c)))}),Fs(h,function(w){f[w]!==void 0||$o(f,w)||(g[w]=!1,Ei(c))});else if(v===5){if(r(c)&&(Ei(c),g.length=!0),f.length<h.length)for(var p=f.length;p<h.length;p++)g[p]=!1;else for(var S=h.length;S<f.length;S++)g[S]=!0;for(var y=Math.min(f.length,h.length),m=0;m<y;m++)f.hasOwnProperty(m)||(g[m]=!0),g[m]===void 0&&l(f[m])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var Xw,Yl,xv=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Sj=typeof Map<"u",Ej=typeof Set<"u",Jw=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Yx=xv?Symbol.for("immer-nothing"):((Xw={})["immer-nothing"]=!0,Xw),Zw=xv?Symbol.for("immer-draftable"):"__$immer_draftable",Qe=xv?Symbol.for("immer-state"):"__$immer_state",Cj=""+Object.prototype.constructor,Uo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Xx=Object.getOwnPropertyDescriptors||function(t){var e={};return Uo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},bg={},Xl={get:function(t,e){if(e===Qe)return t;var n=fs(t);if(!$o(n,e))return function(i,s,o){var a,l=Qw(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!ii(r)?r:r===Tp(t.t,e)?(kp(t),t.o[e]=Ig(t.A.h,r,t)):r},has:function(t,e){return e in fs(t)},ownKeys:function(t){return Reflect.ownKeys(fs(t))},set:function(t,e,n){var r=Qw(fs(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Tp(fs(t),e),s=i==null?void 0:i[Qe];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(Qx(n,i)&&(n!==void 0||$o(t.t,e)))return!0;kp(t),Ei(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Tp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,kp(t),Ei(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=fs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){tr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){tr(12)}},tl={};Fs(Xl,function(t,e){tl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),tl.deleteProperty=function(t,e){return tl.set.call(this,t,e,void 0)},tl.set=function(t,e,n){return Xl.set.call(this,t[0],e,n,t[0])};var xj=function(){function t(n){var r=this;this.g=Jw,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(p){var S=this;p===void 0&&(p=a);for(var y=arguments.length,m=Array(y>1?y-1:0),w=1;w<y;w++)m[w-1]=arguments[w];return l.produce(p,function(_){var E;return(E=s).call.apply(E,[S,_].concat(m))})}}var u;if(typeof s!="function"&&tr(6),o!==void 0&&typeof o!="function"&&tr(7),ii(i)){var c=Kw(r),h=Ig(r,i,void 0),f=!0;try{u=s(h),f=!1}finally{f?Ld(c):kg(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(p){return Cp(c,o),xp(p,c)},function(p){throw Ld(c),p}):(Cp(c,o),xp(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Yx&&(u=void 0),r.D&&Ev(u,!0),o){var g=[],v=[];xr("Patches").M(i,u,g,v),o(g,v)}return u}tr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,h=Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(g){return i.apply(void 0,[g].concat(h))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ii(n)||tr(8),Gi(n)&&(n=wj(n));var r=Kw(this),i=Ig(this,n,void 0);return i[Qe].C=!0,kg(r),i},e.finishDraft=function(n,r){var i=n&&n[Qe],s=i.A;return Cp(s,r),xp(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Jw&&tr(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=xr("Patches").$;return Gi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),bn=new xj,Jx=bn.produce;bn.produceWithPatches.bind(bn);bn.setAutoFreeze.bind(bn);bn.setUseProxies.bind(bn);bn.applyPatches.bind(bn);bn.createDraft.bind(bn);bn.finishDraft.bind(bn);function Jl(t){return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function Tj(t,e){if(Jl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kj(t){var e=Tj(t,"string");return Jl(e)==="symbol"?e:String(e)}function Ij(t,e,n){return e=kj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(n),!0).forEach(function(r){Ij(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var n_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ip=function(){return Math.random().toString(36).substring(7).split("").join(".")},jd={INIT:"@@redux/INIT"+Ip(),REPLACE:"@@redux/REPLACE"+Ip(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ip()}};function bj(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Tv(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Wt(1));return n(Tv)(t,e)}if(typeof t!="function")throw new Error(Wt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Wt(3));return s}function h(p){if(typeof p!="function")throw new Error(Wt(4));if(l)throw new Error(Wt(5));var S=!0;return u(),a.push(p),function(){if(S){if(l)throw new Error(Wt(6));S=!1,u();var m=a.indexOf(p);a.splice(m,1),o=null}}}function f(p){if(!bj(p))throw new Error(Wt(7));if(typeof p.type>"u")throw new Error(Wt(8));if(l)throw new Error(Wt(9));try{l=!0,s=i(s,p)}finally{l=!1}for(var S=o=a,y=0;y<S.length;y++){var m=S[y];m()}return p}function g(p){if(typeof p!="function")throw new Error(Wt(10));i=p,f({type:jd.REPLACE})}function v(){var p,S=h;return p={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(Wt(11));function w(){m.next&&m.next(c())}w();var _=S(w);return{unsubscribe:_}}},p[n_]=function(){return this},p}return f({type:jd.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:g},r[n_]=v,r}function Rj(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:jd.INIT});if(typeof r>"u")throw new Error(Wt(12));if(typeof n(void 0,{type:jd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function Zx(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{Rj(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,h={},f=0;f<s.length;f++){var g=s[f],v=n[g],p=l[g],S=v(p,u);if(typeof S>"u")throw u&&u.type,new Error(Wt(14));h[g]=S,c=c||S!==p}return c=c||s.length!==Object.keys(l).length,c?h:l}}function Dd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Aj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Wt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Dd.apply(void 0,a)(i.dispatch),t_(t_({},i),{},{dispatch:s})}}}function eT(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var tT=eT();tT.withExtraArgument=eT;const r_=tT;var Pj=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lj=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Md=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Nj=Object.defineProperty,Oj=Object.defineProperties,jj=Object.getOwnPropertyDescriptors,i_=Object.getOwnPropertySymbols,Dj=Object.prototype.hasOwnProperty,Mj=Object.prototype.propertyIsEnumerable,s_=function(t,e,n){return e in t?Nj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Fi=function(t,e){for(var n in e||(e={}))Dj.call(e,n)&&s_(t,n,e[n]);if(i_)for(var r=0,i=i_(e);r<i.length;r++){var n=i[r];Mj.call(e,n)&&s_(t,n,e[n])}return t},bp=function(t,e){return Oj(t,jj(e))},$j=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},Uj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dd:Dd.apply(null,arguments)};function Fj(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Vj=function(t){Pj(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Md([void 0],n[0].concat(this)))):new(e.bind.apply(e,Md([void 0],n.concat(this))))},e}(Array);function Rg(t){return ii(t)?Jx(t,function(){}):t}function zj(t){return typeof t=="boolean"}function Bj(){return function(e){return Hj(e)}}function Hj(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Vj;return n&&(zj(n)?r.push(r_):r.push(r_.withExtraArgument(n.extraArgument))),r}var qj=!0;function Wj(t){var e=Bj(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,g;if(typeof i=="function")g=i;else if(Fj(i))g=Zx(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var p=Aj.apply(void 0,v),S=Dd;l&&(S=Uj(Fi({trace:!qj},typeof l=="object"&&l)));var y=[p];Array.isArray(f)?y=Md([p],f):typeof f=="function"&&(y=f(y));var m=S.apply(void 0,y);return Tv(g,c,m)}function Vi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Fi(Fi({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function nT(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function Kj(t){return typeof t=="function"}function Gj(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?nT(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(Kj(t))l=function(){return Rg(t())};else{var u=Rg(t);l=function(){return u}}function c(h,f){h===void 0&&(h=l());var g=Md([s[f.type]],o.filter(function(v){var p=v.matcher;return p(f)}).map(function(v){var p=v.reducer;return p}));return g.filter(function(v){return!!v}).length===0&&(g=[a]),g.reduce(function(v,p){if(p)if(Gi(v)){var S=v,y=p(S,f);return y===void 0?v:y}else{if(ii(v))return Jx(v,function(m){return p(m,f)});var y=p(v,f);if(y===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return v},h)}return c.getInitialState=l,c}function Qj(t,e){return t+"/"+e}function Cu(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Rg(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var h=r[c],f=Qj(e,c),g,v;"reducer"in h?(g=h.reducer,v=h.prepare):g=h,s[c]=g,o[f]=g,a[c]=v?Vi(f,v):Vi(f)});function l(){var c=typeof t.extraReducers=="function"?nT(t.extraReducers):[t.extraReducers],h=c[0],f=h===void 0?{}:h,g=c[1],v=g===void 0?[]:g,p=c[2],S=p===void 0?void 0:p,y=Fi(Fi({},f),o);return Gj(n,function(m){for(var w in y)m.addCase(w,y[w]);for(var _=0,E=v;_<E.length;_++){var T=E[_];m.addMatcher(T.matcher,T.reducer)}S&&m.addDefaultCase(S)})}var u;return{name:e,reducer:function(c,h){return u||(u=l()),u(c,h)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Yj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Xj=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=Yj[Math.random()*64|0];return e},Jj=["name","message","stack","code"],Rp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),o_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Zj=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=Jj;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},Xs=function(){function t(e,n,r){var i=Vi(e+"/fulfilled",function(u,c,h,f){return{payload:u,meta:bp(Fi({},f||{}),{arg:h,requestId:c,requestStatus:"fulfilled"})}}),s=Vi(e+"/pending",function(u,c,h){return{payload:void 0,meta:bp(Fi({},h||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Vi(e+"/rejected",function(u,c,h,f,g){return{payload:f,error:(r&&r.serializeError||Zj)(u||"Rejected"),meta:bp(Fi({},g||{}),{arg:h,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,h,f){var g=r!=null&&r.idGenerator?r.idGenerator(u):Xj(),v=new a,p;function S(m){p=m,v.abort()}var y=function(){return $j(this,null,function(){var m,w,_,E,T,k,L;return Lj(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),E=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,u,{getState:h,extra:f}),tD(E)?[4,E]:[3,2];case 1:E=A.sent(),A.label=2;case 2:if(E===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return T=new Promise(function(O,W){return v.signal.addEventListener("abort",function(){return W({name:"AbortError",message:p||"Aborted"})})}),c(s(g,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:g,arg:u},{getState:h,extra:f}))),[4,Promise.race([T,Promise.resolve(n(u,{dispatch:c,getState:h,extra:f,requestId:g,signal:v.signal,abort:S,rejectWithValue:function(O,W){return new Rp(O,W)},fulfillWithValue:function(O,W){return new o_(O,W)}})).then(function(O){if(O instanceof Rp)throw O;return O instanceof o_?i(O.payload,g,u,O.meta):i(O,g,u)})])];case 3:return _=A.sent(),[3,5];case 4:return k=A.sent(),_=k instanceof Rp?o(null,g,u,k.payload,k.meta):o(k,g,u),[3,5];case 5:return L=r&&!r.dispatchConditionRejection&&o.match(_)&&_.meta.condition,L||c(_),[2,_]}})})}();return Object.assign(y,{abort:S,requestId:g,arg:u,unwrap:function(){return y.then(eD)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function eD(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function tD(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var kv="listenerMiddleware";Vi(kv+"/add");Vi(kv+"/removeAll");Vi(kv+"/remove");var a_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);_j();const Iv={version:"2023-03-28_15-54",name:"amelianceworship"},nD={theme:"dark",version:Iv.version},rT=Cu({name:"app",initialState:nD,reducers:{setTheme(t,e){t.theme=e.payload},toggleTheme(t){t.theme=t.theme==="light"?"dark":"light"}}}),hn=wL;function ce(t){return Kx(t,Iv.name,!0)}const rD="",iT=`https://script.google.com/macros/s/${rD}/exec`;async function Js({spreadsheetId:t,sheetName:e,sheetIndex:n,columnTitles:r,columnIndexes:i,type:s}){const o=new URLSearchParams;t&&o.append("spreadsheetId",t),e&&o.append("sheetName",e),n&&o.append("sheetIndex",n.toString()),r&&o.append("columnTitles",JSON.stringify(r)),i&&o.append("columnIndexes",JSON.stringify(i)),s&&o.append("type",s);try{const l=await(await fetch(`${iT}?${o}`)).text(),u=await JSON.parse(l);if(u.status!=="success")throw new Error(u.error);return u}catch(a){throw new Error(ce(a))}}async function iD({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Js({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED"})}catch(r){throw new Error(ce(r))}}async function sD({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Js({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"TITLED_SINGLE"})}catch(r){throw new Error(ce(r))}}async function oD({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return await Js({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"TITLED"})}catch(i){throw new Error(ce(i))}}async function aD({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r}){try{return await Js({spreadsheetId:t,sheetIndex:e,sheetName:n,columnTitles:r,type:"TITLED"})}catch(i){throw new Error(ce(i))}}async function lD({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Js({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED"})}catch(r){throw new Error(ce(r))}}async function uD({spreadsheetId:t,sheetIndex:e,sheetName:n}){try{return await Js({spreadsheetId:t,sheetIndex:e,sheetName:n,type:"UNTITLED_SINGLE"})}catch(r){throw new Error(ce(r))}}async function cD({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r}){try{return Js({spreadsheetId:t,sheetIndex:e,sheetName:n,columnIndexes:r,type:"UNTITLED"})}catch(i){throw new Error(ce(i))}}async function hi({spreadsheetId:t,sheetName:e,sheetIndex:n,titlesParams:r,indexesParams:i,type:s,col:o,row:a,value:l}){const u=new URLSearchParams;t&&u.append("spreadsheetId",t),e&&u.append("sheetName",e),n&&u.append("sheetIndex",n.toString()),r&&u.append("titlesParams",JSON.stringify(r)),i&&u.append("indexesParams",JSON.stringify(i)),s&&u.append("type",s),o&&u.append("col",o.toString()),a&&u.append("row",a.toString()),l&&u.append("value",l.toString());try{const h=await(await fetch(`${iT}?${u}`,{method:"POST"})).text(),f=await JSON.parse(h);if(f.status!=="success")throw new Error(f.error);return f}catch(c){throw new Error(ce(c))}}async function dD({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await hi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(ce(i))}}async function hD({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await hi({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED_SINGLE"})}catch(i){throw new Error(ce(i))}}async function fD({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await hi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"TITLED"})}catch(i){throw new Error(ce(i))}}async function pD({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r}){try{return await hi({spreadsheetId:t,sheetIndex:e,sheetName:n,titlesParams:r,type:"TITLED"})}catch(i){throw new Error(ce(i))}}async function mD({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await hi({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"TITLED_UPDATE"})}catch(o){throw new Error(ce(o))}}async function gD({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await hi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_ONE_ROW"})}catch(i){throw new Error(ce(i))}}async function yD({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await hi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED_SINGLE"})}catch(i){throw new Error(ce(i))}}async function vD({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r}){try{return await hi({spreadsheetId:t,sheetIndex:e,sheetName:n,indexesParams:r,type:"UNTITLED"})}catch(i){throw new Error(ce(i))}}async function wD({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s}){try{return await hi({spreadsheetId:t,sheetIndex:e,sheetName:n,col:r,row:i,value:s,type:"UNTITLED_UPDATE"})}catch(o){throw new Error(ce(o))}}const _D={getAllTitledColumnsData:iD,getTitledColumnsDataByIndexes:oD,getTitledColumnsDataByTitles:aD,getAllUntitledColumnsData:lD,getUntitledColumnsDataByIndexes:cD,postTitledColumnsDataByIndexes:fD,postSingleTitledColumnsDataByIndexes:dD,postSingleTitledColumnsDataByTitles:hD,postTitledColumnsDataByTitles:pD,postAllUntitledParamsAsOneRow:gD,postSingleUntitledColumnsDataByIndexes:yD,postUntitledColumnsDataByIndexes:vD,postTitledUpdate:mD,postUntitledUpdate:wD,getAllTitledColumnsDataSingle:sD,getAllUntitledColumnsDataSingle:uD};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},oT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(n[c],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const f=s<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ED=function(t){const e=sT(t);return oT.encodeByteArray(e,!0)},$d=function(t){return ED(t).replace(/\./g,"")},aT=function(t){try{return oT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function xD(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kD(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function ID(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function bD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=()=>bD().__FIREBASE_DEFAULTS__,AD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aT(t[1]);return e&&JSON.parse(e)},bv=()=>{try{return RD()||AD()||PD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dT=t=>{var e,n;return(n=(e=bv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hT=t=>{const e=dT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LD=()=>{var t;return(t=bv())===null||t===void 0?void 0:t.config},fT=t=>{var e;return(e=bv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[$d(JSON.stringify(n)),$d(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="FirebaseError";class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OD,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zs.prototype.create)}}class Zs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Kn(i,a,r)}}function jD(t,e){return t.replace(DD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DD=/\{\$([^}]+)}/g;function MD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(l_(s)&&l_(o)){if(!Zl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function l_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $D(t,e){const n=new UD(t,e);return n.subscribe.bind(n)}class UD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ap),i.error===void 0&&(i.error=Ap),i.complete===void 0&&(i.complete=Ap);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ap(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=1e3,zD=2,BD=4*60*60*1e3,HD=.5;function u_(t,e=VD,n=zD){const r=e*Math.pow(n,t),i=Math.round(HD*r*(Math.random()-.5)*2);return Math.min(BD,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class Hn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ND;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KD(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WD(t){return t===ps?void 0:t}function KD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const QD={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},YD=Oe.INFO,XD={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},JD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zh{constructor(e){this.name=e,this._logLevel=YD,this._logHandler=JD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const ZD=(t,e)=>e.some(n=>t instanceof n);let c_,d_;function eM(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tM(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mT=new WeakMap,Ag=new WeakMap,gT=new WeakMap,Pp=new WeakMap,Rv=new WeakMap;function nM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mT.set(n,t)}).catch(()=>{}),Rv.set(e,t),e}function rM(t){if(Ag.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ag.set(t,e)}let Pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ag.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iM(t){Pg=t(Pg)}function sM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lp(this),e,...n);return gT.set(r,e.sort?e.sort():[e]),zi(r)}:tM().includes(t)?function(...e){return t.apply(Lp(this),e),zi(mT.get(this))}:function(...e){return zi(t.apply(Lp(this),e))}}function oM(t){return typeof t=="function"?sM(t):(t instanceof IDBTransaction&&rM(t),ZD(t,eM())?new Proxy(t,Pg):t)}function zi(t){if(t instanceof IDBRequest)return nM(t);if(Pp.has(t))return Pp.get(t);const e=oM(t);return e!==t&&(Pp.set(t,e),Rv.set(e,t)),e}const Lp=t=>Rv.get(t);function yT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const aM=["get","getKey","getAll","getAllKeys","count"],lM=["put","add","delete","clear"],Np=new Map;function h_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Np.set(e,s),s}iM(t=>({...t,get:(e,n,r)=>h_(e,n)||t.get(e,n,r),has:(e,n)=>!!h_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lg="@firebase/app",f_="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Zh("@firebase/app"),dM="@firebase/app-compat",hM="@firebase/analytics-compat",fM="@firebase/analytics",pM="@firebase/app-check-compat",mM="@firebase/app-check",gM="@firebase/auth",yM="@firebase/auth-compat",vM="@firebase/database",wM="@firebase/database-compat",_M="@firebase/functions",SM="@firebase/functions-compat",EM="@firebase/installations",CM="@firebase/installations-compat",xM="@firebase/messaging",TM="@firebase/messaging-compat",kM="@firebase/performance",IM="@firebase/performance-compat",bM="@firebase/remote-config",RM="@firebase/remote-config-compat",AM="@firebase/storage",PM="@firebase/storage-compat",LM="@firebase/firestore",NM="@firebase/firestore-compat",OM="firebase",jM="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",DM={[Lg]:"fire-core",[dM]:"fire-core-compat",[fM]:"fire-analytics",[hM]:"fire-analytics-compat",[mM]:"fire-app-check",[pM]:"fire-app-check-compat",[gM]:"fire-auth",[yM]:"fire-auth-compat",[vM]:"fire-rtdb",[wM]:"fire-rtdb-compat",[_M]:"fire-fn",[SM]:"fire-fn-compat",[EM]:"fire-iid",[CM]:"fire-iid-compat",[xM]:"fire-fcm",[TM]:"fire-fcm-compat",[kM]:"fire-perf",[IM]:"fire-perf-compat",[bM]:"fire-rc",[RM]:"fire-rc-compat",[AM]:"fire-gcs",[PM]:"fire-gcs-compat",[LM]:"fire-fst",[NM]:"fire-fst-compat","fire-js":"fire-js",[OM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map,Og=new Map;function MM(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ur(t){const e=t.name;if(Og.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,t);for(const n of Ud.values())MM(n,t);return!0}function rs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bi=new Zs("app","Firebase",$M);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=jM;function vT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ng,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(n||(n=LD()),!n)throw Bi.create("no-options");const s=Ud.get(i);if(s){if(Zl(n,s.options)&&Zl(r,s.config))return s;throw Bi.create("duplicate-app",{appName:i})}const o=new GD(i);for(const l of Og.values())o.addComponent(l);const a=new UM(n,r,o);return Ud.set(i,a),a}function ef(t=Ng){const e=Ud.get(t);if(!e&&t===Ng)return vT();if(!e)throw Bi.create("no-app",{appName:t});return e}function _n(t,e,n){var r;let i=(r=DM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(a.join(" "));return}ur(new Hn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="firebase-heartbeat-database",VM=1,eu="firebase-heartbeat-store";let Op=null;function wT(){return Op||(Op=yT(FM,VM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(eu)}}}).catch(t=>{throw Bi.create("idb-open",{originalErrorMessage:t.message})})),Op}async function zM(t){try{return(await wT()).transaction(eu).objectStore(eu).get(_T(t))}catch(e){if(e instanceof Kn)Vs.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vs.warn(n.message)}}}async function p_(t,e){try{const r=(await wT()).transaction(eu,"readwrite");return await r.objectStore(eu).put(e,_T(t)),r.done}catch(n){if(n instanceof Kn)Vs.warn(n.message);else{const r=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vs.warn(r.message)}}}function _T(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=1024,HM=30*24*60*60*1e3;class qM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=m_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=HM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m_(),{heartbeatsToSend:n,unsentEntries:r}=WM(this._heartbeatsCache.heartbeats),i=$d(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function m_(){return new Date().toISOString().substring(0,10)}function WM(t,e=BM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),g_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),g_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await zM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function g_(t){return $d(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){ur(new Hn("platform-logger",e=>new uM(e),"PRIVATE")),ur(new Hn("heartbeat",e=>new qM(e),"PRIVATE")),_n(Lg,f_,t),_n(Lg,f_,"esm2017"),_n("fire-js","")}GM("");function Av(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ST(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QM=ST,ET=new Zs("auth","Firebase",ST());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Zh("@firebase/auth");function Wc(t,...e){y_.logLevel<=Oe.ERROR&&y_.error(`Auth (${ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw Pv(t,...e)}function Tr(t,...e){return Pv(t,...e)}function CT(t,e,n){const r=Object.assign(Object.assign({},QM()),{[e]:n});return new Zs("auth","Firebase",r).create(e,{appName:t.name})}function YM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qn(t,"argument-error"),CT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ET.create(t,...e)}function de(t,e,...n){if(!t)throw Pv(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wc(e),new Error(e)}function si(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;function qr(t){si(t instanceof Function,"Expected a class definition");let e=v_.get(t);return e?(si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v_.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t,e){const n=rs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zl(s,e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}function JM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZM(){return w_()==="http:"||w_()==="https:"}function w_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZM()||lT()||"connection"in navigator)?navigator.onLine:!0}function t$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,si(n>e,"Short delay should be less than long delay!"),this.isMobile=CD()||TD()}get(){return e$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e){si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=new Tu(3e4,6e4);function ku(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ya(t,e,n,r,i={}){return TT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=xu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),xT.fetch()(kT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function TT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},n$),e);try{const i=new i$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw CT(t,c,u);qn(t,c)}}catch(i){if(i instanceof Kn)throw i;qn(t,"network-request-failed")}}async function Iu(t,e,n,r,i={}){const s=await ya(t,e,n,r,i);return"mfaPendingCredential"in s&&qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function kT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Lv(t.config,i):`${t.config.apiScheme}://${i}`}class i${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),r$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s$(t,e){return ya(t,"POST","/v1/accounts:delete",e)}async function o$(t,e){return ya(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a$(t,e=!1){const n=et(t),r=await n.getIdToken(e),i=Nv(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wl(jp(i.auth_time)),issuedAtTime:wl(jp(i.iat)),expirationTime:wl(jp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jp(t){return Number(t)*1e3}function Nv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const i=aT(n);return i?JSON.parse(i):(Wc("Failed to decode base64 JWT payload"),null)}catch(i){return Wc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function l$(t){const e=Nv(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kn&&u$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function u$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ta(t,o$(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?f$(s.providerUserInfo):[],a=h$(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new IT(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function d$(t){const e=et(t);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function f$(t){return t.map(e=>{var{providerId:n}=e,r=Av(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p$(t,e){const n=await TT(t,{},async()=>{const r=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await p$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new tu;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Av(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new c$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new IT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ta(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return a$(this,e)}reload(){return d$(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ta(this,s$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:_,isAnonymous:E,providerData:T,stsTokenManager:k}=n;de(w&&k,e,"internal-error");const L=tu.fromJSON(this.name,k);de(typeof w=="string",e,"internal-error"),yi(h,e.name),yi(f,e.name),de(typeof _=="boolean",e,"internal-error"),de(typeof E=="boolean",e,"internal-error"),yi(g,e.name),yi(v,e.name),yi(p,e.name),yi(S,e.name),yi(y,e.name),yi(m,e.name);const A=new Rs({uid:w,auth:e,email:f,emailVerified:_,displayName:h,isAnonymous:E,photoURL:v,phoneNumber:g,tenantId:p,stsTokenManager:L,createdAt:y,lastLoginAt:m});return T&&Array.isArray(T)&&(A.providerData=T.map(O=>Object.assign({},O))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new tu;i.updateFromServerResponse(n);const s=new Rs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fd(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bT.type="NONE";const __=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e,n){return`firebase:${t}:${e}:${n}`}class Fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fo(qr(__),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||qr(__);const o=Kc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Rs._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Fo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NT(e))return"Blackberry";if(OT(e))return"Webos";if(Ov(e))return"Safari";if((e.includes("chrome/")||AT(e))&&!e.includes("edge/"))return"Chrome";if(LT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RT(t=tn()){return/firefox\//i.test(t)}function Ov(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AT(t=tn()){return/crios\//i.test(t)}function PT(t=tn()){return/iemobile/i.test(t)}function LT(t=tn()){return/android/i.test(t)}function NT(t=tn()){return/blackberry/i.test(t)}function OT(t=tn()){return/webos/i.test(t)}function tf(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function m$(t=tn()){var e;return tf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function g$(){return kD()&&document.documentMode===10}function jT(t=tn()){return tf(t)||LT(t)||OT(t)||NT(t)||/windows phone/i.test(t)||PT(t)}function y$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t,e=[]){let n;switch(t){case"Browser":n=S_(tn());break;case"Worker":n=`${S_(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new v$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ET,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?et(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return de(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function va(t){return et(t)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=$D(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _$(t,e,n){const r=va(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=MT(e),{host:o,port:a}=S$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||E$()}function MT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S$(t){const e=MT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:C_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:C_(o)}}}function C_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function C$(t,e){return ya(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x$(t,e){return Iu(t,"POST","/v1/accounts:signInWithPassword",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",ku(t,e))}async function k$(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends jv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return x$(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return T$(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return C$(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return k$(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e){return Iu(t,"POST","/v1/accounts:signInWithIdp",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="http://localhost";class zs extends jv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Av(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:I$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R$(t){const e=nl(rl(t)).link,n=e?nl(rl(e)).deep_link_id:null,r=nl(rl(t)).deep_link_id;return(r?nl(rl(r)).link:null)||r||n||e||t}class Dv{constructor(e){var n,r,i,s,o,a;const l=nl(rl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=b$((i=l.mode)!==null&&i!==void 0?i:null);de(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=R$(e);try{return new Dv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dv.parseLink(n);return de(r,"argument-error"),nu._fromEmailAndCode(e,r.code,r.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends bu{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends bu{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends bu{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A$(t,e){return Iu(t,"POST","/v1/accounts:signUp",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Rs._fromIdTokenResponse(e,r,i),o=x_(r);return new Bs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=x_(r);return new Bs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function x_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends Kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vd(e,n,r,i)}}function $T(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vd._fromErrorAndOperation(t,s,e,r):s})}async function P$(t,e,n=!1){const r=await ta(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L$(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ta(t,$T(r,i,e,t),n);de(s.idToken,r,"internal-error");const o=Nv(s.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Bs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(t,e,n=!1){const r="signIn",i=await $T(t,r,e),s=await Bs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function N$(t,e){return UT(va(t),e)}async function O$(t,e,n){const r=va(t),i=await A$(r,{returnSecureToken:!0,email:e,password:n}),s=await Bs._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function j$(t,e,n){return N$(et(t),wa.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t,e){return ya(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M$(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=et(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ta(r,D$(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function $$(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function U$(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function F$(t,e,n,r){return et(t).onAuthStateChanged(e,n,r)}function V$(t){return et(t).signOut()}const zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(){const t=tn();return Ov(t)||tf(t)}const B$=1e3,H$=10;class VT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=z$()&&y$(),this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);g$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,H$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VT.type="LOCAL";const q$=VT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zT.type="SESSION";const BT=zT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await W$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=$v("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function G$(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function Q$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function X$(){return HT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebaseLocalStorageDb",J$=1,Bd="firebaseLocalStorage",WT="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(t,e){return t.transaction([Bd],e?"readwrite":"readonly").objectStore(Bd)}function Z$(){const t=indexedDB.deleteDatabase(qT);return new Ru(t).toPromise()}function Dg(){const t=indexedDB.open(qT,J$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bd,{keyPath:WT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bd)?e(r):(r.close(),await Z$(),e(await Dg()))})})}async function T_(t,e,n){const r=rf(t,!0).put({[WT]:e,value:n});return new Ru(r).toPromise()}async function e4(t,e){const n=rf(t,!1).get(e),r=await new Ru(n).toPromise();return r===void 0?null:r.value}function k_(t,e){const n=rf(t,!0).delete(e);return new Ru(n).toPromise()}const t4=800,n4=3;class KT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>n4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(X$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Q$(),!this.activeServiceWorker)return;this.sender=new K$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dg();return await T_(e,zd,"1"),await k_(e,zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>T_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>e4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rf(i,!1).getAll();return new Ru(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KT.type="LOCAL";const r4=KT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function s4(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",i4().appendChild(r)})}function o4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t,e){return e?qr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv extends jv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a4(t){return UT(t.auth,new Uv(t),t.bypassAuthState)}function l4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),L$(n,new Uv(t),t.bypassAuthState)}async function u4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),P$(n,new Uv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a4;case"linkViaPopup":case"linkViaRedirect":return u4;case"reauthViaPopup":case"reauthViaRedirect":return l4;default:qn(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new Tu(2e3,1e4);async function d4(t,e,n){const r=va(t);YM(t,e,Mv);const i=GT(r,n);return new _s(r,"signInViaPopup",e,i).executeNotNull()}class _s extends QT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=$v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,c4.get())};e()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="pendingRedirect",Gc=new Map;class f4 extends QT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await p4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p4(t,e){const n=y4(e),r=g4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function m4(t,e){Gc.set(t._key(),e)}function g4(t){return qr(t._redirectPersistence)}function y4(t){return Kc(h4,t.config.apiKey,t.name)}async function v4(t,e,n=!1){const r=va(t),i=GT(r,e),o=await new f4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=10*60*1e3;class _4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w4&&this.cachedEventUids.clear(),this.cachedEventUids.has(I_(e))}saveEventToCache(e){this.cachedEventUids.add(I_(e)),this.lastProcessedEventTime=Date.now()}}function I_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e={}){return ya(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x4=/^https?/;async function T4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E4(t);for(const n of e)try{if(k4(n))return}catch{}qn(t,"unauthorized-domain")}function k4(t){const e=jg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!x4.test(n))return!1;if(C4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=new Tu(3e4,6e4);function b_(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function b4(t){return new Promise((e,n)=>{var r,i,s;function o(){b_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b_(),n(Tr(t,"network-request-failed"))},timeout:I4.get()})}if(!((i=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kr().gapi)===null||s===void 0)&&s.load)o();else{const a=o4("iframefcb");return kr()[a]=()=>{gapi.load?o():n(Tr(t,"network-request-failed"))},s4(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function R4(t){return Qc=Qc||b4(t),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new Tu(5e3,15e3),P4="__/auth/iframe",L4="emulator/auth/iframe",N4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j4(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lv(e,L4):`https://${t.config.authDomain}/${P4}`,r={apiKey:e.apiKey,appName:t.name,v:ga},i=O4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xu(r).slice(1)}`}async function D4(t){const e=await R4(t),n=kr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:j4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Tr(t,"network-request-failed"),a=kr().setTimeout(()=>{s(o)},A4.get());function l(){kr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$4=500,U4=600,F4="_blank",V4="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z4(t,e,n,r=$4,i=U4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},M4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=tn().toLowerCase();n&&(a=AT(u)?F4:n),RT(u)&&(e=e||V4,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(m$(u)&&a!=="_self")return B4(e||"",a),new R_(null);const h=window.open(e||"",a,c);de(h,t,"popup-blocked");try{h.focus()}catch{}return new R_(h)}function B4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="__/auth/handler",q4="emulator/auth/handler";function A_(t,e,n,r,i,s){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ga,eventId:i};if(e instanceof Mv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof bu){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${W4(t)}?${xu(a).slice(1)}`}function W4({config:t}){return t.emulator?Lv(t,q4):`https://${t.authDomain}/${H4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="webStorageSupport";class K4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BT,this._completeRedirectFn=v4,this._overrideRedirectResult=m4}async _openPopup(e,n,r,i){var s;si((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=A_(e,n,r,jg(),i);return z4(e,o,$v())}async _openRedirect(e,n,r,i){return await this._originValidation(e),G$(A_(e,n,r,jg(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(si(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await D4(e),r=new _4(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dp,{type:Dp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Dp];o!==void 0&&n(!!o),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jT()||Ov()||tf()}}const G4=K4;var P_="@firebase/auth",L_="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function X4(t){ur(new Hn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{de(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),de(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(t)},c=new w$(a,l,u);return JM(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ur(new Hn("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(r=>new Q4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_n(P_,L_,Y4(t)),_n(P_,L_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=5*60,Z4=fT("authIdTokenMaxAge")||J4;let N_=null;const e3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Z4)return;const i=n==null?void 0:n.token;N_!==i&&(N_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function t3(t=ef()){const e=rs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XM(t,{popupRedirectResolver:G4,persistence:[r4,q$,BT]}),r=fT("authTokenSyncURL");if(r){const s=e3(r);U$(n,s,()=>s(n.currentUser)),$$(n,o=>s(o))}const i=dT("auth");return i&&_$(n,`http://${i}`),n}X4("Browser");const XT="@firebase/installations",Fv="0.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=1e4,ZT=`w:${Fv}`,ek="FIS_v2",n3="https://firebaseinstallations.googleapis.com/v1",r3=60*60*1e3,i3="installations",s3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Hs=new Zs(i3,s3,o3);function tk(t){return t instanceof Kn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk({projectId:t}){return`${n3}/projects/${t}/installations`}function rk(t){return{token:t.token,requestStatus:2,expiresIn:l3(t.expiresIn),creationTime:Date.now()}}async function ik(t,e){const r=(await e.json()).error;return Hs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function sk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function a3(t,{refreshToken:e}){const n=sk(t);return n.append("Authorization",u3(e)),n}async function ok(t){const e=await t();return e.status>=500&&e.status<600?t():e}function l3(t){return Number(t.replace("s","000"))}function u3(t){return`${ek} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nk(t),i=sk(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:ek,appId:t.appId,sdkVersion:ZT},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await ok(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:rk(u.authToken)}}else throw await ik("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=/^[cdef][\w-]{21}$/,Mg="";function f3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=p3(t);return h3.test(n)?n:Mg}catch{return Mg}}function p3(t){return d3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new Map;function uk(t,e){const n=sf(t);ck(n,e),m3(n,e)}function ck(t,e){const n=lk.get(t);if(n)for(const r of n)r(e)}function m3(t,e){const n=g3();n&&n.postMessage({key:t,fid:e}),y3()}let Ss=null;function g3(){return!Ss&&"BroadcastChannel"in self&&(Ss=new BroadcastChannel("[Firebase] FID Change"),Ss.onmessage=t=>{ck(t.data.key,t.data.fid)}),Ss}function y3(){lk.size===0&&Ss&&(Ss.close(),Ss=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="firebase-installations-database",w3=1,qs="firebase-installations-store";let Mp=null;function Vv(){return Mp||(Mp=yT(v3,w3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qs)}}})),Mp}async function Hd(t,e){const n=sf(t),i=(await Vv()).transaction(qs,"readwrite"),s=i.objectStore(qs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&uk(t,e.fid),e}async function dk(t){const e=sf(t),r=(await Vv()).transaction(qs,"readwrite");await r.objectStore(qs).delete(e),await r.done}async function of(t,e){const n=sf(t),i=(await Vv()).transaction(qs,"readwrite"),s=i.objectStore(qs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&uk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zv(t){let e;const n=await of(t.appConfig,r=>{const i=_3(r),s=S3(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Mg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _3(t){const e=t||{fid:f3(),registrationStatus:0};return hk(e)}function S3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Hs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=E3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:C3(t)}:{installationEntry:e}}async function E3(t,e){try{const n=await c3(t,e);return Hd(t.appConfig,n)}catch(n){throw tk(n)&&n.customData.serverCode===409?await dk(t.appConfig):await Hd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function C3(t){let e=await O_(t.appConfig);for(;e.registrationStatus===1;)await ak(100),e=await O_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await zv(t);return r||n}return e}function O_(t){return of(t,e=>{if(!e)throw Hs.create("installation-not-found");return hk(e)})}function hk(t){return x3(t)?{fid:t.fid,registrationStatus:0}:t}function x3(t){return t.registrationStatus===1&&t.registrationTime+JT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3({appConfig:t,heartbeatServiceProvider:e},n){const r=k3(t,n),i=a3(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:ZT,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await ok(()=>fetch(r,a));if(l.ok){const u=await l.json();return rk(u)}else throw await ik("Generate Auth Token",l)}function k3(t,{fid:e}){return`${nk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bv(t,e=!1){let n;const r=await of(t.appConfig,s=>{if(!fk(s))throw Hs.create("not-registered");const o=s.authToken;if(!e&&R3(o))return s;if(o.requestStatus===1)return n=I3(t,e),s;{if(!navigator.onLine)throw Hs.create("app-offline");const a=P3(s);return n=b3(t,a),a}});return n?await n:r.authToken}async function I3(t,e){let n=await j_(t.appConfig);for(;n.authToken.requestStatus===1;)await ak(100),n=await j_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Bv(t,e):r}function j_(t){return of(t,e=>{if(!fk(e))throw Hs.create("not-registered");const n=e.authToken;return L3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function b3(t,e){try{const n=await T3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Hd(t.appConfig,r),n}catch(n){if(tk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Hd(t.appConfig,r)}throw n}}function fk(t){return t!==void 0&&t.registrationStatus===2}function R3(t){return t.requestStatus===2&&!A3(t)}function A3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+r3}function P3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function L3(t){return t.requestStatus===1&&t.requestTime+JT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(t){const e=t,{installationEntry:n,registrationPromise:r}=await zv(e);return r?r.catch(console.error):Bv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e=!1){const n=t;return await j3(n),(await Bv(n,e)).token}async function j3(t){const{registrationPromise:e}=await zv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){if(!t||!t.options)throw $p("App Configuration");if(!t.name)throw $p("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $p(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $p(t){return Hs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="installations",M3="installations-internal",$3=t=>{const e=t.getProvider("app").getImmediate(),n=D3(e),r=rs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},U3=t=>{const e=t.getProvider("app").getImmediate(),n=rs(e,pk).getImmediate();return{getId:()=>N3(n),getToken:i=>O3(n,i)}};function F3(){ur(new Hn(pk,$3,"PUBLIC")),ur(new Hn(M3,U3,"PRIVATE"))}F3();_n(XT,Fv);_n(XT,Fv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="analytics",V3="firebase_id",z3="origin",B3=60*1e3,H3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mk="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new Zh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function q3(t,e){const n=document.createElement("script");n.src=`${mk}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function W3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function K3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await gk(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){kn.error(a)}t("config",i,s)}async function G3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await gk(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){kn.error(s)}}function Q3(t,e,n,r){async function i(s,o,a){try{s==="event"?await G3(t,e,n,o,a):s==="config"?await K3(t,e,n,r,o,a):s==="consent"?t("consent","update",a):t("set",o)}catch(l){kn.error(l)}}return i}function Y3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Q3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function X3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(mk)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},Fn=new Zs("analytics","Analytics",J3);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=30,e6=1e3;class t6{constructor(e={},n=e6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const yk=new t6;function n6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function r6(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:n6(r)},s=H3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function i6(t,e=yk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Fn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Fn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new a6;return setTimeout(async()=>{a.abort()},n!==void 0?n:B3),vk({appId:r,apiKey:i,measurementId:s},o,a,e)}async function vk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=yk){var s;const{appId:o,measurementId:a}=t;try{await s6(r,e)}catch(l){if(a)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await r6(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!o6(u)){if(i.deleteThrottleMetadata(o),a)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?u_(n,i.intervalMillis,Z3):u_(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),kn.debug(`Calling attemptFetch again in ${c} millis`),vk(t,h,r,i)}}function s6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function o6(t){if(!(t instanceof Kn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class a6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function l6(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(){if(uT())try{await cT()}catch(t){return kn.warn(Fn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return kn.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function c6(t,e,n,r,i,s,o){var a;const l=i6(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>kn.error(g)),e.push(l);const u=u6().then(g=>{if(g)return r.getId()}),[c,h]=await Promise.all([l,u]);X3(s)||q3(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[z3]="firebase",f.update=!0,h!=null&&(f[V3]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.app=e}_delete(){return delete _l[this.app.options.appId],Promise.resolve()}}let _l={},D_=[];const M_={};let Up="dataLayer",h6="gtag",$_,wk,U_=!1;function f6(){const t=[];if(lT()&&t.push("This is a browser extension environment."),ID()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Fn.create("invalid-analytics-context",{errorInfo:e});kn.warn(n.message)}}function p6(t,e,n){f6();const r=t.options.appId;if(!r)throw Fn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fn.create("no-api-key");if(_l[r]!=null)throw Fn.create("already-exists",{id:r});if(!U_){W3(Up);const{wrappedGtag:s,gtagCore:o}=Y3(_l,D_,M_,Up,h6);wk=s,$_=o,U_=!0}return _l[r]=c6(t,D_,M_,e,$_,Up,n),new d6(t)}function m6(t=ef()){t=et(t);const e=rs(t,qd);return e.isInitialized()?e.getImmediate():g6(t)}function g6(t,e={}){const n=rs(t,qd);if(n.isInitialized()){const i=n.getImmediate();if(Zl(e,n.getOptions()))return i;throw Fn.create("already-initialized")}return n.initialize({options:e})}function y6(t,e,n,r){t=et(t),l6(wk,_l[t.app.options.appId],e,n,r).catch(i=>kn.error(i))}const F_="@firebase/analytics",V_="0.9.0";function v6(){ur(new Hn(qd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return p6(r,i,n)},"PUBLIC")),ur(new Hn("analytics-internal",t,"PRIVATE")),_n(F_,V_),_n(F_,V_,"esm2017");function t(e){try{const n=e.getProvider(qd).getImmediate();return{logEvent:(r,i,s)=>y6(n,r,i,s)}}catch(n){throw Fn.create("interop-component-reg-failed",{reason:n})}}}v6();var w6="firebase",_6="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n(w6,_6,"app");var S6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,Hv=Hv||{},pe=S6||self;function Wd(){}function af(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Au(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function E6(t){return Object.prototype.hasOwnProperty.call(t,Fp)&&t[Fp]||(t[Fp]=++C6)}var Fp="closure_uid_"+(1e9*Math.random()>>>0),C6=0;function x6(t,e,n){return t.call.apply(t.bind,arguments)}function T6(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Jt=x6:Jt=T6,Jt.apply(null,arguments)}function wc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Vt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function is(){this.s=this.s,this.o=this.o}var k6=0;is.prototype.s=!1;is.prototype.na=function(){!this.s&&(this.s=!0,this.M(),k6!=0)&&E6(this)};is.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _k=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function qv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function z_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(af(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var I6=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pe.addEventListener("test",Wd,e),pe.removeEventListener("test",Wd,e)}catch{}return t}();function Kd(t){return/^[\s\xa0]*$/.test(t)}var B_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Vp(t,e){return t<e?-1:t>e?1:0}function lf(){var t=pe.navigator;return t&&(t=t.userAgent)?t:""}function wr(t){return lf().indexOf(t)!=-1}function Wv(t){return Wv[" "](t),t}Wv[" "]=Wd;function b6(t){var e=P6;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var R6=wr("Opera"),na=wr("Trident")||wr("MSIE"),Sk=wr("Edge"),$g=Sk||na,Ek=wr("Gecko")&&!(lf().toLowerCase().indexOf("webkit")!=-1&&!wr("Edge"))&&!(wr("Trident")||wr("MSIE"))&&!wr("Edge"),A6=lf().toLowerCase().indexOf("webkit")!=-1&&!wr("Edge");function Ck(){var t=pe.document;return t?t.documentMode:void 0}var Gd;e:{var zp="",Bp=function(){var t=lf();if(Ek)return/rv:([^\);]+)(\)|;)/.exec(t);if(Sk)return/Edge\/([\d\.]+)/.exec(t);if(na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(A6)return/WebKit\/(\S+)/.exec(t);if(R6)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Bp&&(zp=Bp?Bp[1]:""),na){var Hp=Ck();if(Hp!=null&&Hp>parseFloat(zp)){Gd=String(Hp);break e}}Gd=zp}var P6={};function L6(){return b6(function(){let t=0;const e=B_(String(Gd)).split("."),n=B_("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Vp(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Vp(i[2].length==0,s[2].length==0)||Vp(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Ug;if(pe.document&&na){var H_=Ck();Ug=H_||parseInt(Gd,10)||void 0}else Ug=void 0;var N6=Ug;function ru(t,e){if(Zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ek){e:{try{Wv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:O6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ru.X.h.call(this)}}Vt(ru,Zt);var O6={2:"touch",3:"pen",4:"mouse"};ru.prototype.h=function(){ru.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pu="closure_listenable_"+(1e6*Math.random()|0),j6=0;function D6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++j6,this.ba=this.ea=!1}function uf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Kv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function xk(t){const e={};for(const n in t)e[n]=t[n];return e}const q_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tk(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<q_.length;s++)n=q_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cf(t){this.src=t,this.g={},this.h=0}cf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Vg(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new D6(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Fg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=_k(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(uf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Vg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Gv="closure_lm_"+(1e6*Math.random()|0),qp={};function kk(t,e,n,r,i){if(r&&r.once)return bk(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)kk(t,e[s],n,r,i);return null}return n=Xv(n),t&&t[Pu]?t.N(e,n,Au(r)?!!r.capture:!!r,i):Ik(t,e,n,!1,r,i)}function Ik(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Au(i)?!!i.capture:!!i,a=Yv(t);if(a||(t[Gv]=a=new cf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=M6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)I6||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ak(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function M6(){function t(n){return e.call(t.src,t.listener,n)}const e=$6;return t}function bk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bk(t,e[s],n,r,i);return null}return n=Xv(n),t&&t[Pu]?t.O(e,n,Au(r)?!!r.capture:!!r,i):Ik(t,e,n,!0,r,i)}function Rk(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Rk(t,e[s],n,r,i);else r=Au(r)?!!r.capture:!!r,n=Xv(n),t&&t[Pu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Vg(s,n,r,i),-1<n&&(uf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Yv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Vg(e,n,r,i)),(n=-1<t?e[t]:null)&&Qv(n))}function Qv(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Pu])Fg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ak(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Yv(e))?(Fg(n,t),n.h==0&&(n.src=null,e[Gv]=null)):uf(t)}}}function Ak(t){return t in qp?qp[t]:qp[t]="on"+t}function $6(t,e){if(t.ba)t=!0;else{e=new ru(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Qv(t),t=n.call(r,e)}return t}function Yv(t){return t=t[Gv],t instanceof cf?t:null}var Wp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xv(t){return typeof t=="function"?t:(t[Wp]||(t[Wp]=function(e){return t.handleEvent(e)}),t[Wp])}function Lt(){is.call(this),this.i=new cf(this),this.P=this,this.I=null}Vt(Lt,is);Lt.prototype[Pu]=!0;Lt.prototype.removeEventListener=function(t,e,n,r){Rk(this,t,e,n,r)};function Ut(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Zt(e,t);else if(e instanceof Zt)e.target=e.target||t;else{var i=e;e=new Zt(r,t),Tk(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=_c(o,r,!0,e)&&i}if(o=e.g=t,i=_c(o,r,!0,e)&&i,i=_c(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=_c(o,r,!1,e)&&i}Lt.prototype.M=function(){if(Lt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)uf(n[r]);delete t.g[e],t.h--}}this.I=null};Lt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function _c(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Fg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Jv=pe.JSON.stringify;function U6(){var t=Nk;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class F6{constructor(){this.h=this.g=null}add(e,n){const r=Pk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Pk=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new V6,t=>t.reset());class V6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function z6(t){pe.setTimeout(()=>{throw t},0)}function Lk(t,e){zg||B6(),Bg||(zg(),Bg=!0),Nk.add(t,e)}var zg;function B6(){var t=pe.Promise.resolve(void 0);zg=function(){t.then(H6)}}var Bg=!1,Nk=new F6;function H6(){for(var t;t=U6();){try{t.h.call(t.g)}catch(n){z6(n)}var e=Pk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bg=!1}function df(t,e){Lt.call(this),this.h=t||1,this.g=e||pe,this.j=Jt(this.lb,this),this.l=Date.now()}Vt(df,Lt);Z=df.prototype;Z.ca=!1;Z.R=null;Z.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ut(this,"tick"),this.ca&&(Zv(this),this.start()))}};Z.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Zv(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}Z.M=function(){df.X.M.call(this),Zv(this),delete this.g};function e1(t,e,n){if(typeof t=="function")n&&(t=Jt(t,n));else if(t&&typeof t.handleEvent=="function")t=Jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pe.setTimeout(t,e||0)}function Ok(t){t.g=e1(()=>{t.g=null,t.i&&(t.i=!1,Ok(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class q6 extends is{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ok(this)}M(){super.M(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function iu(t){is.call(this),this.h=t,this.g={}}Vt(iu,is);var W_=[];function jk(t,e,n,r){Array.isArray(n)||(n&&(W_[0]=n.toString()),n=W_);for(var i=0;i<n.length;i++){var s=kk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Dk(t){Kv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qv(e)},t),t.g={}}iu.prototype.M=function(){iu.X.M.call(this),Dk(this)};iu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hf(){this.g=!0}hf.prototype.Aa=function(){this.g=!1};function W6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function K6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ro(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Q6(t,n)+(r?" "+r:"")})}function G6(t,e){t.info(function(){return"TIMEOUT: "+e})}hf.prototype.info=function(){};function Q6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Jv(n)}catch{return e}}var eo={},K_=null;function ff(){return K_=K_||new Lt}eo.Pa="serverreachability";function Mk(t){Zt.call(this,eo.Pa,t)}Vt(Mk,Zt);function su(t){const e=ff();Ut(e,new Mk(e))}eo.STAT_EVENT="statevent";function $k(t,e){Zt.call(this,eo.STAT_EVENT,t),this.stat=e}Vt($k,Zt);function ln(t){const e=ff();Ut(e,new $k(e,t))}eo.Qa="timingevent";function Uk(t,e){Zt.call(this,eo.Qa,t),this.size=e}Vt(Uk,Zt);function Lu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){t()},e)}var pf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Fk={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function t1(){}t1.prototype.h=null;function G_(t){return t.h||(t.h=t.i())}function Vk(){}var Nu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function n1(){Zt.call(this,"d")}Vt(n1,Zt);function r1(){Zt.call(this,"c")}Vt(r1,Zt);var Hg;function mf(){}Vt(mf,t1);mf.prototype.g=function(){return new XMLHttpRequest};mf.prototype.i=function(){return{}};Hg=new mf;function Ou(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new iu(this),this.O=Y6,t=$g?125:void 0,this.T=new df(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new zk}function zk(){this.i=null,this.g="",this.h=!1}var Y6=45e3,qg={},Qd={};Z=Ou.prototype;Z.setTimeout=function(t){this.O=t};function Wg(t,e,n){t.K=1,t.v=yf(oi(e)),t.s=n,t.P=!0,Bk(t,null)}function Bk(t,e){t.F=Date.now(),ju(t),t.A=oi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Xk(n.i,"t",r),t.C=0,n=t.l.H,t.h=new zk,t.g=vI(t.l,n?e:null,!t.s),0<t.N&&(t.L=new q6(Jt(t.La,t,t.g),t.N)),jk(t.S,t.g,"readystatechange",t.ib),e=t.H?xk(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),su(),W6(t.j,t.u,t.A,t.m,t.U,t.s)}Z.ib=function(t){t=t.target;const e=this.L;e&&Wr(t)==3?e.l():this.La(t)};Z.La=function(t){try{if(t==this.g)e:{const c=Wr(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||$g||this.g&&(this.h.h||this.g.fa()||J_(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?su(3):su(2)),gf(this);var n=this.g.aa();this.Y=n;t:if(Hk(this)){var r=J_(this.g);t="";var i=r.length,s=Wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),Sl(this);var o="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,K6(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kd(a)){var u=a;break t}}u=null}if(n=u)Ro(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Kg(this,n);else{this.i=!1,this.o=3,ln(12),Es(this),Sl(this);break e}}this.P?(qk(this,c,o),$g&&this.i&&c==3&&(jk(this.S,this.T,"tick",this.hb),this.T.start())):(Ro(this.j,this.m,o,null),Kg(this,o)),c==4&&Es(this),this.i&&!this.I&&(c==4?pI(this.l,this):(this.i=!1,ju(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),Es(this),Sl(this)}}}catch{}finally{}};function Hk(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function qk(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=X6(t,n),i==Qd){e==4&&(t.o=4,ln(14),r=!1),Ro(t.j,t.m,null,"[Incomplete Response]");break}else if(i==qg){t.o=4,ln(15),Ro(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ro(t.j,t.m,i,null),Kg(t,i);Hk(t)&&i!=Qd&&i!=qg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ln(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),c1(e),e.K=!0,ln(11))):(Ro(t.j,t.m,n,"[Invalid Chunked Response]"),Es(t),Sl(t))}Z.hb=function(){if(this.g){var t=Wr(this.g),e=this.g.fa();this.C<e.length&&(gf(this),qk(this,t,e),this.i&&t!=4&&ju(this))}};function X6(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Qd:(n=Number(e.substring(n,r)),isNaN(n)?qg:(r+=1,r+n>e.length?Qd:(e=e.substr(r,n),t.C=r+n,e)))}Z.cancel=function(){this.I=!0,Es(this)};function ju(t){t.V=Date.now()+t.O,Wk(t,t.O)}function Wk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Lu(Jt(t.gb,t),e)}function gf(t){t.B&&(pe.clearTimeout(t.B),t.B=null)}Z.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(G6(this.j,this.A),this.K!=2&&(su(),ln(17)),Es(this),this.o=2,Sl(this)):Wk(this,this.V-t)};function Sl(t){t.l.G==0||t.I||pI(t.l,t)}function Es(t){gf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Zv(t.T),Dk(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Kg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Gg(n.h,t))){if(!t.J&&Gg(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Jd(n),_f(n);else break e;u1(n),ln(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Lu(Jt(n.cb,n),6e3));if(1>=eI(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Cs(n,11)}else if((t.J||n.g==t)&&Jd(n),!Kd(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(i1(s,s.h),s.h=null))}if(r.D){const p=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.za=p,Xe(r.F,r.D,p))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=yI(r,r.H?r.ka:null,r.V),o.J){tI(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(gf(a),ju(a)),r.g=o}else hI(r);0<n.i.length&&Sf(n)}else u[0]!="stop"&&u[0]!="close"||Cs(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Cs(n,7):l1(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}su(4)}catch{}}function J6(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(af(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Z6(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(af(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Kk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(af(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Z6(t),r=J6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Gk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function As(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof As){this.h=e!==void 0?e:t.h,Yd(this,t.j),this.s=t.s,this.g=t.g,Xd(this,t.m),this.l=t.l,e=t.i;var n=new ou;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Q_(this,n),this.o=t.o}else t&&(n=String(t).match(Gk))?(this.h=!!e,Yd(this,n[1]||"",!0),this.s=il(n[2]||""),this.g=il(n[3]||"",!0),Xd(this,n[4]),this.l=il(n[5]||"",!0),Q_(this,n[6]||"",!0),this.o=il(n[7]||"")):(this.h=!!e,this.i=new ou(null,this.h))}As.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sl(e,Y_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(sl(e,Y_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(sl(n,n.charAt(0)=="/"?rU:nU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sl(n,sU)),t.join("")};function oi(t){return new As(t)}function Yd(t,e,n){t.j=n?il(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Q_(t,e,n){e instanceof ou?(t.i=e,oU(t.i,t.h)):(n||(e=sl(e,iU)),t.i=new ou(e,t.h))}function Xe(t,e,n){t.i.set(e,n)}function yf(t){return Xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function il(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,tU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Y_=/[#\/\?@]/g,nU=/[#\?:]/g,rU=/[#\?]/g,iU=/[#\?@]/g,sU=/#/g;function ou(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ss(t){t.g||(t.g=new Map,t.h=0,t.i&&eU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Z=ou.prototype;Z.add=function(t,e){ss(this),this.i=null,t=_a(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Qk(t,e){ss(t),e=_a(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Yk(t,e){return ss(t),e=_a(t,e),t.g.has(e)}Z.forEach=function(t,e){ss(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Z.oa=function(){ss(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Z.W=function(t){ss(this);let e=[];if(typeof t=="string")Yk(this,t)&&(e=e.concat(this.g.get(_a(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Z.set=function(t,e){return ss(this),this.i=null,t=_a(this,t),Yk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Z.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function Xk(t,e,n){Qk(t,e),0<n.length&&(t.i=null,t.g.set(_a(t,e),qv(n)),t.h+=n.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function _a(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function oU(t,e){e&&!t.j&&(ss(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Qk(this,r),Xk(this,i,n))},t)),t.j=e}var aU=class{constructor(e,n){this.h=e,this.g=n}};function Jk(t){this.l=t||lU,pe.PerformanceNavigationTiming?(t=pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pe.g&&pe.g.Ga&&pe.g.Ga()&&pe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lU=10;function Zk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function eI(t){return t.h?1:t.g?t.g.size:0}function Gg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function i1(t,e){t.g?t.g.add(e):t.h=e}function tI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Jk.prototype.cancel=function(){if(this.i=nI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function nI(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return qv(t.i)}function s1(){}s1.prototype.stringify=function(t){return pe.JSON.stringify(t,void 0)};s1.prototype.parse=function(t){return pe.JSON.parse(t,void 0)};function uU(){this.g=new s1}function cU(t,e,n){const r=n||"";try{Kk(t,function(i,s){let o=i;Au(i)&&(o=Jv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dU(t,e){const n=new hf;if(pe.Image){const r=new Image;r.onload=wc(Sc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wc(Sc,n,r,"TestLoadImage: error",!1,e),r.onabort=wc(Sc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wc(Sc,n,r,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Sc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Du(t){this.l=t.ac||null,this.j=t.jb||!1}Vt(Du,t1);Du.prototype.g=function(){return new vf(this.l,this.j)};Du.prototype.i=function(t){return function(){return t}}({});function vf(t,e){Lt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=o1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vt(vf,Lt);var o1=0;Z=vf.prototype;Z.open=function(t,e){if(this.readyState!=o1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,au(this)};Z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||pe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mu(this)),this.readyState=o1};Z.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,au(this)),this.g&&(this.readyState=3,au(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rI(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function rI(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}Z.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mu(this):au(this),this.readyState==3&&rI(this)}};Z.Va=function(t){this.g&&(this.response=this.responseText=t,Mu(this))};Z.Ua=function(t){this.g&&(this.response=t,Mu(this))};Z.ga=function(){this.g&&Mu(this)};function Mu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,au(t)}Z.setRequestHeader=function(t,e){this.v.append(t,e)};Z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function au(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(vf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var hU=pe.JSON.parse;function ot(t){Lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=iI,this.K=this.L=!1}Vt(ot,Lt);var iI="",fU=/^https?$/i,pU=["POST","PUT"];Z=ot.prototype;Z.Ka=function(t){this.L=t};Z.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hg.g(),this.C=this.u?G_(this.u):G_(Hg),this.g.onreadystatechange=Jt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){X_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=pe.FormData&&t instanceof pe.FormData,!(0<=_k(pU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{aI(this),0<this.B&&((this.K=mU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.qa,this)):this.A=e1(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){X_(this,s)}};function mU(t){return na&&L6()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Z.qa=function(){typeof Hv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))};function X_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,sI(t),wf(t)}function sI(t){t.D||(t.D=!0,Ut(t,"complete"),Ut(t,"error"))}Z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ut(this,"complete"),Ut(this,"abort"),wf(this))};Z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wf(this,!0)),ot.X.M.call(this)};Z.Ha=function(){this.s||(this.F||this.v||this.l?oI(this):this.fb())};Z.fb=function(){oI(this)};function oI(t){if(t.h&&typeof Hv<"u"&&(!t.C[1]||Wr(t)!=4||t.aa()!=2)){if(t.v&&Wr(t)==4)e1(t.Ha,0,t);else if(Ut(t,"readystatechange"),Wr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Gk)[1]||null;if(!i&&pe.self&&pe.self.location){var s=pe.self.location.protocol;i=s.substr(0,s.length-1)}r=!fU.test(i?i.toLowerCase():"")}n=r}if(n)Ut(t,"complete"),Ut(t,"success");else{t.m=6;try{var o=2<Wr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",sI(t)}}finally{wf(t)}}}}function wf(t,e){if(t.g){aI(t);const n=t.g,r=t.C[0]?Wd:null;t.g=null,t.C=null,e||Ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function aI(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(pe.clearTimeout(t.A),t.A=null)}function Wr(t){return t.g?t.g.readyState:0}Z.aa=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}};Z.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),hU(e)}};function J_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case iI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Z.Ea=function(){return this.m};Z.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function lI(t){let e="";return Kv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function a1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Xe(t,e,n))}function za(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uI(t){this.Ca=0,this.i=[],this.j=new hf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=za("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=za("baseRetryDelayMs",5e3,t),this.bb=za("retryDelaySeedMs",1e4,t),this.$a=za("forwardChannelMaxRetries",2,t),this.ta=za("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Jk(t&&t.concurrentRequestLimit),this.Fa=new uU,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}Z=uI.prototype;Z.ma=8;Z.G=1;function l1(t){if(cI(t),t.G==3){var e=t.U++,n=oi(t.F);Xe(n,"SID",t.I),Xe(n,"RID",e),Xe(n,"TYPE","terminate"),$u(t,n),e=new Ou(t,t.j,e,void 0),e.K=2,e.v=yf(oi(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon&&(n=pe.navigator.sendBeacon(e.v.toString(),"")),!n&&pe.Image&&(new Image().src=e.v,n=!0),n||(e.g=vI(e.l,null),e.g.da(e.v)),e.F=Date.now(),ju(e)}gI(t)}function _f(t){t.g&&(c1(t),t.g.cancel(),t.g=null)}function cI(t){_f(t),t.u&&(pe.clearTimeout(t.u),t.u=null),Jd(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&pe.clearTimeout(t.m),t.m=null)}function Sf(t){Zk(t.h)||t.m||(t.m=!0,Lk(t.Ja,t),t.C=0)}function gU(t,e){return eI(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Lu(Jt(t.Ja,t,e),mI(t,t.C)),t.C++,!0)}Z.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Ou(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=xk(s),Tk(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=dI(this,i,e),n=oi(this.F),Xe(n,"RID",t),Xe(n,"CVER",22),this.D&&Xe(n,"X-HTTP-Session-Id",this.D),$u(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(lI(s)))+"&"+e:this.o&&a1(n,this.o,s)),i1(this.h,i),this.Ya&&Xe(n,"TYPE","init"),this.O?(Xe(n,"$req",e),Xe(n,"SID","null"),i.Z=!0,Wg(i,n,null)):Wg(i,n,e),this.G=2}}else this.G==3&&(t?Z_(this,t):this.i.length==0||Zk(this.h)||Z_(this))};function Z_(t,e){var n;e?n=e.m:n=t.U++;const r=oi(t.F);Xe(r,"SID",t.I),Xe(r,"RID",n),Xe(r,"AID",t.T),$u(t,r),t.o&&t.s&&a1(r,t.o,t.s),n=new Ou(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=dI(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),i1(t.h,n),Wg(n,r,e)}function $u(t,e){t.ia&&Kv(t.ia,function(n,r){Xe(e,r,n)}),t.l&&Kk({},function(n,r){Xe(e,r,n)})}function dI(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Jt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{cU(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function hI(t){t.g||t.u||(t.Z=1,Lk(t.Ia,t),t.A=0)}function u1(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Lu(Jt(t.Ia,t),mI(t,t.A)),t.A++,!0)}Z.Ia=function(){if(this.u=null,fI(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Lu(Jt(this.eb,this),t)}};Z.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ln(10),_f(this),fI(this))};function c1(t){t.B!=null&&(pe.clearTimeout(t.B),t.B=null)}function fI(t){t.g=new Ou(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=oi(t.sa);Xe(e,"RID","rpc"),Xe(e,"SID",t.I),Xe(e,"CI",t.L?"0":"1"),Xe(e,"AID",t.T),Xe(e,"TYPE","xmlhttp"),$u(t,e),t.o&&t.s&&a1(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=yf(oi(e)),n.s=null,n.P=!0,Bk(n,t)}Z.cb=function(){this.v!=null&&(this.v=null,_f(this),u1(this),ln(19))};function Jd(t){t.v!=null&&(pe.clearTimeout(t.v),t.v=null)}function pI(t,e){var n=null;if(t.g==e){Jd(t),c1(t),t.g=null;var r=2}else if(Gg(t.h,e))n=e.D,tI(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=ff(),Ut(r,new Uk(r,n)),Sf(t)}else hI(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&gU(t,e)||r==2&&u1(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Cs(t,5);break;case 4:Cs(t,10);break;case 3:Cs(t,6);break;default:Cs(t,2)}}}function mI(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Cs(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Jt(t.kb,t);n||(n=new As("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||Yd(n,"https"),yf(n)),dU(n.toString(),r)}else ln(2);t.G=0,t.l&&t.l.va(e),gI(t),cI(t)}Z.kb=function(t){t?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function gI(t){if(t.G=0,t.la=[],t.l){const e=nI(t.h);(e.length!=0||t.i.length!=0)&&(z_(t.la,e),z_(t.la,t.i),t.h.i.length=0,qv(t.i),t.i.length=0),t.l.ua()}}function yI(t,e,n){var r=n instanceof As?oi(n):new As(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Xd(r,r.m);else{var i=pe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new As(null,void 0);r&&Yd(s,r),e&&(s.g=e),i&&Xd(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Xe(r,n,e),Xe(r,"VER",t.ma),$u(t,r),r}function vI(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new ot(new Du({jb:!0})):new ot(t.ra),e.Ka(t.H),e}function wI(){}Z=wI.prototype;Z.xa=function(){};Z.wa=function(){};Z.va=function(){};Z.ua=function(){};Z.Ra=function(){};function Zd(){if(na&&!(10<=Number(N6)))throw Error("Environmental error: no available transport.")}Zd.prototype.g=function(t,e){return new Rn(t,e)};function Rn(t,e){Lt.call(this),this.g=new uI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Kd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kd(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Sa(this)}Vt(Rn,Lt);Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;ln(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=yI(t,null,t.V),Sf(t)};Rn.prototype.close=function(){l1(this.g)};Rn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Jv(t),t=n);e.i.push(new aU(e.ab++,t)),e.G==3&&Sf(e)};Rn.prototype.M=function(){this.g.l=null,delete this.j,l1(this.g),delete this.g,Rn.X.M.call(this)};function _I(t){n1.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Vt(_I,n1);function SI(){r1.call(this),this.status=1}Vt(SI,r1);function Sa(t){this.g=t}Vt(Sa,wI);Sa.prototype.xa=function(){Ut(this.g,"a")};Sa.prototype.wa=function(t){Ut(this.g,new _I(t))};Sa.prototype.va=function(t){Ut(this.g,new SI)};Sa.prototype.ua=function(){Ut(this.g,"b")};Zd.prototype.createWebChannel=Zd.prototype.g;Rn.prototype.send=Rn.prototype.u;Rn.prototype.open=Rn.prototype.m;Rn.prototype.close=Rn.prototype.close;pf.NO_ERROR=0;pf.TIMEOUT=8;pf.HTTP_ERROR=6;Fk.COMPLETE="complete";Vk.EventType=Nu;Nu.OPEN="a";Nu.CLOSE="b";Nu.ERROR="c";Nu.MESSAGE="d";Lt.prototype.listen=Lt.prototype.N;ot.prototype.listenOnce=ot.prototype.O;ot.prototype.getLastError=ot.prototype.Oa;ot.prototype.getLastErrorCode=ot.prototype.Ea;ot.prototype.getStatus=ot.prototype.aa;ot.prototype.getResponseJson=ot.prototype.Sa;ot.prototype.getResponseText=ot.prototype.fa;ot.prototype.send=ot.prototype.da;ot.prototype.setWithCredentials=ot.prototype.Ka;var yU=function(){return new Zd},vU=function(){return ff()},Kp=pf,wU=Fk,_U=eo,eS={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},SU=Du,Ec=Vk,EU=ot;const tS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Zh("@firebase/firestore");function nS(){return Ws.logLevel}function re(t,...e){if(Ws.logLevel<=Oe.DEBUG){const n=e.map(d1);Ws.debug(`Firestore (${Ea}): ${t}`,...n)}}function ai(t,...e){if(Ws.logLevel<=Oe.ERROR){const n=e.map(d1);Ws.error(`Firestore (${Ea}): ${t}`,...n)}}function Qg(t,...e){if(Ws.logLevel<=Oe.WARN){const n=e.map(d1);Ws.warn(`Firestore (${Ea}): ${t}`,...n)}}function d1(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function He(t,e){t||he()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class xU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TU{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new EI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Kt(e)}}class kU{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(He(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class IU{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new kU(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RU{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.A=n.token,new bU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function ra(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new gt(0,0))}static max(){return new me(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends lu{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const PU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends lu{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return PU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Je.fromString(e))}static fromName(e){return new ae(Je.fromString(e).popFirst(5))}static empty(){return new ae(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Je(e.slice()))}}function LU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Qi(i,ae.empty(),e)}function NU(t){return new Qi(t.readTime,t.key,-1)}class Qi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qi(me.min(),ae.empty(),-1)}static max(){return new Qi(me.max(),ae.empty(),-1)}}function OU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==jU)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Fu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}h1.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class uu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return t==null}function eh(t){return t===0&&1/t==-1/0}function $U(t){return typeof t=="number"&&Number.isInteger(t)&&!eh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new nn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const UU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(He(!!t),typeof t=="string"){let e=0;const n=UU.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function kI(t){const e=t.mapValue.fields.__previous_value__;return TI(e)?kI(e):e}function cu(t){const e=Yi(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TI(t)?4:FU(t)?9007199254740991:10:he()}function br(t,e){if(t===e)return!0;const n=Ks(t);if(n!==Ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cu(t).isEqual(cu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Yi(r.timestampValue),o=Yi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ia(r.bytesValue).isEqual(ia(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ft(r.geoPointValue.latitude)===ft(i.geoPointValue.latitude)&&ft(r.geoPointValue.longitude)===ft(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ft(r.integerValue)===ft(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ft(r.doubleValue),o=ft(i.doubleValue);return s===o?eh(s)===eh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ra(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(rS(s)!==rS(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!br(s[a],o[a])))return!1;return!0}(t,e);default:return he()}}function du(t,e){return(t.values||[]).find(n=>br(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=Ks(t),r=Ks(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ft(i.integerValue||i.doubleValue),a=ft(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return iS(t.timestampValue,e.timestampValue);case 4:return iS(cu(t),cu(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ia(i),a=ia(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=je(o[l],a[l]);if(u!==0)return u}return je(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=je(ft(i.latitude),ft(s.latitude));return o!==0?o:je(ft(i.longitude),ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=sa(o[l],a[l]);if(u)return u}return je(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Cc.mapValue&&s===Cc.mapValue)return 0;if(i===Cc.mapValue)return 1;if(s===Cc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=je(a[c],u[c]);if(h!==0)return h;const f=sa(o[a[c]],l[u[c]]);if(f!==0)return f}return je(a.length,u.length)}(t.mapValue,e.mapValue);default:throw he()}}function iS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Yi(t),r=Yi(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function oa(t){return Yg(t)}function Yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Yi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ia(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ae.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Yg(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Yg(r.fields[a])}`;return s+"}"}(t.mapValue):he();var e,n}function Xg(t){return!!t&&"integerValue"in t}function f1(t){return!!t&&"arrayValue"in t}function sS(t){return!!t&&"nullValue"in t}function oS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yc(t){return!!t&&"mapValue"in t}function El(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=El(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=El(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.position=e,this.inclusive=n}}function aS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function lS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{}class St extends II{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BU(e,n,r):n==="array-contains"?new WU(e,r):n==="in"?new KU(e,r):n==="not-in"?new GU(e,r):n==="array-contains-any"?new QU(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HU(e,r):new qU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sa(n,this.value)):n!==null&&Ks(this.value)===Ks(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Rr extends II{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Rr(e,n)}matches(e){return bI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function bI(t){return t.op==="and"}function VU(t){return zU(t)&&bI(t)}function zU(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function RI(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+oa(t.value);{const e=t.filters.map(n=>RI(n)).join(",");return`${t.op}(${e})`}}function AI(t,e){return t instanceof St?function(n,r){return r instanceof St&&n.op===r.op&&n.field.isEqual(r.field)&&br(n.value,r.value)}(t,e):t instanceof Rr?function(n,r){return r instanceof Rr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&AI(s,r.filters[o]),!0):!1}(t,e):void he()}function PI(t){return t instanceof St?function(e){return`${e.field.canonicalString()} ${e.op} ${oa(e.value)}`}(t):t instanceof Rr?function(e){return e.op.toString()+" {"+e.getFilters().map(PI).join(" ,")+"}"}(t):"Filter"}class BU extends St{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class HU extends St{constructor(e,n){super(e,"in",n),this.keys=LI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qU extends St{constructor(e,n){super(e,"not-in",n),this.keys=LI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class WU extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return f1(n)&&du(n.arrayValue,this.value)}}class KU extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class GU extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!du(this.value.arrayValue,n)}}class QU extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!f1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>du(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n="asc"){this.field=e,this.dir=n}}function YU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=i??Dt.EMPTY,this.right=s??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Dt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uS(this.data.getIterator())}getIteratorFrom(e){return new uS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class uS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new xt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=El(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){to(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mn(El(this.value))}}function NI(t){const e=[];return to(t.fields,(n,r)=>{const i=new Yt([n]);if(Yc(r)){const s=NI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,me.min(),me.min(),me.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,me.min(),me.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,me.min(),me.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function cS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new XU(t,e,n,r,i,s,o)}function p1(t){const e=we(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>RI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.ft=n}return e.ft}function m1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lS(t.startAt,e.startAt)&&lS(t.endAt,e.endAt)}function Jg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function JU(t,e,n,r,i,s,o,a){return new Cf(t,e,n,r,i,s,o,a)}function g1(t){return new Cf(t)}function dS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZU(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function e5(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function t5(t){return t.collectionGroup!==null}function zo(t){const e=we(t);if(e.dt===null){e.dt=[];const n=e5(e),r=ZU(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Cl(n)),e.dt.push(new Cl(Yt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Cl(Yt.keyField(),s))}}}return e.dt}function li(t){const e=we(t);if(!e._t)if(e.limitType==="F")e._t=cS(e.path,e.collectionGroup,zo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of zo(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Cl(s.field,o))}const r=e.endAt?new th(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new th(e.startAt.position,e.startAt.inclusive):null;e._t=cS(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Zg(t,e,n){return new Cf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xf(t,e){return m1(li(t),li(e))&&t.limitType===e.limitType}function OI(t){return`${p1(li(t))}|lt:${t.limitType}`}function ey(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>PI(r)).join(", ")}]`),Ef(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),`Target(${n})`}(li(t))}; limitType=${t.limitType})`}function y1(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ae.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of zo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=aS(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,zo(n),r)||n.endAt&&!function(i,s,o){const a=aS(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,zo(n),r))}(t,e)}function n5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jI(t){return(e,n)=>{let r=!1;for(const i of zo(t)){const s=r5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function r5(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?sa(a,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function MI(t){return{integerValue:""+t}}function i5(t,e){return $U(e)?MI(e):DI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function s5(t,e,n){return t instanceof nh?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof hu?UI(t,e):t instanceof fu?FI(t,e):function(r,i){const s=$I(r,i),o=hS(s)+hS(r.gt);return Xg(s)&&Xg(r.gt)?MI(o):DI(r.yt,o)}(t,e)}function o5(t,e,n){return t instanceof hu?UI(t,e):t instanceof fu?FI(t,e):n}function $I(t,e){return t instanceof rh?Xg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class nh extends Tf{}class hu extends Tf{constructor(e){super(),this.elements=e}}function UI(t,e){const n=VI(e);for(const r of t.elements)n.some(i=>br(i,r))||n.push(r);return{arrayValue:{values:n}}}class fu extends Tf{constructor(e){super(),this.elements=e}}function FI(t,e){let n=VI(e);for(const r of t.elements)n=n.filter(i=>!br(i,r));return{arrayValue:{values:n}}}class rh extends Tf{constructor(e,n){super(),this.yt=e,this.gt=n}}function hS(t){return ft(t.integerValue||t.doubleValue)}function VI(t){return f1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function a5(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof hu&&r instanceof hu||n instanceof fu&&r instanceof fu?ra(n.elements,r.elements,br):n instanceof rh&&r instanceof rh?br(n.gt,r.gt):n instanceof nh&&r instanceof nh}(t.transform,e.transform)}class l5{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kf{}function zI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HI(t.key,sr.none()):new Vu(t.key,t.data,sr.none());{const n=t.data,r=mn.empty();let i=new xt(Yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new os(t.key,r,new Vn(i.toArray()),sr.none())}}function u5(t,e,n){t instanceof Vu?function(r,i,s){const o=r.value.clone(),a=pS(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof os?function(r,i,s){if(!Xc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=pS(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(BI(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function xl(t,e,n,r){return t instanceof Vu?function(i,s,o,a){if(!Xc(i.precondition,s))return o;const l=i.value.clone(),u=mS(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof os?function(i,s,o,a){if(!Xc(i.precondition,s))return o;const l=mS(i.fieldTransforms,a,s),u=s.data;return u.setAll(BI(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Xc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function c5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$I(r.transform,i||null);s!=null&&(n===null&&(n=mn.empty()),n.set(r.field,s))}return n||null}function fS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ra(n,r,(i,s)=>a5(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends kf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class os extends kf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pS(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,o5(o,a,n[i]))}return r}function mS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,s5(s,o,e))}return r}class HI extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d5 extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,be;function f5(t){switch(t){default:return he();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function qI(t){if(t===void 0)return ai("GRPC error has no .code"),U.UNKNOWN;switch(t){case ht.OK:return U.OK;case ht.CANCELLED:return U.CANCELLED;case ht.UNKNOWN:return U.UNKNOWN;case ht.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ht.INTERNAL:return U.INTERNAL;case ht.UNAVAILABLE:return U.UNAVAILABLE;case ht.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ht.NOT_FOUND:return U.NOT_FOUND;case ht.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ht.ABORTED:return U.ABORTED;case ht.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ht.DATA_LOSS:return U.DATA_LOSS;default:return he()}}(be=ht||(ht={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return xI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=new Tt(ae.comparator);function ui(){return p5}const WI=new Tt(ae.comparator);function ol(...t){let e=WI;for(const n of t)e=e.insert(n.key,n);return e}function KI(t){let e=WI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xs(){return Tl()}function GI(){return Tl()}function Tl(){return new Ca(t=>t.toString(),(t,e)=>t.isEqual(e))}const m5=new Tt(ae.comparator),g5=new xt(ae.comparator);function xe(...t){let e=g5;for(const n of t)e=e.add(n);return e}const y5=new xt(je);function QI(){return y5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new If(me.min(),i,QI(),ui(),xe())}}class zu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zu(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class YI{constructor(e,n){this.targetId=e,this.Et=n}}class XI{constructor(e,n,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gS{constructor(){this.At=0,this.Rt=vS(),this.bt=nn.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=xe(),n=xe(),r=xe();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new zu(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=vS()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class v5{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=ui(),this.qt=yS(),this.Ut=new xt(je)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(Jg(s))if(r===0){const o=new ae(s.path);this.Qt(n,o,Qt.newNoDocument(o,me.min()))}else He(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Jg(a.target)){const l=new ae(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Qt.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=xe();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new If(e,n,this.Ut,this.Lt,r);return this.Lt=ui(),this.qt=yS(),this.Ut=new xt(je),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new gS,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new xt(je),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new gS),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function yS(){return new Tt(ae.comparator)}function vS(){return new Tt(ae.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),S5=(()=>({and:"AND",or:"OR"}))();class E5{constructor(e,n){this.databaseId=e,this.wt=n}}function ih(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JI(t,e){return t.wt?e.toBase64():e.toUint8Array()}function C5(t,e){return ih(t,e.toTimestamp())}function Ir(t){return He(!!t),me.fromTimestamp(function(e){const n=Yi(e);return new gt(n.seconds,n.nanos)}(t))}function v1(t,e){return function(n){return new Je(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function ZI(t){const e=Je.fromString(t);return He(rb(e)),e}function ty(t,e){return v1(t.databaseId,e.path)}function Gp(t,e){const n=ZI(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(eb(n))}function ny(t,e){return v1(t.databaseId,e)}function x5(t){const e=ZI(t);return e.length===4?Je.emptyPath():eb(e)}function ry(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eb(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wS(t,e,n){return{name:ty(t,e),fields:n.value.mapValue.fields}}function T5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.wt?(He(u===void 0||typeof u=="string"),nn.fromBase64String(u||"")):(He(u===void 0||u instanceof Uint8Array),nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?U.UNKNOWN:qI(l.code);return new oe(u,l.message||"")}(o);n=new XI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gp(t,r.document.name),s=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):me.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=Qt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Jc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gp(t,r.document),s=r.readTime?Ir(r.readTime):me.min(),o=Qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gp(t,r.document),s=r.removedTargetIds||[];n=new Jc([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new h5(i),o=r.targetId;n=new YI(o,s)}}return n}function k5(t,e){let n;if(e instanceof Vu)n={update:wS(t,e.key,e.value)};else if(e instanceof HI)n={delete:ty(t,e.key)};else if(e instanceof os)n={update:wS(t,e.key,e.data),updateMask:j5(e.fieldMask)};else{if(!(e instanceof d5))return he();n={verify:ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof nh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof hu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof fu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof rh)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:C5(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function I5(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ir(r.updateTime):Ir(i);return s.isEqual(me.min())&&(s=Ir(i)),new l5(s,r.transformResults||[])}(n,e))):[]}function b5(t,e){return{documents:[ny(t,e.path)]}}function R5(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=ny(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ny(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return nb(Rr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:co(c.field),direction:L5(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||Ef(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function A5(t){let e=x5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=tb(c);return h instanceof Rr&&VU(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Cl(ho(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Ef(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,f=c.values||[];return new th(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,f=c.values||[];return new th(f,h)}(n.endAt)),JU(e,i,o,s,a,"F",l,u)}function P5(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return he()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function tb(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ho(e.unaryFilter.field);return St.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ho(e.unaryFilter.field);return St.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ho(e.unaryFilter.field);return St.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ho(e.unaryFilter.field);return St.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(e){return St.create(ho(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Rr.create(e.compositeFilter.filters.map(n=>tb(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return he()}}(e.compositeFilter.op))}(t):he()}function L5(t){return w5[t]}function N5(t){return _5[t]}function O5(t){return S5[t]}function co(t){return{fieldPath:t.canonicalString()}}function ho(t){return Yt.fromServerFormat(t.fieldPath)}function nb(t){return t instanceof St?function(e){if(e.op==="=="){if(oS(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NAN"}};if(sS(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(oS(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NOT_NAN"}};if(sS(e.value))return{unaryFilter:{field:co(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(e.field),op:N5(e.op),value:e.value}}}(t):t instanceof Rr?function(e){const n=e.getFilters().map(r=>nb(r));return n.length===1?n[0]:{compositeFilter:{op:O5(e.op),filters:n}}}(t):he()}function j5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&u5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=zI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(n,r)=>fS(n,r))&&ra(this.baseMutations,e.baseMutations,(n,r)=>fS(n,r))}}class w1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=m5;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new w1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r,i,s=me.min(),o=me.min(),a=nn.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.ie=e}}function U5(t){const e=A5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(){this.Je=new V5}addToCollectionParentIndex(e,n){return this.Je.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Qi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class V5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new aa(0)}static vn(){return new aa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this.changes=new Ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xl(r.mutation,i,Vn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=xs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ol();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ui();const o=Tl(),a=Tl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof os)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),xl(c.mutation,u,c.mutation.getFieldMask(),gt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new B5(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tl();let i=new Tt((o,a)=>o-a),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Vn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=GI();c.forEach(f=>{if(!s.has(f)){const g=zI(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(xs());let a=-1,l=s;return o.next(u=>B.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?B.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,xe())).next(c=>({batchId:a,changes:KI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=ol();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ol();return this.indexManager.getCollectionParents(e,i).next(o=>B.forEach(o,a=>{const l=function(u,c){return new Cf(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Qt.newInvalidDocument(u)))});let o=ol();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&xl(u.mutation,l,Vn.empty(),gt.now()),y1(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return B.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ir(r.createTime)}),B.resolve()}getNamedQuery(e,n){return B.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:U5(r.bundledQuery),readTime:Ir(r.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(){this.overlays=new Tt(ae.comparator),this.es=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xs();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=xs(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Tt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=xs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=xs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return B.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new M5(n,r));let s=this.es.get(n);s===void 0&&(s=xe(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.ns=new xt(bt.ss),this.rs=new xt(bt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new bt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new bt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new ae(new Je([])),r=new bt(n,e),i=new bt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ae(new Je([])),r=new bt(n,e),i=new bt(n,e+1);let s=xe();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ae.comparator(e.key,n.key)||je(e._s,n._s)}static os(e,n){return je(e._s,n._s)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new xt(bt.ss)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new D5(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(je);return n.forEach(i=>{const s=new bt(i,0),o=new bt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),B.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new bt(new ae(s),0);let a=new xt(je);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),B.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return B.forEach(n.mutations,i=>{const s=new bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new bt(n,0),i=this.gs.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.Es=e,this.docs=new Tt(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),B.resolve(r)}getAllFromCollection(e,n,r){let i=ui();const s=new ae(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||OU(NU(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,i){he()}As(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Q5(this)}getSize(e){return B.resolve(this.size)}}class Q5 extends z5{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.persistence=e,this.Rs=new Ca(n=>p1(n),m1),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _1,this.targetCount=0,this.vs=aa.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),B.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new aa(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Dn(n),B.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new h1(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Y5(this),this.indexManager=new F5,this.remoteDocumentCache=function(r){return new G5(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new $5(n),this.Ns=new q5(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new K5(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new J5(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return B.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class J5 extends DU{constructor(e){super(),this.currentSequenceNumber=e}}class S1{constructor(e){this.persistence=e,this.Fs=new _1,this.$s=null}static Bs(e){return new S1(e)}get Ls(){if(this.$s)return this.$s;throw he()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),B.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Ls,r=>{const i=ae.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return B.or([()=>B.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=xe(),i=xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new E1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(dS(n))return B.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zg(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=xe(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,Zg(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return dS(n)||i.isEqual(me.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(nS()<=Oe.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ey(n)),this.Bi(e,o,n,LU(i,-1)))})}Fi(e,n){let r=new xt(jI(e));return n.forEach((i,s)=>{y1(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return nS()<=Oe.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",ey(n)),this.Ni.getDocumentsMatchingQuery(e,n,Qi.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new Tt(je),this.Ui=new Ca(s=>p1(s),m1),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H5(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function t9(t,e,n,r){return new e9(t,e,n,r)}async function ib(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=xe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function n9(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let f=B.resolve();return h.forEach(g=>{f=f.next(()=>u.getEntry(a,g)).next(v=>{const p=l.docVersions.get(g);He(p!==null),v.version.compareTo(p)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=xe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sb(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function r9(t,e){const n=we(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?g=g.withResumeToken(nn.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(h,g),function(v,p,S){return v.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,g,c)&&a.push(n.Cs.updateTargetData(s,g))});let l=ui(),u=xe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(i9(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(me.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=i,s))}function i9(t,e,n){let r=xe(),i=xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ui();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function s9(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function o9(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Ps(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function iy(t,e,n){const r=we(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Fu(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function _S(t,e,n){const r=we(t);let i=me.min(),s=xe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=we(a),h=c.Ui.get(u);return h!==void 0?B.resolve(c.qi.get(h)):c.Cs.getTargetData(l,u)}(r,o,li(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:xe())).next(a=>(a9(r,n5(e),a),{documents:a,Hi:s})))}function a9(t,e,n){let r=t.Ki.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class SS{constructor(){this.activeTargetIds=QI()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l9{constructor(){this.Lr=new SS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new SS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);re("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(re("RestConnection","Received: ",l),l),l=>{throw Qg("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ea,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=c9[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new EU;a.setWithCredentials(!0),a.listenOnce(wU.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Kp.NO_ERROR:const u=a.getResponseJson();re("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Kp.TIMEOUT:re("Connection",'RPC "'+e+'" timed out'),o(new oe(U.DEADLINE_EXCEEDED,"Request time out"));break;case Kp.HTTP_ERROR:const c=a.getStatus();if(re("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(v){const p=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(p)>=0?p:U.UNKNOWN}(f.status);o(new oe(g,f.message))}else o(new oe(U.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new oe(U.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{re("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yU(),o=vU(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new SU({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");re("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const f=new d9({Hr:v=>{h?re("Connection","Not sending because WebChannel is closed:",v):(c||(re("Connection","Opening WebChannel transport."),u.open(),c=!0),re("Connection","WebChannel sending:",v),u.send(v))},Jr:()=>u.close()}),g=(v,p,S)=>{v.listen(p,y=>{try{S(y)}catch(m){setTimeout(()=>{throw m},0)}})};return g(u,Ec.EventType.OPEN,()=>{h||re("Connection","WebChannel transport opened.")}),g(u,Ec.EventType.CLOSE,()=>{h||(h=!0,re("Connection","WebChannel transport closed"),f.io())}),g(u,Ec.EventType.ERROR,v=>{h||(h=!0,Qg("Connection","WebChannel transport errored:",v),f.io(new oe(U.UNAVAILABLE,"The operation could not be completed")))}),g(u,Ec.EventType.MESSAGE,v=>{var p;if(!h){const S=v.data[0];He(!!S);const y=S,m=y.error||((p=y[0])===null||p===void 0?void 0:p.error);if(m){re("Connection","WebChannel received error:",m);const w=m.status;let _=function(T){const k=ht[T];if(k!==void 0)return qI(k)}(w),E=m.message;_===void 0&&(_=U.INTERNAL,E="Unknown error status: "+w+" with message "+m.message),h=!0,f.io(new oe(_,E)),u.close()}else re("Connection","WebChannel received:",S),f.ro(S)}}),g(o,_U.STAT_EVENT,v=>{v.stat===eS.PROXY?re("Connection","Detected buffering proxy"):v.stat===eS.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function Qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){return new E5(t,!0)}class ob{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ob(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new oe(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f9 extends ab{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=T5(this.yt,e),r=function(i){if(!("targetChange"in i))return me.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?Ir(s.readTime):me.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=ry(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=Jg(a)?{documents:b5(i,a)}:{query:R5(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=JI(i,s.resumeToken):s.snapshotVersion.compareTo(me.min())>0&&(o.readTime=ih(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=P5(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=ry(this.yt),n.removeTarget=e,this.Bo(n)}}class p9 extends ab{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=I5(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.Zo(r,n)}return He(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ry(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>k5(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new oe(U.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(U.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(U.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class g9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ai(n),this.ou=!1):re("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{no(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=we(a);l._u.add(4),await Bu(l),l.gu.set("Unknown"),l._u.delete(4),await Rf(l)}(this))})}),this.gu=new g9(r,i)}}async function Rf(t){if(no(t))for(const e of t.wu)await e(!0)}async function Bu(t){for(const e of t.wu)await e(!1)}function lb(t,e){const n=we(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),T1(n)?x1(n):xa(n).ko()&&C1(n,e))}function ub(t,e){const n=we(t),r=xa(n);n.du.delete(e),r.ko()&&cb(n,e),n.du.size===0&&(r.ko()?r.Fo():no(n)&&n.gu.set("Unknown"))}function C1(t,e){t.yu.Ot(e.targetId),xa(t).zo(e)}function cb(t,e){t.yu.Ot(e),xa(t).Ho(e)}function x1(t){t.yu=new v5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),xa(t).start(),t.gu.uu()}function T1(t){return no(t)&&!xa(t).No()&&t.du.size>0}function no(t){return we(t)._u.size===0}function db(t){t.yu=void 0}async function v9(t){t.du.forEach((e,n)=>{C1(t,e)})}async function w9(t,e){db(t),T1(t)?(t.gu.hu(e),x1(t)):t.gu.set("Unknown")}async function _9(t,e,n){if(t.gu.set("Online"),e instanceof XI&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(t,r)}else if(e instanceof Jc?t.yu.Kt(e):e instanceof YI?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(me.min()))try{const r=await sb(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(nn.EMPTY_BYTE_STRING,l.snapshotVersion)),cb(i,a);const u=new Ps(l.target,a,1,l.sequenceNumber);C1(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await sh(t,r)}}async function sh(t,e,n){if(!Fu(e))throw e;t._u.add(1),await Bu(t),t.gu.set("Offline"),n||(n=()=>sb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await Rf(t)})}function hb(t,e){return e().catch(n=>sh(t,n,e))}async function Af(t){const e=we(t),n=Xi(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;S9(e);)try{const i=await s9(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,E9(e,i)}catch(i){await sh(e,i)}fb(e)&&pb(e)}function S9(t){return no(t)&&t.fu.length<10}function E9(t,e){t.fu.push(e);const n=Xi(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function fb(t){return no(t)&&!Xi(t).No()&&t.fu.length>0}function pb(t){Xi(t).start()}async function C9(t){Xi(t).eu()}async function x9(t){const e=Xi(t);for(const n of t.fu)e.Xo(n.mutations)}async function T9(t,e,n){const r=t.fu.shift(),i=w1.from(r,e,n);await hb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Af(t)}async function k9(t,e){e&&Xi(t).Yo&&await async function(n,r){if(i=r.code,f5(i)&&i!==U.ABORTED){const s=n.fu.shift();Xi(n).Mo(),await hb(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Af(n)}var i}(t,e),fb(t)&&pb(t)}async function CS(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=no(n);n._u.add(3),await Bu(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await Rf(n)}async function I9(t,e){const n=we(t);e?(n._u.delete(2),await Rf(n)):e||(n._u.add(2),await Bu(n),n.gu.set("Unknown"))}function xa(t){return t.pu||(t.pu=function(e,n,r){const i=we(e);return i.su(),new f9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:v9.bind(null,t),Zr:w9.bind(null,t),Wo:_9.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),T1(t)?x1(t):t.gu.set("Unknown")):(await t.pu.stop(),db(t))})),t.pu}function Xi(t){return t.Iu||(t.Iu=function(e,n,r){const i=we(e);return i.su(),new p9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:C9.bind(null,t),Zr:k9.bind(null,t),tu:x9.bind(null,t),Zo:T9.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Af(t)):(await t.Iu.stop(),t.fu.length>0&&(re("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new k1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I1(t,e){if(ai("AsyncQueue",`${e}: ${t}`),Fu(t))return new oe(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=ol(),this.sortedSet=new Tt(this.comparator)}static emptySet(e){return new Bo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.Tu=new Tt(ae.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):he():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class la{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new la(e,n,Bo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.Au=void 0,this.listeners=[]}}class R9{constructor(){this.queries=new Ca(e=>OI(e),xf),this.onlineState="Unknown",this.Ru=new Set}}async function mb(t,e){const n=we(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new b9),i)try{s.Au=await n.onListen(r)}catch(o){const a=I1(o,`Initialization of query '${ey(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&b1(n)}async function gb(t,e){const n=we(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function A9(t,e){const n=we(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&b1(n)}function P9(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function b1(t){t.Ru.forEach(e=>{e.next()})}class yb{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new la(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.key=e}}class wb{constructor(e){this.key=e}}class L9{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=xe(),this.mutatedKeys=xe(),this.Gu=jI(e),this.Qu=new Bo(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new xS,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),g=y1(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),p=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;f&&g?f.data.isEqual(g.data)?v!==p&&(r.track({type:3,doc:g}),S=!0):this.Hu(f,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Gu(g,l)>0||u&&this.Gu(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),S=!0):f&&!g&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(g?(o=o.add(g),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,c)=>function(h,f){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return g(h)-g(f)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new la(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xS,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=xe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new wb(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new vb(r))}),n}tc(e){this.qu=e.Hi,this.Ku=xe();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return la.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class N9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class O9{constructor(e){this.key=e,this.nc=!1}}class j9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Ca(a=>OI(a),xf),this.rc=new Map,this.oc=new Set,this.uc=new Tt(ae.comparator),this.cc=new Map,this.ac=new _1,this.hc={},this.lc=new Map,this.fc=aa.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function D9(t,e){const n=W9(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await o9(n.localStore,li(e));n.isPrimaryClient&&lb(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await M9(n,e,r,a==="current",o.resumeToken)}return i}async function M9(t,e,n,r,i){t._c=(h,f,g)=>async function(v,p,S,y){let m=p.view.Wu(S);m.$i&&(m=await _S(v.localStore,p.query,!1).then(({documents:E})=>p.view.Wu(E,m)));const w=y&&y.targetChanges.get(p.targetId),_=p.view.applyChanges(m,v.isPrimaryClient,w);return kS(v,p.targetId,_.Xu),_.snapshot}(t,h,f,g);const s=await _S(t.localStore,e,!0),o=new L9(e,s.Hi),a=o.Wu(s.documents),l=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);kS(t,n,u.Xu);const c=new N9(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function $9(t,e){const n=we(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!xf(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await iy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ub(n.remoteStore,r.targetId),sy(n,r.targetId)}).catch(Uu)):(sy(n,r.targetId),await iy(n.localStore,r.targetId,!0))}async function U9(t,e,n){const r=K9(t);try{const i=await function(s,o){const a=we(s),l=gt.now(),u=o.reduce((f,g)=>f.add(g.key),xe());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=ui(),v=xe();return a.Gi.getEntries(f,u).next(p=>{g=p,g.forEach((S,y)=>{y.isValidDocument()||(v=v.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,g)).next(p=>{c=p;const S=[];for(const y of o){const m=c5(y,c.get(y.key).overlayedDocument);m!=null&&S.push(new os(y.key,m,NI(m.value.mapValue),sr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,S,o)}).next(p=>{h=p;const S=p.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(f,p.batchId,S)})}).then(()=>({batchId:h.batchId,changes:KI(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Tt(je)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Hu(r,i.changes),await Af(r.remoteStore)}catch(i){const s=I1(i,"Failed to persist write");n.reject(s)}}async function _b(t,e){const n=we(t);try{const r=await r9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?He(o.nc):i.removedDocuments.size>0&&(He(o.nc),o.nc=!1))}),await Hu(n,r,e)}catch(r){await Uu(r)}}function TS(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=we(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.bu(o)&&(l=!0)}),l&&b1(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F9(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Tt(ae.comparator);o=o.insert(s,Qt.newNoDocument(s,me.min()));const a=xe().add(s),l=new If(me.min(),new Map,new xt(je),o,a);await _b(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),R1(r)}else await iy(r.localStore,e,!1).then(()=>sy(r,e,n)).catch(Uu)}async function V9(t,e){const n=we(t),r=e.batch.batchId;try{const i=await n9(n.localStore,e);Eb(n,r,null),Sb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(n,i)}catch(i){await Uu(i)}}async function z9(t,e,n){const r=we(t);try{const i=await function(s,o){const a=we(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(He(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Eb(r,e,n),Sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hu(r,i)}catch(i){await Uu(i)}}function Sb(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function Eb(t,e,n){const r=we(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||Cb(t,r)})}function Cb(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(ub(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),R1(t))}function kS(t,e,n){for(const r of n)r instanceof vb?(t.ac.addReference(r.key,e),B9(t,r)):r instanceof wb?(re("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||Cb(t,r.key)):he()}function B9(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(re("SyncEngine","New document in limbo: "+n),t.oc.add(r),R1(t))}function R1(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new ae(Je.fromString(e)),r=t.fc.next();t.cc.set(r,new O9(n)),t.uc=t.uc.insert(n,r),lb(t.remoteStore,new Ps(li(g1(n.path)),r,2,h1.at))}}async function Hu(t,e,n){const r=we(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=E1.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=we(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>B.forEach(l,h=>B.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>B.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Fu(c))throw c;re("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const f=u.qi.get(h),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);u.qi=u.qi.insert(h,v)}}}(r.localStore,s))}async function H9(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await ib(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new oe(U.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hu(n,r.ji)}}function q9(t,e){const n=we(t),r=n.cc.get(e);if(r&&r.nc)return xe().add(r.key);{let i=xe();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function W9(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F9.bind(null,e),e.sc.Wo=A9.bind(null,e.eventManager),e.sc.wc=P9.bind(null,e.eventManager),e}function K9(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z9.bind(null,e),e}class G9{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=bf(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return t9(this.persistence,new Z5,e.initialUser,this.yt)}yc(e){return new X5(S1.Bs,this.yt)}gc(e){return new l9}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Q9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H9.bind(null,this.syncEngine),await I9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new R9}createDatastore(e){const n=bf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new h9(i));var i;return function(s,o,a,l){return new m9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>TS(this.syncEngine,a,0),o=ES.C()?new ES:new u9,new y9(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new j9(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=we(e);re("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Bu(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e,n){if(!n)throw new oe(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y9(t,e,n,r){if(e===!0&&r===!0)throw new oe(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IS(t){if(!ae.isDocumentKey(t))throw new oe(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bS(t){if(ae.isDocumentKey(t))throw new oe(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function A1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=A1(t);throw new oe(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=new Map;class AS{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Y9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oe(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new oe(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new CU;switch(n.type){case"gapi":const r=n.client;return new IU(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new oe(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=RS.get(e);n&&(re("ComponentProvider","Removing Datastore"),RS.delete(e),n.terminate())}(this),Promise.resolve()}}function X9(t,e,n,r={}){var i;const s=(t=Ar(t,Pf))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Qg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Kt.MOCK_USER;else{o=pT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new oe(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Kt(l)}t._authCredentials=new xU(new EI(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class Lf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lf(this.firestore,e,this._query)}}class Hi extends Lf{constructor(e,n,r){super(e,n,g1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new ae(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function P1(t,e,...n){if(t=et(t),xb("collection","path",e),t instanceof Pf){const r=Je.fromString(e,...n);return bS(r),new Hi(t,null,r)}{if(!(t instanceof Sn||t instanceof Hi))throw new oe(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return bS(r),new Hi(t.firestore,null,r)}}function dr(t,e,...n){if(t=et(t),arguments.length===1&&(e=CI.R()),xb("doc","path",e),t instanceof Pf){const r=Je.fromString(e,...n);return IS(r),new Sn(t,null,new ae(r))}{if(!(t instanceof Sn||t instanceof Hi))throw new oe(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return IS(r),new Sn(t.firestore,t instanceof Hi?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kt.UNAUTHENTICATED,this.clientId=CI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oe(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=I1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Z9(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ib(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function e8(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t8(t);re("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>CS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>CS(e.remoteStore,s)),t.onlineComponents=e}async function t8(t){return t.offlineComponents||(re("FirestoreClient","Using default OfflineComponentProvider"),await Z9(t,new G9)),t.offlineComponents}async function kb(t){return t.onlineComponents||(re("FirestoreClient","Using default OnlineComponentProvider"),await e8(t,new Q9)),t.onlineComponents}function n8(t){return kb(t).then(e=>e.syncEngine)}async function Ib(t){const e=await kb(t),n=e.eventManager;return n.onListen=D9.bind(null,e.syncEngine),n.onUnlisten=$9.bind(null,e.syncEngine),n}function r8(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Tb({next:h=>{s.enqueueAndForget(()=>gb(i,c));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new oe(U.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new oe(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new yb(g1(o.path),u,{includeMetadataChanges:!0,Nu:!0});return mb(i,c)}(await Ib(t),t.asyncQueue,e,n,r)),r.promise}function i8(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Tb({next:h=>{s.enqueueAndForget(()=>gb(i,c)),h.fromCache&&a.source==="server"?l.reject(new oe(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new yb(o,u,{includeMetadataChanges:!0,Nu:!0});return mb(i,c)}(await Ib(t),t.asyncQueue,e,n,r)),r.promise}class s8{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ob(this,"async_queue_retry"),this.Wc=()=>{const n=Qp();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Qp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Xr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Fu(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=k1.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&he()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class Ta extends Pf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new s8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bb(this),this._firestoreClient.terminate()}}function o8(t,e){const n=typeof t=="object"?t:ef(),r=typeof t=="string"?t:e||"(default)",i=rs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hT("firestore");s&&X9(i,...s)}return i}function L1(t){return t._firestoreClient||bb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bb(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new MU(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new J9(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(nn.fromBase64String(e))}catch(n){throw new oe(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=/^__.*__$/;class l8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class Rb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ab(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class j1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new j1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return oh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(Ab(this.sa)&&a8.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class u8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||bf(e)}da(e,n,r,i=!1){return new j1({sa:e,methodName:n,fa:r,path:Yt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function D1(t){const e=t._freezeSettings(),n=bf(t._databaseId);return new u8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pb(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);M1("Data must be an object, but it was:",o,r);const a=Lb(r,o);let l,u;if(s.merge)l=new Vn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=oy(e,h,n);if(!o.contains(f))throw new oe(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Ob(c,f)||c.push(f)}l=new Vn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new l8(new mn(a),l,u)}class Of extends N1{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}function c8(t,e,n,r){const i=t.da(1,e,n);M1("Data must be an object, but it was:",i,r);const s=[],o=mn.empty();to(r,(l,u)=>{const c=$1(e,l,n);u=et(u);const h=i.ca(c);if(u instanceof Of)s.push(c);else{const f=jf(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Vn(s);return new Rb(o,a,i.fieldTransforms)}function d8(t,e,n,r,i,s){const o=t.da(1,e,n),a=[oy(e,r,n)],l=[i];if(s.length%2!=0)throw new oe(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(oy(e,s[f])),l.push(s[f+1]);const u=[],c=mn.empty();for(let f=a.length-1;f>=0;--f)if(!Ob(u,a[f])){const g=a[f];let v=l[f];v=et(v);const p=o.ca(g);if(v instanceof Of)u.push(g);else{const S=jf(v,p);S!=null&&(u.push(g),c.set(g,S))}}const h=new Vn(u);return new Rb(c,h,o.fieldTransforms)}function jf(t,e){if(Nb(t=et(t)))return M1("Unsupported field value:",e,t),Lb(t,e);if(t instanceof N1)return function(n,r){if(!Ab(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=jf(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=et(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return i5(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=gt.fromDate(n);return{timestampValue:ih(r.yt,i)}}if(n instanceof gt){const i=new gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ih(r.yt,i)}}if(n instanceof O1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ua)return{bytesValue:JI(r.yt,n._byteString)};if(n instanceof Sn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:v1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${A1(n)}`)}(t,e)}function Lb(t,e){const n={};return xI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(r,i)=>{const s=jf(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Nb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof O1||t instanceof ua||t instanceof Sn||t instanceof N1)}function M1(t,e,n){if(!Nb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=A1(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function oy(t,e,n){if((e=et(e))instanceof Nf)return e._internalPath;if(typeof e=="string")return $1(t,e);throw oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const h8=new RegExp("[~\\*/\\[\\]]");function $1(t,e,n){if(e.search(h8)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nf(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new oe(U.INVALID_ARGUMENT,a+t+l)}function Ob(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Db("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f8 extends jb{data(){return super.data()}}function Db(t,e){return typeof e=="string"?$1(t,e):e instanceof Nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m8{convertValue(e,n="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){const r={};return to(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new O1(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);He(rb(r));const i=new uu(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||ai(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $b extends jb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Db("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zc extends $b{data(e={}){return super.data(e)}}class g8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zc(this._firestore,this._userDataWriter,r.key,r,new al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Zc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new al(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Zc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new al(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:y8(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function y8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){t=Ar(t,Sn);const e=Ar(t.firestore,Ta);return r8(L1(e),t._key).then(n=>w8(e,t,n))}class Ub extends m8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function Fb(t){t=Ar(t,Lf);const e=Ar(t.firestore,Ta),n=L1(e),r=new Ub(e);return p8(t._query),i8(n,t._query).then(i=>new g8(e,r,t,i))}function U1(t,e,n){t=Ar(t,Sn);const r=Ar(t.firestore,Ta),i=Mb(t.converter,e,n);return F1(r,[Pb(D1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,sr.none())])}function Df(t,e,n,...r){t=Ar(t,Sn);const i=Ar(t.firestore,Ta),s=D1(i);let o;return o=typeof(e=et(e))=="string"||e instanceof Nf?d8(s,"updateDoc",t._key,e,n,r):c8(s,"updateDoc",t._key,e),F1(i,[o.toMutation(t._key,sr.exists(!0))])}function v8(t,e){const n=Ar(t.firestore,Ta),r=dr(t),i=Mb(t.converter,e);return F1(n,[Pb(D1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}function F1(t,e){return function(n,r){const i=new Xr;return n.asyncQueue.enqueueAndForget(async()=>U9(await n8(n),r,i)),i.promise}(L1(t),e)}function w8(t,e,n){const r=n.docs.get(e._key),i=new Ub(t);return new $b(t,i,e._key,r,new al(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Ea=n})(ga),ur(new Hn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ta(new TU(n.getProvider("auth-internal")),new RU(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new oe(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),_n(tS,"3.8.0",t),_n(tS,"3.8.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firebasestorage.googleapis.com",zb="storageBucket",_8=2*60*1e3,S8=10*60*1e3,E8=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends Kn{constructor(e,n,r=0){super(Yp(e),`Firebase Storage: ${n} (${Yp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,it.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Yp(t){return"storage/"+t}function V1(){const t="An unknown error occurred, please check the error payload for server response.";return new it("unknown",t)}function C8(t){return new it("object-not-found","Object '"+t+"' does not exist.")}function x8(t){return new it("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function T8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new it("unauthenticated",t)}function k8(){return new it("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function I8(t){return new it("unauthorized","User does not have permission to access '"+t+"'.")}function Bb(){return new it("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Hb(){return new it("canceled","User canceled the upload/download.")}function b8(t){return new it("invalid-url","Invalid URL '"+t+"'.")}function R8(t){return new it("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function A8(){return new it("no-default-bucket","No default bucket found. Did you set the '"+zb+"' property when initializing the app?")}function qb(){return new it("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function P8(){return new it("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function L8(){return new it("no-download-url","The given file does not have any download URLs.")}function N8(t){return new it("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ay(t){return new it("invalid-argument",t)}function Wb(){return new it("app-deleted","The Firebase app was deleted.")}function O8(t){return new it("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kl(t,e){return new it("invalid-format","String does not match format '"+t+"': "+e)}function Ba(t){throw new it("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=xn.makeFromUrl(e,n)}catch{return new xn(e,"")}if(r.path==="")return r;throw R8(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},p=n===Vb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",y=new RegExp(`^https?://${p}/${i}/${S}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:g,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<w.length;_++){const E=w[_],T=E.regex.exec(e);if(T){const k=T[E.indices.bucket];let L=T[E.indices.path];L||(L=""),r=new xn(k,L),E.postModify(r);break}}if(r==null)throw b8(e);return r}}class j8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...S){u||(u=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(g,l())},S)}function f(){s&&clearTimeout(s)}function g(S,...y){if(u){f();return}if(S){f(),c.call(null,S,...y);return}if(l()||o){f(),c.call(null,S,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let v=!1;function p(S){v||(v=!0,f(),!u&&(i!==null?(S||(a=2),clearTimeout(i),h(0)):S||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,p(!0)},n),p}function M8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t){return t!==void 0}function U8(t){return typeof t=="function"}function F8(t){return typeof t=="object"&&!Array.isArray(t)}function Mf(t){return typeof t=="string"||t instanceof String}function PS(t){return z1()&&t instanceof Blob}function z1(){return typeof Blob<"u"&&!xD()}function LS(t,e,n,r){if(r<e)throw ay(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ay(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Kb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ls;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ls||(Ls={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Tc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ls.NO_ERROR,l=s.getStatus();if((!a||Gb(l,this.additionalRetryCodes_))&&this.retry){const c=s.getErrorCode()===Ls.ABORT;r(!1,new Tc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Tc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());$8(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=V1();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Wb():Hb();o(l)}else{const l=Bb();o(l)}};this.canceled_?n(!1,new Tc(!1,null,!0)):this.backoffId_=D8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&M8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function z8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function B8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function H8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function q8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function W8(t,e,n,r,i,s,o=!0){const a=Kb(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return H8(u,e),z8(u,n),B8(u,s),q8(u,r),new V8(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function G8(...t){const e=K8();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(z1())return new Blob(t);throw new it("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Q8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t){if(typeof atob>"u")throw N8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xp{constructor(e,n){this.data=e,this.contentType=n||null}}function X8(t,e){switch(t){case _r.RAW:return new Xp(Qb(e));case _r.BASE64:case _r.BASE64URL:return new Xp(Yb(t,e));case _r.DATA_URL:return new Xp(Z8(e),eF(e))}throw V1()}function Qb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function J8(t){let e;try{e=decodeURIComponent(t)}catch{throw kl(_r.DATA_URL,"Malformed data URL.")}return Qb(e)}function Yb(t,e){switch(t){case _r.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw kl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _r.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw kl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Y8(e)}catch(i){throw i.message.includes("polyfill")?i:kl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Xb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw kl(_r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=tF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Z8(t){const e=new Xb(t);return e.base64?Yb(_r.BASE64,e.rest):J8(e.rest)}function eF(t){return new Xb(t).contentType}function tF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){let r=0,i="";PS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(PS(this.data_)){const r=this.data_,i=Q8(r,e,n);return i===null?null:new ki(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ki(r,!0)}}static getBlob(...e){if(z1()){const n=e.map(r=>r instanceof ki?r.data_:r);return new ki(G8.apply(null,n))}else{const n=e.map(o=>Mf(o)?X8(_r.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ki(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){let e;try{e=JSON.parse(t)}catch{return null}return F8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Zb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t,e){return e}class sn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||iF}}let kc=null;function sF(t){return!Mf(t)||t.length<2?t:Zb(t)}function e2(){if(kc)return kc;const t=[];t.push(new sn("bucket")),t.push(new sn("generation")),t.push(new sn("metageneration")),t.push(new sn("name","fullPath",!0));function e(s,o){return sF(o)}const n=new sn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new sn("size");return i.xform=r,t.push(i),t.push(new sn("timeCreated")),t.push(new sn("updated")),t.push(new sn("md5Hash",null,!0)),t.push(new sn("cacheControl",null,!0)),t.push(new sn("contentDisposition",null,!0)),t.push(new sn("contentEncoding",null,!0)),t.push(new sn("contentLanguage",null,!0)),t.push(new sn("contentType",null,!0)),t.push(new sn("metadata","customMetadata",!0)),kc=t,kc}function oF(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new xn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function aF(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return oF(r,t),r}function t2(t,e,n){const r=Jb(e);return r===null?null:aF(t,r,n)}function lF(t,e,n,r){const i=Jb(e);if(i===null||!Mf(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),g=qu(f,n,r),v=Kb({alt:"media",token:u});return g+v})[0]}function n2(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class ka{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t){if(!t)throw V1()}function B1(t,e){function n(r,i){const s=t2(t,i,e);return Jr(s!==null),s}return n}function uF(t,e){function n(r,i){const s=t2(t,i,e);return Jr(s!==null),lF(s,i,t.host,t._protocol)}return n}function Wu(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=k8():i=T8():n.getStatus()===402?i=x8(t.bucket):n.getStatus()===403?i=I8(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function r2(t){const e=Wu(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=C8(t.path)),s.serverResponse=i.serverResponse,s}return n}function cF(t,e,n){const r=e.fullServerUrl(),i=qu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ka(i,s,B1(t,n),o);return a.errorHandler=r2(e),a}function dF(t,e,n){const r=e.fullServerUrl(),i=qu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ka(i,s,uF(t,n),o);return a.errorHandler=r2(e),a}function hF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function i2(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hF(null,e)),r}function fF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let _=0;_<2;_++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=i2(e,r,i),c=n2(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=ki.getBlob(h,r,f);if(g===null)throw qb();const v={name:u.fullPath},p=qu(s,t.host,t._protocol),S="POST",y=t.maxUploadRetryTime,m=new ka(p,S,B1(t,n),y);return m.urlParams=v,m.headers=o,m.body=g.uploadData(),m.errorHandler=Wu(e),m}class ah{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function H1(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Jr(!1)}return Jr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function pF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=i2(e,r,i),a={name:o.fullPath},l=qu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=n2(o,n),f=t.maxUploadRetryTime;function g(p){H1(p);let S;try{S=p.getResponseHeader("X-Goog-Upload-URL")}catch{Jr(!1)}return Jr(Mf(S)),S}const v=new ka(l,u,g,f);return v.urlParams=a,v.headers=c,v.body=h,v.errorHandler=Wu(e),v}function mF(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=H1(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Jr(!1)}h||Jr(!1);const f=Number(h);return Jr(!isNaN(f)),new ah(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new ka(n,o,s,a);return l.headers=i,l.errorHandler=Wu(e),l}const NS=256*1024;function gF(t,e,n,r,i,s,o,a){const l=new ah(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw P8();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,f=h+c;let g="";c===0?g="finalize":u===c?g="upload, finalize":g="upload";const v={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},p=r.slice(h,f);if(p===null)throw qb();function S(_,E){const T=H1(_,["active","final"]),k=l.current+c,L=r.size();let A;return T==="final"?A=B1(e,s)(_,E):A=null,new ah(k,L,T==="final",A)}const y="POST",m=e.maxUploadRetryTime,w=new ka(n,y,S,m);return w.headers=v,w.body=p.uploadData(),w.progressCallback=a||null,w.errorHandler=Wu(t),w}const fn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jp(t){switch(t){case"running":case"pausing":case"canceling":return fn.RUNNING;case"paused":return fn.PAUSED;case"success":return fn.SUCCESS;case"canceled":return fn.CANCELED;case"error":return fn.ERROR;default:return fn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n,r){if(U8(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class vF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ls.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ls.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ls.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ba("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ba("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ba("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ba("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ba("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wF extends vF{initXhr(){this.xhr_.responseType="text"}}function fo(){return new wF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=e2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Gb(i.status,[]))if(s)i=Bb();else{this.sleepTime=Math.max(this.sleepTime*2,E8),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=pF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,fo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=mF(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,fo,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=NS*this._chunkMultiplier,n=new ah(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=gF(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,fo,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){NS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=cF(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,fo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=fF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,fo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Hb(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Jp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new yF(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Jp(this._state)){case fn.SUCCESS:ao(this._resolve.bind(null,this.snapshot))();break;case fn.CANCELED:case fn.ERROR:const n=this._reject;ao(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Jp(this._state)){case fn.RUNNING:case fn.PAUSED:e.next&&ao(e.next.bind(e,this.snapshot))();break;case fn.SUCCESS:e.complete&&ao(e.complete.bind(e))();break;case fn.CANCELED:case fn.ERROR:e.error&&ao(e.error.bind(e,this._error))();break;default:e.error&&ao(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this._service=e,n instanceof xn?this._location=n:this._location=xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gs(e,n)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zb(this._location.path)}get storage(){return this._service}get parent(){const e=nF(this._location.path);if(e===null)return null;const n=new xn(this._location.bucket,e);return new Gs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw O8(e)}}function SF(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new _F(t,new ki(e),n)}function EF(t){t._throwIfRoot("getDownloadURL");const e=dF(t.storage,t._location,e2());return t.storage.makeRequestWithTokens(e,fo).then(n=>{if(n===null)throw L8();return n})}function CF(t,e){const n=rF(t._location.path,e),r=new xn(t._location.bucket,n);return new Gs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t){return/^[A-Za-z]+:\/\//.test(t)}function TF(t,e){return new Gs(t,e)}function s2(t,e){if(t instanceof q1){const n=t;if(n._bucket==null)throw A8();const r=new Gs(n,n._bucket);return e!=null?s2(r,e):r}else return e!==void 0?CF(t,e):t}function kF(t,e){if(e&&xF(e)){if(t instanceof q1)return TF(t,e);throw ay("To use ref(service, url), the first argument must be a Storage instance.")}else return s2(t,e)}function OS(t,e){const n=e==null?void 0:e[zb];return n==null?null:xn.makeFromBucketSpec(n,t)}function IF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:pT(i,t.app.options.projectId))}class q1{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Vb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_8,this._maxUploadRetryTime=S8,this._requests=new Set,i!=null?this._bucket=xn.makeFromBucketSpec(i,this._host):this._bucket=OS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=OS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new j8(Wb());{const o=W8(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const jS="@firebase/storage",DS="0.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="storage";function bF(t,e,n){return t=et(t),SF(t,e,n)}function RF(t){return t=et(t),EF(t)}function AF(t,e){return t=et(t),kF(t,e)}function PF(t=ef(),e){t=et(t);const r=rs(t,o2).getImmediate({identifier:e}),i=hT("storage");return i&&LF(r,...i),r}function LF(t,e,n,r={}){IF(t,e,n,r)}function NF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new q1(n,r,i,e,ga)}function OF(){ur(new Hn(o2,NF,"PUBLIC").setMultipleInstances(!0)),_n(jS,DS,""),_n(jS,DS,"esm2017")}OF();const jF={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""},DF=vT(jF),Ia=t3(),MF=PF();m6(DF);const $F=new Fr,Nn=o8();async function UF({email:t,password:e}){try{return{user:(await O$(Ia,t,e)).user,status:"success"}}catch(n){throw new Error(ce(n))}}function FF(){const t=Ia.currentUser;if(t!==null)return{user:t,status:"success"};throw new Error(ce("Can't find user auth!"))}async function VF({email:t,password:e}){try{return{user:(await j$(Ia,t,e)).user,status:"success"}}catch(n){throw new Error(ce(n))}}async function zF(){try{return{user:(await d4(Ia,$F)).user,status:"success"}}catch(t){throw new Error(ce(t))}}function ro(){return{status:"success"}}function BF(){try{return V$(Ia),ro()}catch(t){throw new Error(ce(t))}}async function HF({user:t,displayName:e,photoURL:n}){const r={};if(e&&(r.displayName=e),n&&(r.photoURL=n),ea(r))throw new Error(ce("Nothing to update"));try{return await M$(t,r),ro()}catch(i){throw new Error(ce(i))}}const qF=Object.freeze(Object.defineProperty({__proto__:null,createUser:UF,getCurrentAuthUser:FF,signInWithEmail:VF,signInWithGoogle:zF,signOut:BF,updateProfile:HF},Symbol.toStringTag,{value:"Module"}));async function WF({chatId:t}){const e=dr(Nn,"chats",t);try{const n=await pu(e);if(n.exists())return{messages:n.data().message,status:"success"};await U1(e,{messages:[]});const r=await pu(e);if(r.exists())return{messages:r.data().message,status:"success"};throw new Error("Can't find group chat!")}catch(n){throw new Error(ce(n))}}const KF=Object.freeze(Object.defineProperty({__proto__:null,getChatMessages:WF},Symbol.toStringTag,{value:"Module"}));async function GF(){const t=P1(Nn,"groups");try{return{chatId:(await v8(t,{})).id,status:"success"}}catch(e){throw new Error(ce(e))}}async function a2({chatId:t}){const e=dr(Nn,"groups",t);try{const n=await pu(e);if(n.exists())return{messages:n.data().messages,status:"success"};throw new Error("Can't find group messages!")}catch(n){throw new Error(ce(n))}}async function QF({text:t,chatId:e,user:n}){var r;try{const i=await a2({chatId:e});if("error"in i)throw new Error((r=i.error)==null?void 0:r.toString());const o={messageId:i.messages&&i.messages.length>0?i.messages[i.messages.length-1].messageId+1:0,text:t,chatId:e,date:gt.now().toMillis().toString(),user:n};let a;"messages"in i&&i.messages&&i.messages.length>0?a=[...i.messages,o]:a=[o];const l=dr(Nn,"groups",e);return await Df(l,{messages:a}),ro()}catch(i){throw new Error(ce(i))}}async function YF(){const t=P1(Nn,"groups");try{const e=await Fb(t),n={};if(e.forEach(r=>{n[r.id]=r.data()}),!X.isObjectEmpty(n))return{groups:n,status:"success"};throw new Error("Can't find any groups!")}catch(e){throw new Error(ce(e))}}async function XF({chatId:t}){const e=dr(Nn,"groups",t);try{const n=await pu(e);if(n.exists())return{info:n.data().info,status:"success"};throw new Error("Can't find group info!")}catch(n){throw new Error(ce(n))}}async function JF({chatId:t,displayName:e,photoURL:n,lastText:r,color:i,ownerId:s,admins:o,type:a}){const l=dr(Nn,"groups",t);try{const u={};return t&&(u.chatId=t),e&&(u.displayName=e),n&&(u.photoURL=n),u.date=vv().toString(),r&&(u.lastText=r),i&&(u.color=i),s&&(u.ownerId=s),o&&o.length>0&&(u.admins=o),a&&(u.type=a),await Df(l,{info:u}),ro()}catch(u){throw new Error(ce(u))}}const ZF=Object.freeze(Object.defineProperty({__proto__:null,addGroup:GF,addMessage:QF,getAllGroups:YF,getGroupInfo:XF,getGroupMessages:a2,updateGroupInfo:JF},Symbol.toStringTag,{value:"Module"}));async function e7({uid:t}){const e=dr(Nn,"userChats",t);try{return await U1(e,{}),ro()}catch(n){throw new Error(ce(n))}}function t7({chatId:t,uid:e,targetChatUserId:n,targetChatUserDisplayName:r,targetChatUserPhotoURL:i}){const s=dr(Nn,"userChats",e);Df(s,{[`${t}.userInfo`]:{uid:n,displayName:r,photoURL:i},[`${t}.date`]:vv()})}const n7=Object.freeze(Object.defineProperty({__proto__:null,addUserChatsForUser:e7,updateUserChatInfo:t7},Symbol.toStringTag,{value:"Module"}));async function r7({uid:t}){const e=dr(Nn,"users",t);try{return await U1(e,{uid:t}),ro()}catch(n){throw new Error(ce(n))}}async function i7(){const t=P1(Nn,"users");try{const e=await Fb(t),n={};if(e.forEach(r=>{n[r.id]=r.data()}),!X.isObjectEmpty(n))return{users:n,status:"success"};throw new Error(ce("Can't find any chats!"))}catch(e){throw new Error(ce(e))}}async function s7({userId:t}){const e=dr(Nn,"users",t);try{const n=await pu(e);if(n.exists()){const{user:r}=n.data();return{user:r,status:"success"}}throw new Error("Can't find user!")}catch(n){throw new Error(ce(n))}}async function o7({uid:t,displayName:e,photoURL:n,email:r,status:i,role:s,sex:o,lastActiveChatId:a,isOnline:l,visitsCount:u}){const c=dr(Nn,"users",t);try{const h={};return e&&(h.displayName=e.trim()),n&&(h.photoURL=n),r&&(h.email=r),i&&(h.status=i),s&&(h.role=s.trim()),o&&(h.sex=o),a&&(h.lastActiveChatId=a),h.lastVisitDate=vv().toString(),l&&(h.isOnline=l),u&&(h.visitsCount=u),await Df(c,{user:h}),ro()}catch(h){throw new Error(ce(h))}}const a7=Object.freeze(Object.defineProperty({__proto__:null,addUser:r7,getAllUsers:i7,getUserById:s7,updateUser:o7},Symbol.toStringTag,{value:"Module"})),l7=Object.freeze(Object.defineProperty({__proto__:null,chats:KF,groups:ZF,userChats:n7,users:a7},Symbol.toStringTag,{value:"Module"}));function u7(...t){return t.sort().join("-")}const c7=Object.freeze(Object.defineProperty({__proto__:null,combineIds:u7},Symbol.toStringTag,{value:"Module"}));async function d7({refName:t,file:e}){const n=AF(MF,t);try{return await bF(n,e),{downloadURL:await RF(n),status:"success"}}catch(r){throw new Error(ce(r))}}const h7=Object.freeze(Object.defineProperty({__proto__:null,uploadFile:d7},Symbol.toStringTag,{value:"Module"})),f7=Object.freeze(Object.defineProperty({__proto__:null,auth:qF,database:l7,helpers:c7,storage:h7},Symbol.toStringTag,{value:"Module"}));function p7(t){return t.table.rows.map(e=>{var n;return(n=e.c.at(0))==null?void 0:n.v})}function m7(t){const e={},{table:n}=t,r=n.rows[0].c.length;for(let i=0;i<r;i++){const s=[];for(let o=1;o<n.rows.length;o++)n.rows[o].c[i]?s[o-1]=n.rows[o].c[i].v??"":s[o]="";e[n.rows[0].c[i].v]=s}return e}const g7={convertDataFromSheetWithFirstRowHeading:m7,convertDataFromOneColumnSheet:p7},y7="https://docs.google.com/spreadsheets/d/";async function v7({sheetId:t,tqx:e="out:json",pageTitle:n="sheet",range:r=""}){const i=new URLSearchParams;e&&i.append("tqx",e),n&&i.append("sheet",n),r&&i.append("range",r);try{const o=await(await fetch(`${y7}${t}/gviz/tq?${i}`)).text();return JSON.parse(o.substring(47).slice(0,-2))}catch(s){throw new Error(ce(s))}}const w7={getSheetData:v7,convertors:g7},_7={firebase:f7,sheets:w7,appsscript:_D};async function S7(){try{return{ip:(await(await fetch("https://api.ipify.org?format=json")).json()).ip,status:"success"}}catch(t){throw new Error(ce(t))}}const E7={fetchIP:S7},ke={google:_7,ipify:E7},C7="";function x7(t){let e;if(t){const n=cj(t,"value"),r=uj(n,"value");e=lj(r,"value")}return e}const Il=Xs("songsList/fetchSongsList",async(t,e)=>{try{const n=await ke.google.appsscript.getAllTitledColumnsDataSingle({spreadsheetId:C7,sheetName:"common"}),r=Object.entries(n.data),i=[];return r.map(o=>{const a=o[0];i.push(a);const l=x7(o[1].values);return[a,l]})}catch(n){return e.rejectWithValue(ce(n))}}),T7="_Icon_1telp_46",k7="_disabled_1telp_53",I7="_clickable_1telp_61",b7="_tiny_1telp_65",R7="_small_1telp_69",A7="_medium_1telp_77",P7="_large_1telp_81",L7="_extra_1telp_85",MS={Icon:T7,disabled:k7,clickable:I7,tiny:b7,small:R7,default:"_default_1telp_73",medium:A7,large:P7,extra:L7},At=x.forwardRef(({size:t="default",width:e=24,height:n=24,onClick:r,children:i,className:s,style:o,...a},l)=>{const u=[r&&"clickable",t&&MS[t]],c=t==="custom"?{width:e,height:n}:{};return d.jsx("div",{className:X.join(MS.Icon,s,u),onClick:r,ref:l,style:{...o,...c},...a,children:i})});At.displayName="Icon";function N7(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M7.86 2H16.14L22 7.86V16.14L16.14 22H7.86L2 16.14V7.86L7.86 2Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function O7(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("polyline",{points:"15 3 21 3 21 9"}),d.jsx("polyline",{points:"9 21 3 21 3 15"}),d.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]})}function j7(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("polyline",{points:"4 14 10 14 10 20"}),d.jsx("polyline",{points:"20 10 14 10 14 4"}),d.jsx("line",{x1:"14",y1:"10",x2:"21",y2:"3"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]})}function D7(t){return d.jsx(Ie,{fill:"none",...t,children:d.jsx("path",{d:"M21 12.79C20.8427 14.4922 20.2039 16.1144 19.1582 17.4668C18.1126 18.8192 16.7035 19.8458 15.0957 20.4265C13.4879 21.0073 11.748 21.1181 10.0795 20.7461C8.41101 20.3741 6.88299 19.5345 5.67422 18.3258C4.46545 17.117 3.62593 15.589 3.2539 13.9205C2.88187 12.252 2.99271 10.5121 3.57345 8.9043C4.1542 7.29651 5.18082 5.88737 6.53321 4.84175C7.88559 3.79614 9.50779 3.15731 11.21 3C10.2134 4.34827 9.73384 6.00945 9.85852 7.68141C9.98321 9.35338 10.7039 10.9251 11.8894 12.1106C13.0749 13.2961 14.6466 14.0168 16.3186 14.1415C17.9905 14.2662 19.6517 13.7866 21 12.79V12.79Z",strokeLinecap:"round",strokeLinejoin:"round"})})}function M7(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"1"}),d.jsx("circle",{cx:"12",cy:"5",r:"1"}),d.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}function $7(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("polyline",{points:"1 4 1 10 7 10"}),d.jsx("polyline",{points:"23 20 23 14 17 14"}),d.jsx("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})]})}function U7(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_1475_3120)",children:[d.jsx("path",{d:"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 1V3",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 21V23",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M4.22 4.22L5.64 5.64",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M18.36 18.36L19.78 19.78",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M1 12H3",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M21 12H23",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M4.22 19.78L5.64 18.36",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M18.36 5.64L19.78 4.22",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1475_3120",children:d.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function F7(){const t=x.useCallback(()=>{const n=window.innerWidth-document.body.offsetWidth;document.body.style.overflow="hidden",document.body.style.width="100%",document.body.style.paddingRight=`${n}px`},[]),e=x.useCallback(()=>{document.body.style.overflow="",document.body.style.width="auto",document.body.style.paddingRight="0px"},[]);return{lockScroll:t,unlockScroll:e}}function Ku(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M18 6L6 18",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M6 6L18 18",strokeLinecap:"round",strokeLinejoin:"round"})]})}const V7="_Menu_b65v5_18",z7="_backdrop_b65v5_50",B7="_show_b65v5_80",H7="_close_b65v5_86",q7="_menuItems_b65v5_93",Ha={Menu:V7,backdrop:z7,"hide-menu":"_hide-menu_b65v5_1",show:B7,"show-menu":"_show-menu_b65v5_1",close:H7,menuItems:q7},$f=x.forwardRef(({children:t,isOpen:e,scrollLock:n,onClick:r,closeButton:i,preventItemClickClose:s,menuOrigin:o,anchorOrigin:a,...l},u)=>{const c=x.useRef(null),[h,f]=x.useState(!0),[g,v]=x.useState({}),{lockScroll:p,unlockScroll:S}=F7();if(x.useEffect(()=>(e&&n&&p(),S),[e]),x.useEffect(()=>{f(!0)},[e]),x.useEffect(()=>{var M,$;const _=($=(M=c.current)==null?void 0:M.parentElement)==null?void 0:$.getBoundingClientRect(),E={width:(_==null?void 0:_.width)||0,height:(_==null?void 0:_.height)||0,horizontalHalf:((_==null?void 0:_.width)||0)/2,verticalHalf:((_==null?void 0:_.height)||0)/2},T={},k=a==null?void 0:a.horizontal,L=a==null?void 0:a.vertical,A=o==null?void 0:o.horizontal,O=o==null?void 0:o.vertical;A==="left"&&(k==="left"&&(T.left=0),k==="center"&&(T.left=E.horizontalHalf),k==="right"&&(T.left=E.width)),A==="right"&&(k==="left"&&(T.right=E.width),k==="center"&&(T.right=E.horizontalHalf),k==="right"&&(T.right=0)),O==="top"&&(L==="top"&&(T.top=0),L==="center"&&(T.top=E.verticalHalf),L==="bottom"&&(T.top=E.height)),O==="bottom"&&(L==="top"&&(T.bottom=E.height),L==="center"&&(T.bottom=E.verticalHalf),L==="bottom"&&(T.bottom=0));const W=o?`${o==null?void 0:o.horizontal} ${o==null?void 0:o.vertical}`:"left top";v({...T,transformOrigin:W})},[e]),!e)return null;const y=()=>{f(!1)},m=()=>{h||(r(),S())},w=_=>{s&&_.stopPropagation()};return d.jsxs(d.Fragment,{children:[d.jsx("div",{role:"navigation",className:Ha.backdrop,onClick:y,ref:u,...l}),d.jsxs("nav",{onAnimationEnd:m,ref:c,className:X.join(Ha.Menu,h&&Ha.show),style:g,children:[d.jsx("ul",{className:Ha.menuItems,onClick:w,children:t}),i&&d.jsx(Ze,{className:Ha.close,onClick:y,type:"secondary",size:"small",children:d.jsx(Ku,{size:"small"})})]})]})});$f.displayName="Menu";const W7="_MenuContainer_xz9l3_1",K7={MenuContainer:W7},Uf=x.forwardRef(({children:t,className:e,...n},r)=>d.jsx("div",{className:X.join(K7.MenuContainer,e),ref:r,...n,children:t}));Uf.displayName="MenuContainer";const G7="_MenuDivider_3of8s_1",Q7={MenuDivider:G7},l2=x.forwardRef(({className:t,...e},n)=>d.jsx("span",{className:X.join(Q7.MenuDivider,t),ref:n,...e}));l2.displayName="MenuDivider";const Y7="_MenuItem_2d0qh_46",X7="_disabled_2d0qh_71",$S={MenuItem:Y7,disabled:X7},Kr=x.forwardRef(({disabled:t,children:e,className:n,...r},i)=>{const s=[t&&$S.disabled];return d.jsx("li",{className:X.join($S.MenuItem,n,s),ref:i,...r,children:e})});Kr.displayName="MenuItem";const J7={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"},K=x.forwardRef(({component:t,display:e,children:n,className:r,...i},s)=>{const o=t||"p",a=e?Xt[e]:null,l=t?Xt[t]:Xt.p1,u={className:X.join(r,a||l),ref:s,...i},c=J7[o]||"p";return d.jsx(pv,{as:c,...u,children:n})});K.displayName="Typography";function Z7(){const e=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";return document.documentElement.setAttribute("data-theme",e),e}function eV(){const[t,e]=x.useState(!1),[n,r]=x.useState(!1),{theme:i}=ct(v=>v.appReducer),{actions:s}=rT,o=hn(),a=pj(),l=()=>{r(!0)},u=()=>{r(!1)},c=()=>{r(!1),Wx()},h=()=>{r(!1),o(Il())},f=()=>{const v=Z7();o(s.setTheme(v))},g=()=>{const v=!t;a(v),e(v)};return d.jsxs(Uf,{children:[d.jsxs($f,{isOpen:n,onClick:u,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[d.jsxs(Kr,{onClick:c,children:[d.jsx(At,{size:"small",children:d.jsx(N7,{})}),d.jsx(K,{component:"p2",children:"Скинути налаштування"})]}),d.jsxs(Kr,{onClick:h,children:[d.jsx(At,{size:"small",children:d.jsx($7,{})}),d.jsx(K,{component:"p2",children:"Оновити список пісень"})]}),d.jsx(l2,{}),d.jsxs(Kr,{onClick:f,children:[d.jsx(At,{size:"small",children:i==="dark"?d.jsx(D7,{}):d.jsx(U7,{})}),d.jsxs(K,{component:"p2",children:["Тема:"," ",i==="dark"?"темна":"світла"]})]}),d.jsxs(Kr,{onClick:g,children:[d.jsx(At,{size:"small",children:t?d.jsx(j7,{}):d.jsx(O7,{})}),d.jsx(K,{component:"p2",children:"На весь екран"})]})]}),d.jsx(Ze,{type:"text",onClick:l,children:d.jsx(M7,{})})]})}var $r={},tV={get exports(){return $r},set exports(t){$r=t}};(function(t,e){(function(r,i){t.exports=i(x)})(Z2,n=>(()=>{var r={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=v,l.parse=p;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,h=/^(?:(min|max)-)?(.+)/,f=/(em|rem|px|cm|mm|in|pt|pc)?$/,g=/(dpi|dpcm|dppx)?$/;function v(w,_){return p(w).some(function(E){var T=E.inverse,k=E.type==="all"||_.type===E.type;if(k&&T||!(k||T))return!1;var L=E.expressions.every(function(A){var O=A.feature,W=A.modifier,M=A.value,$=_[O];if(!$)return!1;switch(O){case"orientation":case"scan":return $.toLowerCase()===M.toLowerCase();case"width":case"height":case"device-width":case"device-height":M=m(M),$=m($);break;case"resolution":M=y(M),$=y($);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":M=S(M),$=S($);break;case"grid":case"color":case"color-index":case"monochrome":M=parseInt(M,10)||1,$=parseInt($,10)||0;break}switch(W){case"min":return $>=M;case"max":return $<=M;default:return $===M}});return L&&!T||!L&&T})}function p(w){return w.split(",").map(function(_){_=_.trim();var E=_.match(u),T=E[1],k=E[2],L=E[3]||"",A={};return A.inverse=!!T&&T.toLowerCase()==="not",A.type=k?k.toLowerCase():"all",L=L.match(/\([^\)]+\)/g)||[],A.expressions=L.map(function(O){var W=O.match(c),M=W[1].toLowerCase().match(h);return{modifier:M[1],feature:M[2],value:W[2]}}),A})}function S(w){var _=Number(w),E;return _||(E=w.match(/^(\d+)\s*\/\s*(\d+)$/),_=E[1]/E[2]),_}function y(w){var _=parseFloat(w),E=String(w).match(g)[1];switch(E){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function m(w){var _=parseFloat(w),E=String(w).match(f)[1];switch(E){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}},"./node_modules/hyphenate-style-name/index.js":(a,l,u)=>{u.r(l),u.d(l,{default:()=>p});var c=/[A-Z]/g,h=/^ms-/,f={};function g(S){return"-"+S.toLowerCase()}function v(S){if(f.hasOwnProperty(S))return f[S];var y=S.replace(c,g);return f[S]=h.test(y)?"-"+y:y}const p=v},"./node_modules/matchmediaquery/index.js":(a,l,u)=>{var c=u("./node_modules/css-mediaquery/index.js").match,h=typeof window<"u"?window.matchMedia:null;function f(v,p,S){var y=this;if(h&&!S){var m=h.call(window,v);this.matches=m.matches,this.media=m.media,m.addListener(E)}else this.matches=c(v,p),this.media=v;this.addListener=w,this.removeListener=_,this.dispose=T;function w(k){m&&m.addListener(k)}function _(k){m&&m.removeListener(k)}function E(k){y.matches=k.matches,y.media=k.media}function T(){m&&m.removeListener(E)}}function g(v,p,S){return new f(v,p,S)}a.exports=g},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function h(g){if(g==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(g)}function f(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de",Object.getOwnPropertyNames(g)[0]==="5")return!1;for(var v={},p=0;p<10;p++)v["_"+String.fromCharCode(p)]=p;var S=Object.getOwnPropertyNames(v).map(function(m){return v[m]});if(S.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(m){y[m]=m}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=f()?Object.assign:function(g,v){for(var p,S=h(g),y,m=1;m<arguments.length;m++){p=Object(arguments[m]);for(var w in p)u.call(p,w)&&(S[w]=p[w]);if(l){y=l(p);for(var _=0;_<y.length;_++)c.call(p,y[_])&&(S[y[_]]=p[y[_]])}}return S}},"./node_modules/prop-types/checkPropTypes.js":(a,l,u)=>{var c=function(){};{var h=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),f={},g=u("./node_modules/prop-types/lib/has.js");c=function(p){var S="Warning: "+p;typeof console<"u"&&console.error(S);try{throw new Error(S)}catch{}}}function v(p,S,y,m,w){for(var _ in p)if(g(p,_)){var E;try{if(typeof p[_]!="function"){var T=Error((m||"React class")+": "+y+" type `"+_+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof p[_]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw T.name="Invariant Violation",T}E=p[_](S,_,m,y,null,h)}catch(L){E=L}if(E&&!(E instanceof Error)&&c((m||"React class")+": type specification of "+y+" `"+_+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof E+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),E instanceof Error&&!(E.message in f)){f[E.message]=!0;var k=w?w():"";c("Failed "+y+" type: "+E.message+(k??""))}}}v.resetWarningCache=function(){f={}},a.exports=v},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,u)=>{var c=u("./node_modules/react-is/index.js"),h=u("./node_modules/object-assign/index.js"),f=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),g=u("./node_modules/prop-types/lib/has.js"),v=u("./node_modules/prop-types/checkPropTypes.js"),p=function(){};p=function(y){var m="Warning: "+y;typeof console<"u"&&console.error(m);try{throw new Error(m)}catch{}};function S(){return null}a.exports=function(y,m){var w=typeof Symbol=="function"&&Symbol.iterator,_="@@iterator";function E(F){var Q=F&&(w&&F[w]||F[_]);if(typeof Q=="function")return Q}var T="<<anonymous>>",k={array:W("array"),bigint:W("bigint"),bool:W("boolean"),func:W("function"),number:W("number"),object:W("object"),string:W("string"),symbol:W("symbol"),any:M(),arrayOf:$,element:le(),elementType:Re(),instanceOf:Fe,node:ie(),objectOf:H,oneOf:dt,oneOfType:G,shape:Ve,exact:yt};function L(F,Q){return F===Q?F!==0||1/F===1/Q:F!==F&&Q!==Q}function A(F,Q){this.message=F,this.data=Q&&typeof Q=="object"?Q:{},this.stack=""}A.prototype=Error.prototype;function O(F){var Q={},ye=0;function _e(Ee,C,I,R,z,j,b){if(R=R||T,j=j||I,b!==f){if(m){var q=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw q.name="Invariant Violation",q}else if(typeof console<"u"){var Ce=R+":"+I;!Q[Ce]&&ye<3&&(p("You are manually calling a React.PropTypes validation function for the `"+j+"` prop on `"+R+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),Q[Ce]=!0,ye++)}}return C[I]==null?Ee?C[I]===null?new A("The "+z+" `"+j+"` is marked as required "+("in `"+R+"`, but its value is `null`.")):new A("The "+z+" `"+j+"` is marked as required in "+("`"+R+"`, but its value is `undefined`.")):null:F(C,I,R,z,j)}var fe=_e.bind(null,!1);return fe.isRequired=_e.bind(null,!0),fe}function W(F){function Q(ye,_e,fe,Ee,C,I){var R=ye[_e],z=qe(R);if(z!==F){var j=vt(R);return new A("Invalid "+Ee+" `"+C+"` of type "+("`"+j+"` supplied to `"+fe+"`, expected ")+("`"+F+"`."),{expectedType:F})}return null}return O(Q)}function M(){return O(S)}function $(F){function Q(ye,_e,fe,Ee,C){if(typeof F!="function")return new A("Property `"+C+"` of component `"+fe+"` has invalid PropType notation inside arrayOf.");var I=ye[_e];if(!Array.isArray(I)){var R=qe(I);return new A("Invalid "+Ee+" `"+C+"` of type "+("`"+R+"` supplied to `"+fe+"`, expected an array."))}for(var z=0;z<I.length;z++){var j=F(I,z,fe,Ee,C+"["+z+"]",f);if(j instanceof Error)return j}return null}return O(Q)}function le(){function F(Q,ye,_e,fe,Ee){var C=Q[ye];if(!y(C)){var I=qe(C);return new A("Invalid "+fe+" `"+Ee+"` of type "+("`"+I+"` supplied to `"+_e+"`, expected a single ReactElement."))}return null}return O(F)}function Re(){function F(Q,ye,_e,fe,Ee){var C=Q[ye];if(!c.isValidElementType(C)){var I=qe(C);return new A("Invalid "+fe+" `"+Ee+"` of type "+("`"+I+"` supplied to `"+_e+"`, expected a single ReactElement type."))}return null}return O(F)}function Fe(F){function Q(ye,_e,fe,Ee,C){if(!(ye[_e]instanceof F)){var I=F.name||T,R=pi(ye[_e]);return new A("Invalid "+Ee+" `"+C+"` of type "+("`"+R+"` supplied to `"+fe+"`, expected ")+("instance of `"+I+"`."))}return null}return O(Q)}function dt(F){if(!Array.isArray(F))return arguments.length>1?p("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):p("Invalid argument supplied to oneOf, expected an array."),S;function Q(ye,_e,fe,Ee,C){for(var I=ye[_e],R=0;R<F.length;R++)if(L(I,F[R]))return null;var z=JSON.stringify(F,function(b,q){var Ce=vt(q);return Ce==="symbol"?String(q):q});return new A("Invalid "+Ee+" `"+C+"` of value `"+String(I)+"` "+("supplied to `"+fe+"`, expected one of "+z+"."))}return O(Q)}function H(F){function Q(ye,_e,fe,Ee,C){if(typeof F!="function")return new A("Property `"+C+"` of component `"+fe+"` has invalid PropType notation inside objectOf.");var I=ye[_e],R=qe(I);if(R!=="object")return new A("Invalid "+Ee+" `"+C+"` of type "+("`"+R+"` supplied to `"+fe+"`, expected an object."));for(var z in I)if(g(I,z)){var j=F(I,z,fe,Ee,C+"."+z,f);if(j instanceof Error)return j}return null}return O(Q)}function G(F){if(!Array.isArray(F))return p("Invalid argument supplied to oneOfType, expected an instance of array."),S;for(var Q=0;Q<F.length;Q++){var ye=F[Q];if(typeof ye!="function")return p("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+fi(ye)+" at index "+Q+"."),S}function _e(fe,Ee,C,I,R){for(var z=[],j=0;j<F.length;j++){var b=F[j],q=b(fe,Ee,C,I,R,f);if(q==null)return null;q.data&&g(q.data,"expectedType")&&z.push(q.data.expectedType)}var Ce=z.length>0?", expected one of type ["+z.join(", ")+"]":"";return new A("Invalid "+I+" `"+R+"` supplied to "+("`"+C+"`"+Ce+"."))}return O(_e)}function ie(){function F(Q,ye,_e,fe,Ee){return It(Q[ye])?null:new A("Invalid "+fe+" `"+Ee+"` supplied to "+("`"+_e+"`, expected a ReactNode."))}return O(F)}function Le(F,Q,ye,_e,fe){return new A((F||"React class")+": "+Q+" type `"+ye+"."+_e+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+fe+"`.")}function Ve(F){function Q(ye,_e,fe,Ee,C){var I=ye[_e],R=qe(I);if(R!=="object")return new A("Invalid "+Ee+" `"+C+"` of type `"+R+"` "+("supplied to `"+fe+"`, expected `object`."));for(var z in F){var j=F[z];if(typeof j!="function")return Le(fe,Ee,C,z,vt(j));var b=j(I,z,fe,Ee,C+"."+z,f);if(b)return b}return null}return O(Q)}function yt(F){function Q(ye,_e,fe,Ee,C){var I=ye[_e],R=qe(I);if(R!=="object")return new A("Invalid "+Ee+" `"+C+"` of type `"+R+"` "+("supplied to `"+fe+"`, expected `object`."));var z=h({},ye[_e],F);for(var j in z){var b=F[j];if(g(F,j)&&typeof b!="function")return Le(fe,Ee,C,j,vt(b));if(!b)return new A("Invalid "+Ee+" `"+C+"` key `"+j+"` supplied to `"+fe+"`.\nBad object: "+JSON.stringify(ye[_e],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(F),null,"  "));var q=b(I,j,fe,Ee,C+"."+j,f);if(q)return q}return null}return O(Q)}function It(F){switch(typeof F){case"number":case"string":case"undefined":return!0;case"boolean":return!F;case"object":if(Array.isArray(F))return F.every(It);if(F===null||y(F))return!0;var Q=E(F);if(Q){var ye=Q.call(F),_e;if(Q!==F.entries){for(;!(_e=ye.next()).done;)if(!It(_e.value))return!1}else for(;!(_e=ye.next()).done;){var fe=_e.value;if(fe&&!It(fe[1]))return!1}}else return!1;return!0;default:return!1}}function Gn(F,Q){return F==="symbol"?!0:Q?Q["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Q instanceof Symbol:!1}function qe(F){var Q=typeof F;return Array.isArray(F)?"array":F instanceof RegExp?"object":Gn(Q,F)?"symbol":Q}function vt(F){if(typeof F>"u"||F===null)return""+F;var Q=qe(F);if(Q==="object"){if(F instanceof Date)return"date";if(F instanceof RegExp)return"regexp"}return Q}function fi(F){var Q=vt(F);switch(Q){case"array":case"object":return"an "+Q;case"boolean":case"date":case"regexp":return"a "+Q;default:return Q}}function pi(F){return!F.constructor||!F.constructor.name?T:F.constructor.name}return k.checkPropTypes=v,k.resetWarningCache=v.resetWarningCache,k.PropTypes=k,k}},"./node_modules/prop-types/index.js":(a,l,u)=>{{var c=u("./node_modules/react-is/index.js"),h=!0;a.exports=u("./node_modules/prop-types/factoryWithTypeCheckers.js")(c.isElement,h)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var u=typeof Symbol=="function"&&Symbol.for,c=u?Symbol.for("react.element"):60103,h=u?Symbol.for("react.portal"):60106,f=u?Symbol.for("react.fragment"):60107,g=u?Symbol.for("react.strict_mode"):60108,v=u?Symbol.for("react.profiler"):60114,p=u?Symbol.for("react.provider"):60109,S=u?Symbol.for("react.context"):60110,y=u?Symbol.for("react.async_mode"):60111,m=u?Symbol.for("react.concurrent_mode"):60111,w=u?Symbol.for("react.forward_ref"):60112,_=u?Symbol.for("react.suspense"):60113,E=u?Symbol.for("react.suspense_list"):60120,T=u?Symbol.for("react.memo"):60115,k=u?Symbol.for("react.lazy"):60116,L=u?Symbol.for("react.block"):60121,A=u?Symbol.for("react.fundamental"):60117,O=u?Symbol.for("react.responder"):60118,W=u?Symbol.for("react.scope"):60119;function M(b){return typeof b=="string"||typeof b=="function"||b===f||b===m||b===v||b===g||b===_||b===E||typeof b=="object"&&b!==null&&(b.$$typeof===k||b.$$typeof===T||b.$$typeof===p||b.$$typeof===S||b.$$typeof===w||b.$$typeof===A||b.$$typeof===O||b.$$typeof===W||b.$$typeof===L)}function $(b){if(typeof b=="object"&&b!==null){var q=b.$$typeof;switch(q){case c:var Ce=b.type;switch(Ce){case y:case m:case f:case v:case g:case _:return Ce;default:var ze=Ce&&Ce.$$typeof;switch(ze){case S:case w:case k:case T:case p:return ze;default:return q}}case h:return q}}}var le=y,Re=m,Fe=S,dt=p,H=c,G=w,ie=f,Le=k,Ve=T,yt=h,It=v,Gn=g,qe=_,vt=!1;function fi(b){return vt||(vt=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),pi(b)||$(b)===y}function pi(b){return $(b)===m}function F(b){return $(b)===S}function Q(b){return $(b)===p}function ye(b){return typeof b=="object"&&b!==null&&b.$$typeof===c}function _e(b){return $(b)===w}function fe(b){return $(b)===f}function Ee(b){return $(b)===k}function C(b){return $(b)===T}function I(b){return $(b)===h}function R(b){return $(b)===v}function z(b){return $(b)===g}function j(b){return $(b)===_}l.AsyncMode=le,l.ConcurrentMode=Re,l.ContextConsumer=Fe,l.ContextProvider=dt,l.Element=H,l.ForwardRef=G,l.Fragment=ie,l.Lazy=Le,l.Memo=Ve,l.Portal=yt,l.Profiler=It,l.StrictMode=Gn,l.Suspense=qe,l.isAsyncMode=fi,l.isConcurrentMode=pi,l.isContextConsumer=F,l.isContextProvider=Q,l.isElement=ye,l.isForwardRef=_e,l.isFragment=fe,l.isLazy=Ee,l.isMemo=C,l.isPortal=I,l.isProfiler=R,l.isStrictMode=z,l.isSuspense=j,l.isValidElementType=M,l.typeOf=$})()},"./node_modules/react-is/index.js":(a,l,u)=>{a.exports=u("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,u)=>{u.r(l),u.d(l,{shallowEqualArrays:()=>h,shallowEqualObjects:()=>c});function c(f,g){if(f===g)return!0;if(!f||!g)return!1;var v=Object.keys(f),p=Object.keys(g),S=v.length;if(p.length!==S)return!1;for(var y=0;y<S;y++){var m=v[y];if(f[m]!==g[m]||!Object.prototype.hasOwnProperty.call(g,m))return!1}return!0}function h(f,g){if(f===g)return!0;if(!f||!g)return!1;var v=f.length;if(g.length!==v)return!1;for(var p=0;p<v;p++)if(f[p]!==g[p])return!1;return!0}},"./src/Component.ts":function(a,l,u){var c=this&&this.__rest||function(v,p){var S={};for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&p.indexOf(y)<0&&(S[y]=v[y]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,y=Object.getOwnPropertySymbols(v);m<y.length;m++)p.indexOf(y[m])<0&&Object.prototype.propertyIsEnumerable.call(v,y[m])&&(S[y[m]]=v[y[m]]);return S},h=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});var f=h(u("./src/useMediaQuery.ts")),g=function(v){var p=v.children,S=v.device,y=v.onChange,m=c(v,["children","device","onChange"]),w=(0,f.default)(m,S,y);return typeof p=="function"?p(w):w?p:null};l.default=g},"./src/Context.ts":(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var c=u("react"),h=(0,c.createContext)(void 0);l.default=h},"./src/index.ts":function(a,l,u){var c=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var h=c(u("./src/useMediaQuery.ts"));l.useMediaQuery=h.default;var f=c(u("./src/Component.ts"));l.default=f.default;var g=c(u("./src/toQuery.ts"));l.toQuery=g.default;var v=c(u("./src/Context.ts"));l.Context=v.default},"./src/mediaQuery.ts":function(a,l,u){var c=this&&this.__assign||function(){return c=Object.assign||function(_){for(var E,T=1,k=arguments.length;T<k;T++){E=arguments[T];for(var L in E)Object.prototype.hasOwnProperty.call(E,L)&&(_[L]=E[L])}return _},c.apply(this,arguments)},h=this&&this.__rest||function(_,E){var T={};for(var k in _)Object.prototype.hasOwnProperty.call(_,k)&&E.indexOf(k)<0&&(T[k]=_[k]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,k=Object.getOwnPropertySymbols(_);L<k.length;L++)E.indexOf(k[L])<0&&Object.prototype.propertyIsEnumerable.call(_,k[L])&&(T[k[L]]=_[k[L]]);return T},f=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0});var g=f(u("./node_modules/prop-types/index.js")),v=g.default.oneOfType([g.default.string,g.default.number]),p={all:g.default.bool,grid:g.default.bool,aural:g.default.bool,braille:g.default.bool,handheld:g.default.bool,print:g.default.bool,projection:g.default.bool,screen:g.default.bool,tty:g.default.bool,tv:g.default.bool,embossed:g.default.bool},S={orientation:g.default.oneOf(["portrait","landscape"]),scan:g.default.oneOf(["progressive","interlace"]),aspectRatio:g.default.string,deviceAspectRatio:g.default.string,height:v,deviceHeight:v,width:v,deviceWidth:v,color:g.default.bool,colorIndex:g.default.bool,monochrome:g.default.bool,resolution:v,type:Object.keys(p)};S.type;var y=h(S,["type"]),m=c({minAspectRatio:g.default.string,maxAspectRatio:g.default.string,minDeviceAspectRatio:g.default.string,maxDeviceAspectRatio:g.default.string,minHeight:v,maxHeight:v,minDeviceHeight:v,maxDeviceHeight:v,minWidth:v,maxWidth:v,minDeviceWidth:v,maxDeviceWidth:v,minColor:g.default.number,maxColor:g.default.number,minColorIndex:g.default.number,maxColorIndex:g.default.number,minMonochrome:g.default.number,maxMonochrome:g.default.number,minResolution:v,maxResolution:v},y),w=c(c({},p),m);l.default={all:w,types:p,matchers:S,features:m}},"./src/toQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});var h=c(u("./node_modules/hyphenate-style-name/index.js")),f=c(u("./src/mediaQuery.ts")),g=function(y){return"not ".concat(y)},v=function(y,m){var w=(0,h.default)(y);return typeof m=="number"&&(m="".concat(m,"px")),m===!0?w:m===!1?g(w):"(".concat(w,": ").concat(m,")")},p=function(y){return y.join(" and ")},S=function(y){var m=[];return Object.keys(f.default.all).forEach(function(w){var _=y[w];_!=null&&m.push(v(w,_))}),p(m)};l.default=S},"./src/useMediaQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(l,"__esModule",{value:!0});var h=u("react"),f=c(u("./node_modules/matchmediaquery/index.js")),g=c(u("./node_modules/hyphenate-style-name/index.js")),v=u("./node_modules/shallow-equal/dist/index.esm.js"),p=c(u("./src/toQuery.ts")),S=c(u("./src/Context.ts")),y=function(A){return A.query||(0,p.default)(A)},m=function(A){if(A){var O=Object.keys(A);return O.reduce(function(W,M){return W[(0,g.default)(M)]=A[M],W},{})}},w=function(){var A=(0,h.useRef)(!1);return(0,h.useEffect)(function(){A.current=!0},[]),A.current},_=function(A){var O=(0,h.useContext)(S.default),W=function(){return m(A)||m(O)},M=(0,h.useState)(W),$=M[0],le=M[1];return(0,h.useEffect)(function(){var Re=W();(0,v.shallowEqualObjects)($,Re)||le(Re)},[A,O]),$},E=function(A){var O=function(){return y(A)},W=(0,h.useState)(O),M=W[0],$=W[1];return(0,h.useEffect)(function(){var le=O();M!==le&&$(le)},[A]),M},T=function(A,O){var W=function(){return(0,f.default)(A,O||{},!!O)},M=(0,h.useState)(W),$=M[0],le=M[1],Re=w();return(0,h.useEffect)(function(){if(Re){var Fe=W();return le(Fe),function(){Fe&&Fe.dispose()}}},[A,O]),$},k=function(A){var O=(0,h.useState)(A.matches),W=O[0],M=O[1];return(0,h.useEffect)(function(){var $=function(le){M(le.matches)};return A.addListener($),M(A.matches),function(){A.removeListener($)}},[A]),W},L=function(A,O,W){var M=_(O),$=E(A);if(!$)throw new Error("Invalid or missing MediaQuery!");var le=T($,M),Re=k(le),Fe=w();return(0,h.useEffect)(function(){Fe&&W&&W(Re)},[Re]),(0,h.useEffect)(function(){return function(){le&&le.dispose()}},[]),Re};l.default=L},react:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a].call(u.exports,u,u.exports,s),u.exports}s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(tV);const ls={xx:1/0,xl:1179,lg:1023,md:767,sm:539,xs:479,ss:359};function nV(){return{isScreenXX:$r.useMediaQuery({query:`(max-width: ${ls.xx}px)`}),isScreenXL:$r.useMediaQuery({query:`(max-width: ${ls.xl}px)`}),isScreenLG:$r.useMediaQuery({query:`(max-width: ${ls.lg}px)`}),isScreenMD:$r.useMediaQuery({query:`(max-width: ${ls.md}px)`}),isScreenSM:$r.useMediaQuery({query:`(max-width: ${ls.sm}px)`}),isScreenXS:$r.useMediaQuery({query:`(max-width: ${ls.xs}px)`}),isScreenSS:$r.useMediaQuery({query:`(max-width: ${ls.ss}px)`})}}const W1=x.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=e&&mv(e);return d.jsx("nav",{className:X.join(r,t&&"row",o),ref:s,...i,children:n})});W1.displayName="Nav";const u2=[{label:"Головна",path:Ct.home,end:!1},{label:"Список пісень",path:Ct.songslist,end:!1},{label:"Користувачі",path:lr.users,end:!1,private:!0}],rV="_NavigationDesktop_10tfr_1",iV="_active_10tfr_7",sV="_link_10tfr_7",Zp={NavigationDesktop:rV,active:iV,link:sV};function oV(){const{isAuth:t}=Pr(),e=({isActive:n})=>n?Zp.active:"";return d.jsx(W1,{className:Zp.NavigationDesktop,children:u2.map(n=>(!n.private||t)&&d.jsx(Pd,{className:e,end:n.end,to:n.path,children:d.jsx($s,{className:Zp.link,underline:!1,children:n.label})},n.label))})}function aV(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M3.55844 12.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.55844 6.80774H21.5584",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.55844 18.8077H21.5584",strokeLinecap:"round",strokeLinejoin:"round"})]})}const lV="_NavigationMobile_1g68x_1",uV="_active_1g68x_7",cV="_link_1g68x_7",em={NavigationMobile:lV,active:uV,link:cV};function dV(){const{isAuth:t}=Pr(),[e,n]=x.useState(!1),r=()=>{n(!0)},i=()=>{n(!1)},s=({isActive:o})=>o?em.active:"";return d.jsx(W1,{className:em.NavigationMobile,children:d.jsxs(Uf,{children:[d.jsx($f,{isOpen:e,onClick:i,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:u2.map(o=>(!o.private||t)&&d.jsx(Kr,{onClick:i,children:d.jsx(Pd,{className:s,end:o.end,to:o.path,children:d.jsx($s,{className:em.link,underline:!1,children:o.label})})},o.label))}),d.jsx(Ze,{type:"text",onClick:r,children:d.jsx(aV,{})})]})})}function hV(){const{isScreenMD:t}=nV();return d.jsxs(d.Fragment,{children:[!t&&d.jsx(oV,{}),t&&d.jsx(dV,{})]})}const tm=Xs("user/createUser",async({displayName:t,email:e,password:n,photo:r},i)=>{var s;try{const o=await ke.google.firebase.auth.createUser({email:e,password:n});if("error"in o)throw new Error((s=o.error)==null?void 0:s.toString());const a=r?await ke.google.firebase.storage.uploadFile({refName:`users/${o.user.uid}/profile/profileImage-${o.user.uid}`,file:r}):null,l=a&&"downloadURL"in a&&a.downloadURL||"";return"error"in await ke.google.firebase.database.users.addUser({uid:o.user.uid})||await ke.google.firebase.database.users.updateUser({uid:o.user.uid,displayName:t||"User",photoURL:l,email:e||"",status:"user",role:"",sex:"",lastActiveChatId:"0",visitsCount:1}),await ke.google.firebase.auth.updateProfile({user:o.user,displayName:t,photoURL:l}),await ke.google.firebase.database.userChats.addUserChatsForUser({uid:o.user.uid}),{uid:ke.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:t,photoURL:l,email:e,status:"",sex:"",role:"",lastActiveChatId:"",lastVisitDate:"",isOnline:!1,visitsCount:1}}catch(o){return i.rejectWithValue(ce(o))}}),ed=Xs("user/createUserWithEmail",async({email:t,password:e},n)=>{var r;try{const i=await ke.google.firebase.auth.createUser({email:t,password:e});if("error"in i)throw new Error((r=i.error)==null?void 0:r.toString());return"error"in await ke.google.firebase.database.users.addUser({uid:i.user.uid})||await ke.google.firebase.database.users.updateUser({uid:i.user.uid,displayName:"",photoURL:"",email:t||"",status:"user",role:"",sex:"",lastActiveChatId:"0",visitsCount:1}),await ke.google.firebase.database.userChats.addUserChatsForUser({uid:i.user.uid}),{uid:ke.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:"",photoURL:"",email:t,status:"",sex:"",role:"",lastActiveChatId:"",lastVisitDate:"",isOnline:!1,visitsCount:1}}catch(i){return n.rejectWithValue(ce(i))}}),td=Xs("user/signIn",async({email:t,password:e},n)=>{try{const r=await ke.google.firebase.auth.signInWithEmail({email:t,password:e}),i=await ke.google.firebase.database.users.getUserById({userId:r.user.uid});return{uid:ke.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:i.user.displayName,photoURL:i.user.photoURL,email:i.user.email,status:i.user.status,sex:i.user.sex,role:i.user.role,lastActiveChatId:i.user.lastActiveChatId,lastVisitDate:i.user.lastVisitDate,isOnline:i.user.isOnline,visitsCount:i.user.visitsCount}}catch(r){return n.rejectWithValue(ce(r))}}),bl=Xs("user/signInWithGoogle",async(t,e)=>{try{await ke.google.firebase.auth.signInWithGoogle();const n=ke.google.firebase.auth.getCurrentAuthUser();let r=null;try{r=await ke.google.firebase.database.users.getUserById({userId:n.user.uid})}catch{}return r||("error"in await ke.google.firebase.database.users.addUser({uid:n.user.uid})||await ke.google.firebase.database.users.updateUser({uid:n.user.uid,displayName:n.user.displayName||"User",photoURL:n.user.photoURL||"",email:n.user.email||"",status:"user",role:"",sex:"",lastActiveChatId:"0",visitsCount:1}),await ke.google.firebase.database.userChats.addUserChatsForUser({uid:n.user.uid}),r=await ke.google.firebase.database.users.getUserById({userId:n.user.uid})),{uid:ke.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:r.user.displayName,photoURL:r.user.photoURL,email:r.user.email,status:r.user.status,sex:r.user.sex,role:r.user.role,lastActiveChatId:r.user.lastActiveChatId,lastVisitDate:r.user.lastVisitDate,isOnline:r.user.isOnline,visitsCount:r.user.visitsCount}}catch(n){return e.rejectWithValue(ce(n))}}),Rl=Xs("user/updateUser",async({uid:t,displayName:e,photo:n,email:r,status:i,sex:s,role:o,lastActiveChatId:a,visitsCount:l},u)=>{try{const c=n?await ke.google.firebase.storage.uploadFile({refName:`users/${t}/profile/profileImage-${t}`,file:n}):null,h=c&&"downloadURL"in c&&c.downloadURL||"",f=await ke.google.firebase.database.users.getUserById({userId:t}),g={uid:t,displayName:e||f.user.displayName||"",photoURL:h||f.user.photoURL||"",email:r||f.user.email||"",status:i||f.user.status||"",sex:s||f.user.sex||"",role:o||f.user.role||"",lastActiveChatId:a||f.user.lastActiveChatId||"",visitsCount:l||f.user.visitsCount||0};await ke.google.firebase.database.users.updateUser(g);const v=ke.google.firebase.auth.getCurrentAuthUser(),p={user:v.user,displayName:e||v.user.displayName||"",photoURL:h||v.user.photoURL||""};await ke.google.firebase.auth.updateProfile(p);const S=await ke.google.firebase.database.users.getUserById({userId:t});return{uid:ke.google.firebase.auth.getCurrentAuthUser().user.uid,displayName:S.user.displayName,photoURL:S.user.photoURL,email:S.user.email,status:S.user.status,sex:S.user.sex,role:S.user.role,lastActiveChatId:S.user.lastActiveChatId,lastVisitDate:S.user.lastVisitDate,isOnline:S.user.isOnline,visitsCount:S.user.visitsCount}}catch(c){return u.rejectWithValue(ce(c))}}),fV={isLoading:!1,error:"",uid:"",displayName:"",photoURL:"",email:"",status:"",sex:"",role:"",lastActiveChatId:"",lastVisitDate:"",isOnline:!1,visitsCount:0},ba=Cu({name:"user",initialState:fV,reducers:{setUser(t,e){t.uid=e.payload.uid,t.displayName=e.payload.displayName,t.photoURL=e.payload.photoURL,t.email=e.payload.email},removeUser(t){t.uid="",t.displayName="",t.photoURL="",t.email="",t.status="",t.sex="",t.role="",t.lastActiveChatId="",t.lastVisitDate="",t.isOnline=!1,t.visitsCount=0,t.error="",t.isLoading=!1},resetError(t){t.error=""}},extraReducers:t=>{t.addCase(tm.pending,e=>{e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="",e.sex="",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1,e.visitsCount=0,e.error="",e.isLoading=!0}).addCase(tm.fulfilled,(e,n)=>{e.uid=n.payload.uid,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.email=n.payload.email,e.status=n.payload.status,e.sex=n.payload.sex,e.role=n.payload.role,e.lastActiveChatId=n.payload.lastActiveChatId,e.lastVisitDate=n.payload.lastVisitDate,e.isOnline=n.payload.isOnline,e.visitsCount=n.payload.visitsCount,e.error="",e.isLoading=!1}).addCase(tm.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(ed.pending,e=>{e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="",e.sex="",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1,e.visitsCount=0,e.error="",e.isLoading=!0}).addCase(ed.fulfilled,(e,n)=>{e.uid=n.payload.uid,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.email=n.payload.email,e.status=n.payload.status,e.sex=n.payload.sex,e.role=n.payload.role,e.lastActiveChatId=n.payload.lastActiveChatId,e.lastVisitDate=n.payload.lastVisitDate,e.isOnline=n.payload.isOnline,e.visitsCount=n.payload.visitsCount,e.error="",e.isLoading=!1}).addCase(ed.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(td.pending,e=>{e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="",e.sex="",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1,e.visitsCount=0,e.error="",e.isLoading=!0}).addCase(td.fulfilled,(e,n)=>{e.uid=n.payload.uid,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.email=n.payload.email,e.status=n.payload.status,e.sex=n.payload.sex,e.role=n.payload.role,e.lastActiveChatId=n.payload.lastActiveChatId,e.lastVisitDate=n.payload.lastVisitDate,e.isOnline=n.payload.isOnline,e.visitsCount=n.payload.visitsCount,e.error="",e.isLoading=!1}).addCase(td.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(bl.pending,e=>{e.uid="",e.displayName="",e.photoURL="",e.email="",e.status="",e.sex="",e.role="",e.lastActiveChatId="",e.lastVisitDate="",e.isOnline=!1,e.visitsCount=0,e.error="",e.isLoading=!0}).addCase(bl.fulfilled,(e,n)=>{e.uid=n.payload.uid,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.email=n.payload.email,e.status=n.payload.status,e.sex=n.payload.sex,e.role=n.payload.role,e.lastActiveChatId=n.payload.lastActiveChatId,e.lastVisitDate=n.payload.lastVisitDate,e.isOnline=n.payload.isOnline,e.visitsCount=n.payload.visitsCount,e.error="",e.isLoading=!1}).addCase(bl.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1}).addCase(Rl.pending,e=>{e.error="",e.isLoading=!0}).addCase(Rl.fulfilled,(e,n)=>{e.uid=n.payload.uid,e.displayName=n.payload.displayName,e.photoURL=n.payload.photoURL,e.email=n.payload.email,e.status=n.payload.status,e.sex=n.payload.sex,e.role=n.payload.role,e.lastActiveChatId=n.payload.lastActiveChatId,e.lastVisitDate=n.payload.lastVisitDate,e.isOnline=n.payload.isOnline,e.visitsCount=n.payload.visitsCount,e.error="",e.isLoading=!1}).addCase(Rl.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),pV="_img_15hv3_46",mV="_small_15hv3_52",gV="_charContainer_15hv3_57",yV="_char_15hv3_57",vV="_clickable_15hv3_75",us={img:pV,small:mV,charContainer:gV,char:yV,clickable:vV},mu=x.forwardRef(({src:t,alt:e,char:n,color:r,size:i="default",onClick:s,children:o,className:a,...l},u)=>{const[c,h]=x.useState("");x.useEffect(()=>{t&&h(t)},[t]);const f=[s&&us.clickable],g=i&&us[i],v=()=>{h("")};return d.jsxs("div",{onClick:s,className:X.join(us.Avatar,a,f),ref:u,...l,children:[!c&&o&&d.jsx("div",{className:X.join(us.charContainer,g),style:{backgroundColor:r},children:o}),c&&d.jsx("img",{className:X.join(us.img,g),src:c,alt:e,onError:v}),!c&&!o&&d.jsx("div",{className:X.join(us.charContainer,g),style:{backgroundColor:r},children:d.jsx(K,{display:"h5",className:us.char,children:n})})]})});mu.displayName="Avatar";function wV(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("polyline",{points:"16 17 21 12 16 7"}),d.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})}function _V(t){return d.jsx(Ie,{fill:"none",...t,children:d.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}function SV(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function EV(){const[t,e]=x.useState(!1),n=cr(),{isAdmin:r,isAuth:i}=Pr(),{photoURL:s,displayName:o,email:a,role:l}=ct(v=>v.userReducer),u=hn(),{removeUser:c}=ba.actions,h=()=>{e(!0)},f=()=>{e(!1)},g=()=>{u(c()),ke.google.firebase.auth.signOut(),n(Ct.home),f()};return d.jsxs(Uf,{children:[d.jsxs($f,{isOpen:t,onClick:f,anchorOrigin:{horizontal:"right",vertical:"top"},menuOrigin:{horizontal:"right",vertical:"top"},preventItemClickClose:!0,children:[i&&d.jsx(Pd,{to:lr.user,children:d.jsxs(Kr,{onClick:f,children:[d.jsx(At,{children:d.jsx(SV,{})}),d.jsx($s,{underline:!1,children:"Редагування профілю"})]})}),r&&d.jsx(Pd,{to:qx.admin,children:d.jsxs(Kr,{onClick:f,children:[d.jsx(At,{children:d.jsx(_V,{})}),d.jsx($s,{underline:!1,children:"Панель адміна"})]})}),d.jsxs(Kr,{onClick:g,children:[d.jsx(At,{children:d.jsx(wV,{})}),d.jsx(K,{component:"p1",children:"Вихід"})]})]}),d.jsx(mu,{src:s,alt:o,char:(o==null?void 0:o[0])||(a==null?void 0:a[0])||"",size:"small",onClick:h,title:`${o} ${l}`})]})}const CV="_Header_yqrt5_1",xV="_container_yqrt5_5",TV="_controls_yqrt5_13",nm={Header:CV,container:xV,controls:TV};function kV(){const{pathname:t}=ns(),e=cr(),{isAuth:n}=Pr(),r=()=>{e(Ct.login)},i=Ri(Ct.login,t),s=Ri(Ct.signup,t),o=Ri(lr.user,t);return d.jsx(ge,{component:"header",className:nm.Header,children:d.jsxs(Mt,{container:!0,component:"section",className:nm.container,children:[d.jsx(GO,{}),d.jsxs(ge,{className:nm.controls,children:[!(i||s||o)&&d.jsx(hV,{}),d.jsx(eV,{}),n?!(i||s||o)&&d.jsx(EV,{}):!(i||s)&&d.jsx(Ze,{size:"small",onClick:r,children:"Увійти"})]})]})})}function IV(t){t&&document.documentElement.style.setProperty("--vh",`${t}px`)}function bV(){const t=typeof window<"u";function e(){return t?window.innerHeight:null}const[n,r]=x.useState(e());return x.useEffect(()=>{IV(n)},[n]),x.useEffect(()=>(window.addEventListener("resize",()=>r(e())),()=>window.addEventListener("resize",()=>r(e()))),[t]),x.useEffect(()=>(window.addEventListener("orientationchange",()=>r(e())),()=>window.addEventListener("orientationchange",()=>r(e()))),[t]),{viewportHeight:n}}function RV(t){const[e,n]=x.useState();return x.useLayoutEffect(()=>{document.body.classList.add("no-transition");const r=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n(r),document.documentElement.setAttribute("data-theme",r),setTimeout(()=>document.body.classList.remove("no-transition"),0)},[]),{theme:e}}function AV(){const[t,e]=x.useState(!1);bV();const{theme:n}=ct(u=>u.appReducer);RV(n);const r=hn(),{actions:i}=ba,s=cr(),o=ns(),[a,l]=x.useState("");return x.useLayoutEffect(()=>{document.body.classList.add("scroll")},[]),x.useLayoutEffect(()=>{l(o.pathname)},[o]),x.useEffect(()=>{(async()=>{F$(Ia,async c=>{if(c){const h=await ke.google.firebase.database.users.getUserById({userId:c.uid});r(Rl({uid:c.uid,visitsCount:(h.user.visitsCount||0)+1}));const f=await ke.google.firebase.database.users.getUserById({userId:c.uid});r(i.setUser({...f.user}))}t||(a&&s(a),e(!0))})})()},[]),{isInit:t}}function PV(){const{isInit:t}=AV();return t?d.jsxs(d.Fragment,{children:[d.jsx(kV,{}),d.jsx(DN,{}),d.jsx(KO,{})]}):d.jsx(CO,{})}const LV=x.forwardRef(({gridContainer:t,children:e,className:n,...r},i)=>d.jsx("div",{className:X.join(n,"container",t&&"row"),ref:i,...r,children:e}));LV.displayName="Container";const NV=x.forwardRef(({children:t,className:e,...n},r)=>d.jsx("footer",{className:X.join(e,"footer"),ref:r,...n,children:t}));NV.displayName="Footer";const OV=x.forwardRef(({children:t,className:e,...n},r)=>d.jsx("header",{className:X.join(e,"header"),ref:r,...n,children:t}));OV.displayName="Header";const K1=x.forwardRef(({children:t,className:e,...n},r)=>d.jsx("main",{className:X.join(e,"main"),ref:r,...n,children:t}));K1.displayName="Main";const jV=x.forwardRef(({gridContainer:t,grid:e,children:n,className:r,...i},s)=>{const o=[e&&mv(e)];return d.jsx("section",{className:X.join(r,t&&"row",o),ref:s,...i,children:n})});jV.displayName="Section";function DV(){return d.jsx(ge,{component:"main",children:d.jsx(Mt,{container:!0,component:"section",children:d.jsx("div",{children:"AdminPage"})})})}const MV="_container_1l783_1",$V="_title_1l783_9",UV="_title40_1l783_13",FV="_title4_1l783_13",VV="_description_1l783_22",qa={container:MV,title:$V,title40:UV,title4:FV,"char-animation":"_char-animation_1l783_1",description:VV};function zV(){const t=cr();return d.jsx(ge,{component:"main",children:d.jsxs(Mt,{container:!0,component:"section",className:qa.container,children:[d.jsx(Ze,{size:"small",onClick:()=>t(Ct.home),children:"На головну"}),d.jsxs(ge,{className:qa.title,children:[d.jsx(K,{component:"p1",display:"h1",className:qa.title40,children:"40"}),d.jsx(K,{component:"p1",display:"h1",className:qa.title4,children:"4"})]}),d.jsx(ge,{className:qa.description,children:d.jsxs(K,{component:"p2",children:["Вибачте, сторінки не існує",d.jsx("br",{}),"або функціонал ще в процесі розробки",d.jsx("br",{}),"¯\\_(ツ)_/¯"]})})]})})}const BV="_container_6r9gh_1",HV="_buttons_6r9gh_9",qV="_description_6r9gh_16",rm={container:BV,buttons:HV,description:qV};function WV(){const t=zx(),e=cr(),n=()=>{Wx()};return Io(t)&&t.status?d.jsx(zV,{}):d.jsx(ge,{component:"main",children:d.jsx(Mt,{container:!0,component:"section",className:rm.container,children:d.jsxs(d.Fragment,{children:[d.jsxs(ge,{className:rm.buttons,children:[d.jsx(Ze,{size:"small",onClick:()=>e(Ct.home),children:"На головну"}),d.jsx(Ze,{type:"secondary",size:"small",onClick:n,children:"Видалити дані та перезавантажити"}),d.jsx(yv,{type:"secondary",size:"small",href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати мені в Телеграм"})]}),d.jsx(K,{component:"h3",children:"Сорі, виникла помилка =("}),d.jsx(ge,{className:rm.description,children:d.jsxs(d.Fragment,{children:[d.jsx(K,{component:"h4",children:Io(t)&&t.status}),d.jsxs(K,{component:"h5",children:[t instanceof Error&&t.message,Io(t)&&t.statusText,Io(t)&&t.data.message]})]})})]})})})}const KV="_HomePage_1l60f_46",GV="_container_1l60f_46",US={HomePage:KV,container:GV};function QV(){return d.jsx(ge,{component:"main",className:US.HomePage,children:d.jsxs(Mt,{container:!0,component:"section",className:US.container,children:[d.jsx(K,{component:"h1",children:"Вітаю на сайті 👋"}),d.jsx(K,{component:"h6",children:"Сайт знаходиться в розробці"}),d.jsx(K,{component:"h6",children:"Якщо ви знайшли баг або у вас є якісь пропозиції, побажання, коментарі, пишіть в Телеграм 😊"}),d.jsx(yv,{href:"https://t.me/amelianceskymusic",blank:!0,children:"Написати"})]})})}var Gu=t=>t.type==="checkbox",Ao=t=>t instanceof Date,an=t=>t==null;const c2=t=>typeof t=="object";var kt=t=>!an(t)&&!Array.isArray(t)&&c2(t)&&!Ao(t),YV=t=>kt(t)&&t.target?Gu(t.target)?t.target.checked:t.target.value:t,XV=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,JV=(t,e)=>t.has(XV(e)),ZV=t=>{const e=t.constructor&&t.constructor.prototype;return kt(e)&&e.hasOwnProperty("isPrototypeOf")},G1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ms(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(G1&&(t instanceof Blob||t instanceof FileList))&&(n||kt(t)))if(e=n?[]:{},!Array.isArray(t)&&!ZV(t))e=t;else for(const r in t)e[r]=ms(t[r]);else return t;return e}var Qu=t=>Array.isArray(t)?t.filter(Boolean):[],pt=t=>t===void 0,te=(t,e,n)=>{if(!e||!kt(t))return n;const r=Qu(e.split(/[,[\].]+?/)).reduce((i,s)=>an(i)?i:i[s],t);return pt(r)||r===t?pt(t[e])?n:t[e]:r};const FS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},nr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Nr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Vr.createContext(null);var ez=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==nr.all&&(e._proxyFormState[o]=!r||nr.all),n&&(n[o]=!0),t[o]}});return i},jn=t=>kt(t)&&!Object.keys(t).length,tz=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return jn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||nr.all))},im=t=>Array.isArray(t)?t:[t];function nz(t){const e=Vr.useRef(t);e.current=t,Vr.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Sr=t=>typeof t=="string",rz=(t,e,n,r,i)=>Sr(t)?(r&&e.watch.add(t),te(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),te(n,s))):(r&&(e.watchAll=!0),n),Q1=t=>/^\w*$/.test(t),d2=t=>Qu(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Ge(t,e,n){let r=-1;const i=Q1(e)?[e]:d2(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=kt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}var iz=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const ly=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=te(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else kt(o)&&ly(o,e)}}};var VS=t=>({isOnSubmit:!t||t===nr.onSubmit,isOnBlur:t===nr.onBlur,isOnChange:t===nr.onChange,isOnAll:t===nr.all,isOnTouch:t===nr.onTouched}),zS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),sz=(t,e,n)=>{const r=Qu(te(t,n));return Ge(r,"root",e[n]),Ge(t,n,r),t},Ho=t=>typeof t=="boolean",Y1=t=>t.type==="file",Ai=t=>typeof t=="function",lh=t=>{if(!G1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},nd=t=>Sr(t),X1=t=>t.type==="radio",uh=t=>t instanceof RegExp;const BS={value:!1,isValid:!1},HS={value:!0,isValid:!0};var h2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!pt(t[0].attributes.value)?pt(t[0].value)||t[0].value===""?HS:{value:t[0].value,isValid:!0}:HS:BS}return BS};const qS={isValid:!1,value:null};var f2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,qS):qS;function WS(t,e,n="validate"){if(nd(t)||Array.isArray(t)&&t.every(nd)||Ho(t)&&!t)return{type:n,message:nd(t)?t:"",ref:e}}var lo=t=>kt(t)&&!uh(t)?t:{value:t,message:""},KS=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:f,validate:g,name:v,valueAsNumber:p,mount:S,disabled:y}=t._f,m=te(e,v);if(!S||y)return{};const w=o?o[0]:s,_=M=>{r&&w.reportValidity&&(w.setCustomValidity(Ho(M)?"":M||""),w.reportValidity())},E={},T=X1(s),k=Gu(s),L=T||k,A=(p||Y1(s))&&pt(s.value)&&pt(m)||lh(s)&&s.value===""||m===""||Array.isArray(m)&&!m.length,O=iz.bind(null,v,n,E),W=(M,$,le,Re=Nr.maxLength,Fe=Nr.minLength)=>{const dt=M?$:le;E[v]={type:M?Re:Fe,message:dt,ref:s,...O(M?Re:Fe,dt)}};if(i?!Array.isArray(m)||!m.length:a&&(!L&&(A||an(m))||Ho(m)&&!m||k&&!h2(o).isValid||T&&!f2(o).isValid)){const{value:M,message:$}=nd(a)?{value:!!a,message:a}:lo(a);if(M&&(E[v]={type:Nr.required,message:$,ref:w,...O(Nr.required,$)},!n))return _($),E}if(!A&&(!an(c)||!an(h))){let M,$;const le=lo(h),Re=lo(c);if(!an(m)&&!isNaN(m)){const Fe=s.valueAsNumber||m&&+m;an(le.value)||(M=Fe>le.value),an(Re.value)||($=Fe<Re.value)}else{const Fe=s.valueAsDate||new Date(m),dt=ie=>new Date(new Date().toDateString()+" "+ie),H=s.type=="time",G=s.type=="week";Sr(le.value)&&m&&(M=H?dt(m)>dt(le.value):G?m>le.value:Fe>new Date(le.value)),Sr(Re.value)&&m&&($=H?dt(m)<dt(Re.value):G?m<Re.value:Fe<new Date(Re.value))}if((M||$)&&(W(!!M,le.message,Re.message,Nr.max,Nr.min),!n))return _(E[v].message),E}if((l||u)&&!A&&(Sr(m)||i&&Array.isArray(m))){const M=lo(l),$=lo(u),le=!an(M.value)&&m.length>+M.value,Re=!an($.value)&&m.length<+$.value;if((le||Re)&&(W(le,M.message,$.message),!n))return _(E[v].message),E}if(f&&!A&&Sr(m)){const{value:M,message:$}=lo(f);if(uh(M)&&!m.match(M)&&(E[v]={type:Nr.pattern,message:$,ref:s,...O(Nr.pattern,$)},!n))return _($),E}if(g){if(Ai(g)){const M=await g(m,e),$=WS(M,w);if($&&(E[v]={...$,...O(Nr.validate,$.message)},!n))return _($.message),E}else if(kt(g)){let M={};for(const $ in g){if(!jn(M)&&!n)break;const le=WS(await g[$](m,e),w,$);le&&(M={...le,...O($,le.message)},_(le.message),n&&(E[v]=M))}if(!jn(M)&&(E[v]={ref:w,...M},!n))return E}}return _(!0),E};function oz(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=pt(t)?r++:t[e[r++]];return t}function az(t){for(const e in t)if(!pt(t[e]))return!1;return!0}function Ot(t,e){const n=Array.isArray(e)?e:Q1(e)?[e]:d2(e),r=n.length===1?t:oz(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(kt(r)&&jn(r)||Array.isArray(r)&&az(r))&&Ot(t,n.slice(0,-1)),t}function sm(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var ch=t=>an(t)||!c2(t);function Ts(t,e){if(ch(t)||ch(e))return t===e;if(Ao(t)&&Ao(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Ao(s)&&Ao(o)||kt(s)&&kt(o)||Array.isArray(s)&&Array.isArray(o)?!Ts(s,o):s!==o)return!1}}return!0}var p2=t=>t.type==="select-multiple",lz=t=>X1(t)||Gu(t),om=t=>lh(t)&&t.isConnected,m2=t=>{for(const e in t)if(Ai(t[e]))return!0;return!1};function dh(t,e={}){const n=Array.isArray(t);if(kt(t)||n)for(const r in t)Array.isArray(t[r])||kt(t[r])&&!m2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},dh(t[r],e[r])):an(t[r])||(e[r]=!0);return e}function g2(t,e,n){const r=Array.isArray(t);if(kt(t)||r)for(const i in t)Array.isArray(t[i])||kt(t[i])&&!m2(t[i])?pt(e)||ch(n[i])?n[i]=Array.isArray(t[i])?dh(t[i],[]):{...dh(t[i])}:g2(t[i],an(e)?{}:e[i],n[i]):n[i]=!Ts(t[i],e[i]);return n}var am=(t,e)=>g2(t,e,dh(e)),y2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>pt(t)?t:e?t===""?NaN:t&&+t:n&&Sr(t)?new Date(t):r?r(t):t;function lm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Y1(e)?e.files:X1(e)?f2(t.refs).value:p2(e)?[...e.selectedOptions].map(({value:n})=>n):Gu(e)?h2(t.refs).value:y2(pt(e.value)?t.ref.value:e.value,t)}var uz=(t,e,n,r)=>{const i={};for(const s of t){const o=te(e,s);o&&Ge(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Wa=t=>pt(t)?t:uh(t)?t.source:kt(t)?uh(t.value)?t.value.source:t.value:t,cz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function GS(t,e,n){const r=te(t,n);if(r||Q1(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=te(e,s),a=te(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var dz=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,hz=(t,e)=>!Qu(te(t,e)).length&&Ot(t,e);const fz={mode:nr.onSubmit,reValidateMode:nr.onChange,shouldFocusError:!0};function pz(t={},e){let n={...fz,...t},r={submitCount:0,isDirty:!1,isLoading:Ai(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=kt(n.defaultValues)||kt(n.values)?ms(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:ms(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:sm(),array:sm(),state:sm()},g=t.resetOptions&&t.resetOptions.keepDirtyValues,v=VS(n.mode),p=VS(n.reValidateMode),S=n.criteriaMode===nr.all,y=C=>I=>{clearTimeout(c),c=setTimeout(C,I)},m=async C=>{if(h.isValid||C){const I=n.resolver?jn((await A()).errors):await W(i,!0);I!==r.isValid&&f.state.next({isValid:I})}},w=C=>h.isValidating&&f.state.next({isValidating:C}),_=(C,I=[],R,z,j=!0,b=!0)=>{if(z&&R){if(a.action=!0,b&&Array.isArray(te(i,C))){const q=R(te(i,C),z.argA,z.argB);j&&Ge(i,C,q)}if(b&&Array.isArray(te(r.errors,C))){const q=R(te(r.errors,C),z.argA,z.argB);j&&Ge(r.errors,C,q),hz(r.errors,C)}if(h.touchedFields&&b&&Array.isArray(te(r.touchedFields,C))){const q=R(te(r.touchedFields,C),z.argA,z.argB);j&&Ge(r.touchedFields,C,q)}h.dirtyFields&&(r.dirtyFields=am(s,o)),f.state.next({name:C,isDirty:$(C,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ge(o,C,I)},E=(C,I)=>{Ge(r.errors,C,I),f.state.next({errors:r.errors})},T=(C,I,R,z)=>{const j=te(i,C);if(j){const b=te(o,C,pt(R)?te(s,C):R);pt(b)||z&&z.defaultChecked||I?Ge(o,C,I?b:lm(j._f)):Fe(C,b),a.mount&&m()}},k=(C,I,R,z,j)=>{let b=!1,q=!1;const Ce={name:C};if(!R||z){h.isDirty&&(q=r.isDirty,r.isDirty=Ce.isDirty=$(),b=q!==Ce.isDirty);const ze=Ts(te(s,C),I);q=te(r.dirtyFields,C),ze?Ot(r.dirtyFields,C):Ge(r.dirtyFields,C,!0),Ce.dirtyFields=r.dirtyFields,b=b||h.dirtyFields&&q!==!ze}if(R){const ze=te(r.touchedFields,C);ze||(Ge(r.touchedFields,C,R),Ce.touchedFields=r.touchedFields,b=b||h.touchedFields&&ze!==R)}return b&&j&&f.state.next(Ce),b?Ce:{}},L=(C,I,R,z)=>{const j=te(r.errors,C),b=h.isValid&&Ho(I)&&r.isValid!==I;if(t.delayError&&R?(u=y(()=>E(C,R)),u(t.delayError)):(clearTimeout(c),u=null,R?Ge(r.errors,C,R):Ot(r.errors,C)),(R?!Ts(j,R):j)||!jn(z)||b){const q={...z,...b&&Ho(I)?{isValid:I}:{},errors:r.errors,name:C};r={...r,...q},f.state.next(q)}w(!1)},A=async C=>n.resolver(o,n.context,uz(C||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),O=async C=>{const{errors:I}=await A();if(C)for(const R of C){const z=te(I,R);z?Ge(r.errors,R,z):Ot(r.errors,R)}else r.errors=I;return I},W=async(C,I,R={valid:!0})=>{for(const z in C){const j=C[z];if(j){const{_f:b,...q}=j;if(b){const Ce=l.array.has(b.name),ze=await KS(j,o,S,n.shouldUseNativeValidation&&!I,Ce);if(ze[b.name]&&(R.valid=!1,I))break;!I&&(te(ze,b.name)?Ce?sz(r.errors,ze,b.name):Ge(r.errors,b.name,ze[b.name]):Ot(r.errors,b.name))}q&&await W(q,I,R)}}return R.valid},M=()=>{for(const C of l.unMount){const I=te(i,C);I&&(I._f.refs?I._f.refs.every(R=>!om(R)):!om(I._f.ref))&&qe(C)}l.unMount=new Set},$=(C,I)=>(C&&I&&Ge(o,C,I),!Ts(Le(),s)),le=(C,I,R)=>rz(C,l,{...a.mount?o:pt(I)?s:Sr(C)?{[C]:I}:I},R,I),Re=C=>Qu(te(a.mount?o:s,C,t.shouldUnregister?te(s,C,[]):[])),Fe=(C,I,R={})=>{const z=te(i,C);let j=I;if(z){const b=z._f;b&&(!b.disabled&&Ge(o,C,y2(I,b)),j=lh(b.ref)&&an(I)?"":I,p2(b.ref)?[...b.ref.options].forEach(q=>q.selected=j.includes(q.value)):b.refs?Gu(b.ref)?b.refs.length>1?b.refs.forEach(q=>(!q.defaultChecked||!q.disabled)&&(q.checked=Array.isArray(j)?!!j.find(Ce=>Ce===q.value):j===q.value)):b.refs[0]&&(b.refs[0].checked=!!j):b.refs.forEach(q=>q.checked=q.value===j):Y1(b.ref)?b.ref.value="":(b.ref.value=j,b.ref.type||f.values.next({name:C,values:{...o}})))}(R.shouldDirty||R.shouldTouch)&&k(C,j,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&ie(C)},dt=(C,I,R)=>{for(const z in I){const j=I[z],b=`${C}.${z}`,q=te(i,b);(l.array.has(C)||!ch(j)||q&&!q._f)&&!Ao(j)?dt(b,j,R):Fe(b,j,R)}},H=(C,I,R={})=>{const z=te(i,C),j=l.array.has(C),b=ms(I);Ge(o,C,b),j?(f.array.next({name:C,values:{...o}}),(h.isDirty||h.dirtyFields)&&R.shouldDirty&&f.state.next({name:C,dirtyFields:am(s,o),isDirty:$(C,b)})):z&&!z._f&&!an(b)?dt(C,b,R):Fe(C,b,R),zS(C,l)&&f.state.next({...r}),f.values.next({name:C,values:{...o}}),!a.mount&&e()},G=async C=>{const I=C.target;let R=I.name,z=!0;const j=te(i,R),b=()=>I.type?lm(j._f):YV(C);if(j){let q,Ce;const ze=b(),mi=C.type===FS.BLUR||C.type===FS.FOCUS_OUT,Xu=!cz(j._f)&&!n.resolver&&!te(r.errors,R)&&!j._f.deps||dz(mi,te(r.touchedFields,R),r.isSubmitted,p,v),Aa=zS(R,l,mi);Ge(o,R,ze),mi?(j._f.onBlur&&j._f.onBlur(C),u&&u(0)):j._f.onChange&&j._f.onChange(C);const P=k(R,ze,mi,!1),N=!jn(P)||Aa;if(!mi&&f.values.next({name:R,type:C.type,values:{...o}}),Xu)return h.isValid&&m(),N&&f.state.next({name:R,...Aa?{}:P});if(!mi&&Aa&&f.state.next({...r}),w(!0),n.resolver){const{errors:D}=await A([R]),J=GS(r.errors,i,R),ee=GS(D,i,J.name||R);q=ee.error,R=ee.name,Ce=jn(D)}else q=(await KS(j,o,S,n.shouldUseNativeValidation))[R],z=isNaN(ze)||ze===te(o,R,ze),z&&(q?Ce=!1:h.isValid&&(Ce=await W(i,!0)));z&&(j._f.deps&&ie(j._f.deps),L(R,Ce,q,P))}},ie=async(C,I={})=>{let R,z;const j=im(C);if(w(!0),n.resolver){const b=await O(pt(C)?C:j);R=jn(b),z=C?!j.some(q=>te(b,q)):R}else C?(z=(await Promise.all(j.map(async b=>{const q=te(i,b);return await W(q&&q._f?{[b]:q}:q)}))).every(Boolean),!(!z&&!r.isValid)&&m()):z=R=await W(i);return f.state.next({...!Sr(C)||h.isValid&&R!==r.isValid?{}:{name:C},...n.resolver||!C?{isValid:R}:{},errors:r.errors,isValidating:!1}),I.shouldFocus&&!z&&ly(i,b=>b&&te(r.errors,b),C?j:l.mount),z},Le=C=>{const I={...s,...a.mount?o:{}};return pt(C)?I:Sr(C)?te(I,C):C.map(R=>te(I,R))},Ve=(C,I)=>({invalid:!!te((I||r).errors,C),isDirty:!!te((I||r).dirtyFields,C),isTouched:!!te((I||r).touchedFields,C),error:te((I||r).errors,C)}),yt=C=>{C&&im(C).forEach(I=>Ot(r.errors,I)),f.state.next({errors:C?r.errors:{}})},It=(C,I,R)=>{const z=(te(i,C,{_f:{}})._f||{}).ref;Ge(r.errors,C,{...I,ref:z}),f.state.next({name:C,errors:r.errors,isValid:!1}),R&&R.shouldFocus&&z&&z.focus&&z.focus()},Gn=(C,I)=>Ai(C)?f.values.subscribe({next:R=>C(le(void 0,I),R)}):le(C,I,!0),qe=(C,I={})=>{for(const R of C?im(C):l.mount)l.mount.delete(R),l.array.delete(R),I.keepValue||(Ot(i,R),Ot(o,R)),!I.keepError&&Ot(r.errors,R),!I.keepDirty&&Ot(r.dirtyFields,R),!I.keepTouched&&Ot(r.touchedFields,R),!n.shouldUnregister&&!I.keepDefaultValue&&Ot(s,R);f.values.next({values:{...o}}),f.state.next({...r,...I.keepDirty?{isDirty:$()}:{}}),!I.keepIsValid&&m()},vt=(C,I={})=>{let R=te(i,C);const z=Ho(I.disabled);return Ge(i,C,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:C}},name:C,mount:!0,...I}}),l.mount.add(C),R?z&&Ge(o,C,I.disabled?void 0:te(o,C,lm(R._f))):T(C,!0,I.value),{...z?{disabled:I.disabled}:{},...n.shouldUseNativeValidation?{required:!!I.required,min:Wa(I.min),max:Wa(I.max),minLength:Wa(I.minLength),maxLength:Wa(I.maxLength),pattern:Wa(I.pattern)}:{},name:C,onChange:G,onBlur:G,ref:j=>{if(j){vt(C,I),R=te(i,C);const b=pt(j.value)&&j.querySelectorAll&&j.querySelectorAll("input,select,textarea")[0]||j,q=lz(b),Ce=R._f.refs||[];if(q?Ce.find(ze=>ze===b):b===R._f.ref)return;Ge(i,C,{_f:{...R._f,...q?{refs:[...Ce.filter(om),b,...Array.isArray(te(s,C))?[{}]:[]],ref:{type:b.type,name:C}}:{ref:b}}}),T(C,!1,void 0,b)}else R=te(i,C,{}),R._f&&(R._f.mount=!1),(n.shouldUnregister||I.shouldUnregister)&&!(JV(l.array,C)&&a.action)&&l.unMount.add(C)}}},fi=()=>n.shouldFocusError&&ly(i,C=>C&&te(r.errors,C),l.mount),pi=(C,I)=>async R=>{R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let z=ms(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:j,values:b}=await A();r.errors=j,z=b}else await W(i);Ot(r.errors,"root"),jn(r.errors)?(f.state.next({errors:{}}),await C(z,R)):(I&&await I({...r.errors},R),fi(),setTimeout(fi)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},F=(C,I={})=>{te(i,C)&&(pt(I.defaultValue)?H(C,te(s,C)):(H(C,I.defaultValue),Ge(s,C,I.defaultValue)),I.keepTouched||Ot(r.touchedFields,C),I.keepDirty||(Ot(r.dirtyFields,C),r.isDirty=I.defaultValue?$(C,te(s,C)):$()),I.keepError||(Ot(r.errors,C),h.isValid&&m()),f.state.next({...r}))},Q=(C,I={})=>{const R=C||s,z=ms(R),j=C&&!jn(C)?z:s;if(I.keepDefaultValues||(s=R),!I.keepValues){if(I.keepDirtyValues||g)for(const b of l.mount)te(r.dirtyFields,b)?Ge(j,b,te(o,b)):H(b,te(j,b));else{if(G1&&pt(C))for(const b of l.mount){const q=te(i,b);if(q&&q._f){const Ce=Array.isArray(q._f.refs)?q._f.refs[0]:q._f.ref;if(lh(Ce)){const ze=Ce.closest("form");if(ze){ze.reset();break}}}}i={}}o=t.shouldUnregister?I.keepDefaultValues?ms(s):{}:z,f.array.next({values:{...j}}),f.values.next({values:{...j}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!I.keepIsValid,a.watch=!!t.shouldUnregister,f.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!Ts(C,s)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:I.keepDirtyValues?r.dirtyFields:I.keepDefaultValues&&C?am(s,C):{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ye=(C,I)=>Q(Ai(C)?C(o):C,I);return{control:{register:vt,unregister:qe,getFieldState:Ve,_executeSchema:A,_getWatch:le,_getDirty:$,_updateValid:m,_removeUnmounted:M,_updateFieldArray:_,_getFieldArray:Re,_reset:Q,_resetDefaultValues:()=>Ai(n.defaultValues)&&n.defaultValues().then(C=>{ye(C,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:C=>{r={...r,...C}},_subjects:f,_proxyFormState:h,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(C){a=C},get _defaultValues(){return s},get _names(){return l},set _names(C){l=C},get _formState(){return r},set _formState(C){r=C},get _options(){return n},set _options(C){n={...n,...C}}},trigger:ie,register:vt,handleSubmit:pi,watch:Gn,setValue:H,getValues:Le,reset:ye,resetField:F,clearErrors:yt,unregister:qe,setError:It,setFocus:(C,I={})=>{const R=te(i,C),z=R&&R._f;if(z){const j=z.refs?z.refs[0]:z.ref;j.focus&&(j.focus(),I.shouldSelect&&j.select())}},getFieldState:Ve}}function J1(t={}){const e=Vr.useRef(),[n,r]=Vr.useState({isDirty:!1,isValidating:!1,isLoading:Ai(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Ai(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...pz(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,nz({subject:i._subjects.state,next:s=>{tz(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Vr.useEffect(()=>{t.values&&!Ts(t.values,i._defaultValues)?i._reset(t.values,i._options.resetOptions):i._resetDefaultValues()},[t.values,i]),Vr.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=ez(n,i),e.current}function v2(t){return d.jsxs(Ie,{stroke:"none",...t,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.64 12.2045C20.64 11.5664 20.5827 10.9527 20.4764 10.3636H12V13.845H16.8436C16.635 14.97 16.0009 15.9232 15.0477 16.5614V18.8195H17.9564C19.6582 17.2527 20.64 14.9454 20.64 12.2045Z",fill:"#4285F4"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C14.43 21 16.4673 20.1941 17.9564 18.8196L15.0477 16.5614C14.2418 17.1014 13.2109 17.4205 12 17.4205C9.65591 17.4205 7.67182 15.8373 6.96409 13.71H3.95728V16.0418C5.43818 18.9832 8.48182 21 12 21Z",fill:"#34A853"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.96409 13.71C6.78409 13.17 6.68182 12.5932 6.68182 12C6.68182 11.4068 6.78409 10.83 6.96409 10.29V7.95818H3.95727C3.34773 9.17318 3 10.5477 3 12C3 13.4523 3.34773 14.8268 3.95727 16.0418L6.96409 13.71Z",fill:"#FBBC05"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.57955C13.3214 6.57955 14.5077 7.03364 15.4405 7.92545L18.0218 5.34409C16.4632 3.89182 14.4259 3 12 3C8.48182 3 5.43818 5.01682 3.95728 7.95818L6.96409 10.29C7.67182 8.16273 9.65591 6.57955 12 6.57955Z",fill:"#EA4335"})]})}function w2(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}const mz="_Backdrop_1yd3e_46",gz="_show_1yd3e_61",yz="_disabled_1yd3e_66",um={Backdrop:mz,"hide-blackout":"_hide-blackout_1yd3e_1",show:gz,"show-blackout":"_show-blackout_1yd3e_1",disabled:yz},Z1=x.forwardRef(({className:t,disabled:e,show:n,opacity:r,...i},s)=>{const o=x.useRef(null);x.useEffect(()=>{var l;o&&r&&((l=o.current)==null||l.style.setProperty("--backdrop-opacity",`${r}%`))},[o]);const a=[e&&um.disabled,n&&um.show];return d.jsx("button",{type:"button",className:X.join(um.Backdrop,t,a),ref:w2([s,o]),...i})});Z1.displayName="Backdrop";const vz="_LoaderLine_92256_1",wz="_background_92256_10",_z="_normal_92256_13",Sz="_animation_92256_13",Ez="_loader_92256_1",Cz="_inversion_92256_22",Ka={LoaderLine:vz,background:wz,normal:_z,animation:Sz,loader:Ez,inversion:Cz},_2=x.forwardRef(({isInversion:t,className:e,...n},r)=>{const i=[t?Ka.inversion:Ka.normal];return d.jsxs("div",{className:X.join(Ka.LoaderLine,e,i),ref:r,...n,children:[d.jsx("div",{className:Ka.background}),d.jsx("div",{className:Ka.animation})]})});_2.displayName="LoaderLine";function e0({children:t,className:e="root-portal",elementType:n="div"}){const r=x.useRef(document.createElement(n)),{current:i}=r;return x.useEffect(()=>(i.classList.add(e),document.body.appendChild(r.current),()=>{document.body.removeChild(i)}),[]),IP.createPortal(t,i)}const xz="_LoaderOverlay_1d96m_1",Tz={LoaderOverlay:xz};function Yu(){return d.jsx(e0,{children:d.jsxs(ge,{className:X.join(Tz.LoaderOverlay),children:[d.jsx(Z1,{show:!0}),d.jsx(_2,{})]})})}const Ff=x.forwardRef(({children:t,className:e,...n},r)=>d.jsx("form",{className:e,ref:r,...n,children:t}));Ff.displayName="Form";const kz="_inputContainer_5k7mp_1",Iz="_input_5k7mp_1",QS={inputContainer:kz,input:Iz},bz="_container_zpng5_1",Rz="_inputBlockContainer_zpng5_8",Az="_input_zpng5_8",Pz="_error_zpng5_24",De={container:bz,inputBlockContainer:Rz,input:Az,error:Pz},Lz=x.forwardRef(({register:t=null,errors:e,onLabelClick:n,label:r,children:i,className:s,...o},a)=>{var c;const l=h=>{n&&n(h)},u=e?(c=e[t==null?void 0:t.name])==null?void 0:c.message:"";return d.jsxs("div",{className:De.container,children:[i&&d.jsx(K,{component:"h3",children:i}),d.jsxs("div",{className:De.inputBlockContainer,children:[d.jsxs("label",{className:QS.inputContainer,children:[d.jsx("input",{type:"checkbox",className:X.join(QS.input,s),ref:a,...t,...o}),d.jsx(K,{component:"p1",onClick:l,children:r})]}),t&&d.jsx(K,{component:"p2",className:X.join(De.error),children:typeof u=="string"&&u})]})]})});Lz.displayName="Checkbox";function Nz(t){return d.jsx(Ie,{fill:"none",...t,children:d.jsx("path",{d:"M6 9L12 15L18 9",strokeLinecap:"round",strokeLinejoin:"round"})})}const Oz="_inputContainer_izcmr_1",jz="_icon_izcmr_5",Dz="_input_izcmr_1",cm={inputContainer:Oz,icon:jz,input:Dz},S2=x.forwardRef(({options:t,register:e,errors:n,selected:r,blank:i,onDropdownChange:s,children:o,className:a,...l},u)=>{var v;const[c,h]=x.useState(r),f=p=>{h(p.target.value),s&&s(p.target.value)},g=n?(v=n[e==null?void 0:e.name])==null?void 0:v.message:"";return d.jsxs("div",{className:De.container,children:[d.jsx(K,{component:"h5",children:o}),d.jsxs("div",{className:De.inputBlockContainer,children:[d.jsxs("label",{className:cm.inputContainer,children:[d.jsxs("select",{className:X.join(cm.input,De.input,Xt.input,a),value:c,onChange:f,ref:u,...e,...l,children:[i&&d.jsx("option",{children:" "}),t.map(p=>d.jsx("option",{value:p,children:p},p))]}),d.jsx(At,{size:"custom",style:{width:20,height:20},className:cm.icon,onClick:()=>null,children:d.jsx(Nz,{size:"custom",style:{width:20,height:20}})})]}),e&&d.jsx(K,{component:"p2",className:X.join(De.error),children:typeof g=="string"&&g})]})]})});S2.displayName="Dropdown";const t0=x.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return d.jsxs("div",{className:De.container,children:[d.jsx(K,{component:"h5",children:r}),d.jsxs("div",{className:De.inputBlockContainer,children:[d.jsx("label",{children:d.jsx("input",{type:"email",className:X.join(De.input,Xt.input),placeholder:n,ref:s,...t,...i})}),t&&d.jsx(K,{component:"p2",className:X.join(De.error),children:typeof o=="string"&&o})]})]})});t0.displayName="EmailInput";function Mz(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}const $z="_FileImgUpload_142ig_1",Uz="_container_142ig_7",Fz="_input_142ig_14",Vz="_imgPreview_142ig_18",dm={FileImgUpload:$z,container:Uz,input:Fz,imgPreview:Vz},E2=x.forwardRef(({register:t,errors:e,watch:n,accept:r,label:i,defaultImg:s="",children:o,className:a,...l},u)=>{var S;const[c,h]=x.useState(s),f=n?n(t?t.name:null):null,g=y=>{if(y&&y.length>0)if(typeof y=="string")h(y);else{const m=URL.createObjectURL(y[0]);h(m)}};x.useEffect(()=>{n&&f&&g(f)},[f]);const v=y=>{!n&&s&&g(y.target.files)},p=e?(S=e[t==null?void 0:t.name])==null?void 0:S.message:"";return d.jsxs("div",{className:X.join(dm.FileImgUpload,De.container),children:[d.jsx(K,{component:"h5",children:o}),d.jsxs("div",{className:De.inputBlockContainer,children:[d.jsxs("label",{className:X.join(dm.container,Xt.input),children:[d.jsx("input",{type:"file",accept:r||"",className:X.join(dm.input,a),ref:u,onChange:v,...t,...l}),c?d.jsx(mu,{src:c,alt:c}):d.jsx(mu,{children:d.jsx(Mz,{})}),i]}),t&&d.jsx(K,{component:"p2",className:X.join(De.error),children:typeof p=="string"&&p})]})]})});E2.displayName="FileImgUpload";const zz="_input_1wgeu_1",Bz={input:zz},Hz=x.forwardRef(({children:t,className:e,...n},r)=>d.jsx("div",{children:d.jsxs("label",{htmlFor:"file",children:[t,d.jsx("input",{type:"file",className:X.join(Bz.input,e),id:"file",ref:r,...n})]})}));Hz.displayName="FileUpload";function qz(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Wz(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_2015_815)",children:[d.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68189 3.96914 7.6566 6.06 6.05999M9.9 4.23999C10.5883 4.07887 11.2931 3.99833 12 3.99999C19 3.99999 23 12 23 12C22.393 13.1356 21.6691 14.2047 20.84 15.19M14.12 14.12C13.8454 14.4147 13.5141 14.6511 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.481 9.80385 14.1961C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8248 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4858 9.58525 10.1546 9.88 9.87999",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M1 1L23 23",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2015_815",children:d.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}const Kz="_inputContainer_nkmmv_1",Gz="_input_nkmmv_1",Qz="_icon_nkmmv_9",ks={inputContainer:Kz,input:Gz,icon:Qz},hh=x.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var h;const[o,a]=x.useState(!1),l=f=>{f.stopPropagation(),a(g=>!g)},u=o?"text":"password",c=e?(h=e[t==null?void 0:t.name])==null?void 0:h.message:"";return d.jsxs("div",{className:De.container,children:[d.jsx(K,{component:"h5",children:r}),d.jsxs("div",{className:De.inputBlockContainer,children:[d.jsxs("label",{className:ks.inputContainer,children:[d.jsx("input",{type:u,className:X.join(De.input,ks.input,Xt.input),placeholder:n,ref:s,...t,...i}),d.jsx(At,{size:"custom",style:{width:20,height:20},className:ks.icon,onClick:l,children:o?d.jsx(qz,{size:"custom",style:{width:20,height:20}}):d.jsx(Wz,{size:"custom",style:{width:20,height:20}})})]}),t&&d.jsx(K,{component:"p2",className:X.join(De.error),children:typeof c=="string"&&c})]})]})});hh.displayName="PasswordInput";const uy=x.forwardRef(({register:t,errors:e,placeholder:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return d.jsxs("div",{className:De.container,children:[d.jsx(K,{component:"h5",children:r}),d.jsxs("div",{className:De.inputBlockContainer,children:[d.jsx("label",{children:d.jsx("input",{type:"text",className:X.join(De.input,Xt.input),placeholder:n,ref:s,...t,...i})}),t&&(t==null?void 0:t.name)&&d.jsx(K,{component:"p2",className:X.join(De.error),children:typeof o=="string"&&o})]})]})});uy.displayName="TextInput";const Yz="_element_1akzf_1",Xz="_elementsContainer_1akzf_9",Jz="_input_1akzf_15",hm={element:Yz,elementsContainer:Xz,input:Jz},C2=x.forwardRef(({register:t,errors:e,labels:n,children:r,...i},s)=>{var a;const o=e?(a=e[t==null?void 0:t.name])==null?void 0:a.message:"";return d.jsxs("div",{className:De.container,children:[d.jsx(K,{component:"h5",children:r}),d.jsxs("div",{className:De.inputBlockContainer,children:[d.jsx("div",{className:hm.elementsContainer,children:n.map(l=>d.jsxs("label",{className:hm.element,children:[d.jsx("input",{type:"radio",className:X.join(hm.input,Xt.input),value:l.toString(),ref:s,...t,...i}),d.jsx(K,{component:"p1",children:l})]},l))}),t&&d.jsx(K,{component:"p2",className:X.join(De.error),children:typeof o=="string"&&o})]})]})});C2.displayName="RadioButton";const Zz="_content_ol8b2_18",eB="_titleContainer_ol8b2_22",tB="_success_ol8b2_22",nB="_info_ol8b2_27",rB="_error_ol8b2_32",iB="_warn_ol8b2_37",sB="_Modal_ol8b2_70",oB="_buttons_ol8b2_107",aB="_medium_ol8b2_111",lB="_large_ol8b2_122",uB="_title_ol8b2_22",cB="_body_ol8b2_155",Or={content:Zz,titleContainer:eB,success:tB,info:nB,error:rB,warn:iB,Modal:sB,"hide-modal":"_hide-modal_ol8b2_1",buttons:oB,medium:aB,large:lB,"show-modal":"_show-modal_ol8b2_1",title:uB,body:cB},io=x.forwardRef(({type:t,title:e,noTitle:n,mainButton:r={text:"Ок"},secondButton:i,backdrop:s,onClose:o,noButtons:a=!1,size:l="flex",children:u,className:c,...h},f)=>{const[g,v]=x.useState("show"),p=i&&!X.isObjectEmpty(i),S=()=>{v("")},y=()=>{g!=="show"&&(S(),document.body.style.overflow="visible",o&&o())},m=()=>{s!=null&&s.onClick&&s.onClick(),S()},w=()=>{r!=null&&r.onClick&&r.onClick(),r!=null&&r.form||S()},_=()=>{i!=null&&i.onClick&&i.onClick(),i!=null&&i.form||S()},E=t?Or[t]:null,T=e||t==="alert"&&"Повідомлення!"||t==="info"&&"Інформація!"||t==="success"&&"Успіх!"||t==="error"&&"Помилка"||t==="warn"&&"Попередження!";x.useEffect(()=>{document.body.style.overflow="hidden"},[]);const k=l==="medium"&&Or.medium||l==="large"&&Or.large;return d.jsx(e0,{children:d.jsxs("div",{className:X.join(Or.Modal,c,g),onAnimationEnd:y,ref:f,...h,children:[d.jsx(Z1,{onClick:m,disabled:s==null?void 0:s.disabled,show:g==="show"}),d.jsxs("div",{className:X.join(k,Or.content),children:[d.jsx("div",{className:t&&X.join(Or.titleContainer,E,t),children:d.jsx(K,{component:"h4",className:Or.title,children:!n&&T})}),d.jsx("div",{className:Or.body,children:u}),!a&&d.jsxs("div",{className:Or.buttons,children:[p&&d.jsxs(Ze,{size:i==null?void 0:i.size,type:(i==null?void 0:i.type)||"secondary",onClick:()=>_(),submit:i==null?void 0:i.isSubmit,disabled:i==null?void 0:i.disabled,children:[(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon),!(i!=null&&i.icon)&&(i!=null&&i.icon?"Відміна":i==null?void 0:i.text),!(i!=null&&i.text)&&(i==null?void 0:i.icon)&&(i==null?void 0:i.icon),(i==null?void 0:i.iconPosition)==="left"&&(i==null?void 0:i.icon)]}),d.jsxs(Ze,{size:r==null?void 0:r.size,type:(r==null?void 0:r.type)||"primary",onClick:()=>w(),submit:r==null?void 0:r.isSubmit,disabled:r==null?void 0:r.disabled,children:[(r==null?void 0:r.iconPosition)==="left"&&(r==null?void 0:r.icon),!(r!=null&&r.icon)&&(r!=null&&r.icon?"Ок":r==null?void 0:r.text),!(r!=null&&r.text)&&(r==null?void 0:r.icon)&&(r==null?void 0:r.icon),(r==null?void 0:r.iconPosition)==="right"&&(r==null?void 0:r.icon)]})]})]})]})})});io.displayName="Modal";function dB({onClose:t}){return d.jsx(io,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:d.jsxs(d.Fragment,{children:[d.jsx(K,{component:"p1",className:"center",children:"Невірно вказана електронна адреса чи пароль."}),d.jsx(K,{component:"p1",className:"center",children:"Перевірте, будь ласка, дані та спробуйте ще раз!"})]})})}function hB({onClose:t}){return d.jsx(io,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:d.jsx(K,{component:"p1",className:"center",children:"Ви успішно увійшли на сайт!"})})}const fB="_container_wf24k_1",pB="_form_wf24k_9",mB="_main_wf24k_17",gB="_additional_wf24k_23",yB="_center_wf24k_29",Ga={container:fB,form:pB,main:mB,additional:gB,center:yB};function vB(){const{isFillProfile:t}=Pr(),e=cr(),n=hn(),{error:r,isLoading:i,uid:s}=ct(S=>S.userReducer),{actions:o}=ba,{register:a,handleSubmit:l,formState:{errors:u}}=J1({mode:"onSubmit",defaultValues:{email:"",password:""}}),c=ea(u),h={email:a("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:a("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}})},f=async({email:S,password:y})=>{n(td({email:S,password:y}))},g=()=>{n(bl())},v=()=>{e(t?lr.users:lr.user)},p=()=>{n(o.resetError())};return d.jsxs(K1,{children:[d.jsxs(Mt,{container:!0,className:Ga.container,children:[d.jsx(K,{component:"h4",children:"Вхід"}),d.jsxs(Ff,{className:Ga.form,onSubmit:l(f),children:[d.jsxs(ge,{className:Ga.main,children:[d.jsx(t0,{register:h.email,errors:u,children:"Адреса електронної пошти*:"}),d.jsx(hh,{register:h.password,errors:u,children:"Пароль*:"}),d.jsx(Ze,{submit:!0,disabled:!c,children:"Увійти"})]}),d.jsx(K,{component:"p2",className:Ga.center,children:"або"}),d.jsxs(ge,{className:Ga.additional,children:[d.jsxs(Ze,{type:"secondary",onClick:g,children:[d.jsx(v2,{}),"Увійти через Google"]}),d.jsxs(K,{component:"p2",children:["Немає акаунту?"," ",d.jsx(Jh,{to:Ct.signup,children:d.jsx($s,{display:"p2",children:"Створити"})})]})]})]}),i&&d.jsx(Yu,{})]}),s&&!i?d.jsx(hB,{onClose:v}):null,r&&!i?d.jsx(dB,{onClose:p}):null]})}function wB({onClose:t}){return d.jsx(io,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:d.jsxs(d.Fragment,{children:[d.jsx(K,{component:"p1",className:"center",children:"Невірно заповнені поля, або такий користувач вже існує."}),d.jsx(K,{component:"p1",className:"center",children:"Перевірте, будь ласка, дані та спробуйте ще раз!"})]})})}function _B({onClose:t}){return d.jsx(io,{onClose:t,type:"success",size:"medium",title:"Вітаю!",children:d.jsx(K,{component:"p1",className:"center",children:"Ви успішно зареєструвалися на сайті! Лишився ще один крок😉"})})}const SB="_container_wf24k_1",EB="_form_wf24k_9",CB="_main_wf24k_17",xB="_additional_wf24k_23",TB="_center_wf24k_29",Qa={container:SB,form:EB,main:CB,additional:xB,center:TB};function kB(){const{isFillProfile:t}=Pr(),e=cr(),n=hn(),{error:r,isLoading:i,uid:s}=ct(_=>_.userReducer),{actions:o}=ba,{register:a,handleSubmit:l,reset:u,resetField:c,watch:h,formState:{errors:f}}=J1({mode:"onSubmit",defaultValues:{email:"",password:"",confirmPassword:""}}),g=ea(f),v={email:a("email",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/i,message:"Невірно введена адреса електронної пошти!"}}),password:a("password",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"}}),confirmPassword:a("confirmPassword",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[a-zA-Z0-9]+$/,message:"Використовуйте тільки латинські літери та цифри!"},minLength:{value:8,message:"Мінімальна довжина пароля 8 символів"},maxLength:{value:16,message:"Максимальна довжина пароля 16 символів"},validate:_=>h("password")===_||"Паролі не збігаються!"})},p=async({email:_,password:E})=>{n(ed({email:_,password:E}))},S=()=>{c("confirmPassword")},y=()=>{n(bl())},m=()=>{u(),e(t?lr.users:lr.user)},w=()=>{n(o.resetError())};return d.jsxs(K1,{children:[d.jsxs(Mt,{container:!0,className:Qa.container,children:[d.jsx(K,{component:"h4",children:"Реєстрація"}),d.jsxs(Ff,{className:Qa.form,onSubmit:l(p),children:[d.jsxs(ge,{className:Qa.main,children:[d.jsx(t0,{register:v.email,errors:f,children:"Адреса електронної пошти*:"}),d.jsx(hh,{register:v.password,errors:f,onChange:S,children:"Пароль*:"}),d.jsx(hh,{register:v.confirmPassword,errors:f,children:"Підтвердження паролю*:"}),d.jsx(Ze,{submit:!0,disabled:!g,children:"Створити"})]}),d.jsx(K,{component:"p2",className:Qa.center,children:"або"}),d.jsxs(ge,{className:Qa.additional,children:[d.jsxs(Ze,{type:"secondary",onClick:y,children:[d.jsx(v2,{}),"Увійти через Google"]}),d.jsxs(K,{component:"p2",children:["Вже є акаунт?"," ",d.jsx(Jh,{className:"link",to:Ct.login,children:d.jsx($s,{display:"p2",children:"Увійти"})})]})]})]}),i&&d.jsx(Yu,{})]}),s&&!i?d.jsx(_B,{onClose:m}):null,r&&!i?d.jsx(wB,{onClose:w}):null]})}const IB=`
	Авва Отче Святий — ми в руці Твоїй
	Ангели в небі Господа славлять
	Бог Ти цар мого життя
	Боже Єдиний нашу країну тримай
	Всесильний Нездоланний
	Господи — Ти надія у житті
	Минає час минають дні
	Схилимо коліна
	Я за тебе молюсь Україно
	Як сум і муку мою душу огорне
`,YS=IB.trim().split(`
`).map(t=>t.trim()),bB={normalOrderAudioFilesList:YS,audioTracksList:YS,isPlaying:!1,isPlayerShow:!1,lastOpenedTrack:null,currentTrack:null,currentTrackIndex:0,currentTrackDuration:0,currentTrackTimeProgress:0},Ra=Cu({name:"musicPlayer",initialState:bB,reducers:{setNormalAudioTracksList(t){t.audioTracksList=t.normalOrderAudioFilesList},setShuffleAudioTracksList(t){t.audioTracksList=X.shuffleArray(t.audioTracksList)},setIsPlaying(t,e){t.isPlaying=e.payload,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},toggleIsPlaying(t){t.isPlaying=!t.isPlaying,t.isPlaying?t.currentTrack=t.audioTracksList[t.currentTrackIndex]:t.lastOpenedTrack=t.currentTrack},showPlayer(t){t.isPlayerShow=!0},hidePlayer(t){t.isPlayerShow=!1},setCurrentTrack(t,e){t.currentTrack=e.payload},setCurrentTrackIndex(t,e){t.currentTrackIndex=e.payload},setCurrentTrackDuration(t,e){t.currentTrackDuration=e.payload},setCurrentTrackTimeProgress(t,e){t.currentTrackTimeProgress=e.payload},prevTrack(t){if(t.currentTrackIndex===0){const e=t.audioTracksList.length-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}else{const e=t.currentTrackIndex-1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}},nextTrack(t){if(t.currentTrackIndex>=t.audioTracksList.length-1)t.currentTrackIndex=0,[t.currentTrack]=t.audioTracksList;else{const e=t.currentTrackIndex+1;t.currentTrackIndex=e,t.currentTrack=t.audioTracksList[e]}}}});function RB(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M11 17L6 12L11 7",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M18 17L13 12L18 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function AB(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M13 17L18 12L13 7",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M6 17L11 12L6 7",strokeLinecap:"round",strokeLinejoin:"round"})]})}function x2(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),d.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})}function T2(t){return d.jsx(Ie,{fill:"none",...t,children:d.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}function PB(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("polygon",{points:"19 20 9 12 19 4 19 20"}),d.jsx("line",{x1:"5",y1:"19",x2:"5",y2:"5"})]})}function LB(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),d.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]})}const NB="_Controls_1ma96_1",OB="_playIcon_1ma96_8",XS={Controls:NB,playIcon:OB};function jB({timeProgress:t,setTimeProgress:e,audioRef:n,progressBarRef:r}){const i=x.useRef(),{isPlaying:s,currentTrackDuration:o,currentTrackTimeProgress:a}=ct(S=>S.musicPlayerReducer),l=hn(),{actions:u}=Ra,c=x.useCallback(()=>{if(n.current&&r.current){const{currentTime:S}=n.current;e(S);const y=r.current;y.value=S.toString(),y.style.setProperty("--progress-bar--range-progress",`${Number(y.value)/o*100}%`),s&&(i.current=requestAnimationFrame(c))}},[n,o,s,r,e]);x.useEffect(()=>{n.current&&(s?n.current.play():n.current.pause()),i.current=requestAnimationFrame(c)},[s,n,c]);const h=()=>{l(u.toggleIsPlaying()),s||e(a)},f=()=>{if(n.current){const S=n.current;S.currentTime+=10}},g=()=>{if(n.current){const S=n.current;S.currentTime-=10}},v=()=>{if(t>=1){if(e(0),n.current){const S=n.current;S.currentTime=0}}else l(u.prevTrack())},p=()=>{l(u.nextTrack())};return d.jsxs(ge,{className:XS.Controls,children:[d.jsx(Ze,{type:"text",onClick:v,children:d.jsx(PB,{})}),d.jsx(Ze,{type:"text",onClick:g,children:d.jsx(RB,{})}),d.jsx(Ze,{type:"secondary",onClick:h,children:s?d.jsx(x2,{}):d.jsx(T2,{className:XS.playIcon})}),d.jsx(Ze,{type:"text",onClick:f,children:d.jsx(AB,{})}),d.jsx(Ze,{type:"text",onClick:p,children:d.jsx(LB,{})})]})}const DB={},k2=x.forwardRef(({className:t,...e},n)=>d.jsx("audio",{className:X.join(DB.AudioPlayer,t),ref:n,...e,children:d.jsx("track",{kind:"captions"})}));k2.displayName="AudioPlayer";const MB="_DisplayTrack_1d8z7_1",$B={DisplayTrack:MB};function UB({timeProgress:t,audioRef:e,progressBarRef:n}){const{currentTrack:r}=ct(u=>u.musicPlayerReducer),{actions:i}=Ra,s=hn(),o=()=>{if(e.current&&n.current){const u=e.current,c=Math.trunc(u.duration);s(i.setCurrentTrackDuration(c));const h=n.current;h.max=c.toString()}},a=()=>{s(i.nextTrack())},l=()=>{s(i.hidePlayer()),s(i.setIsPlaying(!1)),s(i.setCurrentTrackTimeProgress(t))};return d.jsxs(ge,{className:$B.DisplayTrack,children:[d.jsx(k2,{src:`/mp3/${r}.mp3`,ref:e,onLoadedMetadata:o,onEnded:a}),d.jsx(K,{component:"h6",children:r}),d.jsx(At,{onClick:l,children:d.jsx(Ku,{size:"small"})})]})}const FB="_ProgressBar_8spjb_1",VB="_timeProgress_8spjb_8",zB="_duration_8spjb_9",BB="_range_8spjb_22",Ic={ProgressBar:FB,timeProgress:VB,duration:zB,range:BB};function HB({timeProgress:t,audioRef:e,progressBarRef:n}){const{currentTrackDuration:r}=ct(l=>l.musicPlayerReducer),{actions:i}=Ra,s=hn(),o=()=>{if(e.current&&n.current){const l=e.current;l.currentTime=Number(n.current.value)}},a=()=>{e.current&&n.current&&s(i.setCurrentTrackTimeProgress(Number(n.current.value)))};return d.jsxs(ge,{className:Ic.ProgressBar,children:[d.jsx(K,{component:"p2",className:Ic.timeProgress,children:Ww(t)}),d.jsx("input",{type:"range",className:Ic.range,onChange:o,onMouseUp:a,defaultValue:"0",ref:n}),d.jsx(K,{component:"p2",className:Ic.duration,children:Ww(r)})]})}const qB="_MusicPlayer_183yq_46",JS={MusicPlayer:qB,"show-player":"_show-player_183yq_1"};function WB(){const{audioTracksList:t,lastOpenedTrack:e,currentTrack:n,isPlaying:r,isPlayerShow:i,currentTrackIndex:s,currentTrackTimeProgress:o}=ct(v=>v.musicPlayerReducer),a=hn(),{actions:l}=Ra,u=i&&JS.show,[c,h]=x.useState(e===n?o:0);x.useEffect(()=>{r||a(l.setCurrentTrackTimeProgress(c))},[r]);const f=x.useRef(null),g=x.useRef(null);return x.useEffect(()=>{if(a(l.setCurrentTrack(t[s])),f.current&&c>0){const v=f.current;v.currentTime=c}},[]),x.useEffect(()=>{if(t.length>0&&n){const v=t.indexOf(n);a(l.setCurrentTrackIndex(v)),a(l.setCurrentTrack(t[v])),a(l.setIsPlaying(!0))}n||a(l.setIsPlaying(!1))},[l,t,n,a]),d.jsxs(ge,{className:Us(JS.MusicPlayer,u),children:[d.jsx(UB,{timeProgress:c,audioRef:f,progressBarRef:g}),d.jsx(HB,{timeProgress:c,audioRef:f,progressBarRef:g}),d.jsx(jB,{timeProgress:c,setTimeProgress:h,audioRef:f,progressBarRef:g})]})}const KB={activeTableNumber:0,namesList:[],selectedSongsId:[],tableGroupLabels:[],nameListLimitCount:10,isLoading:!1,error:"",songsList:[],lastFetchingDate:""},Vf=Cu({name:"songsList",initialState:KB,reducers:{setActiveTable(t,e){t.activeTableNumber=e.payload},resetTableGroupLabels(t){t.tableGroupLabels=[]},resetNamesList(t){t.namesList=[]},toggleSetToSelectedSongsId(t,e){let n=[...t.selectedSongsId];const r=t.selectedSongsId.indexOf(e.payload);r>=0?n.splice(r,1):n=[...t.selectedSongsId,e.payload],t.selectedSongsId=n},removeFromSelectedSongsId(t,e){const n=[...t.selectedSongsId],r=t.selectedSongsId.indexOf(e.payload);r>=0&&n.splice(r,1),t.selectedSongsId=n},resetSelectedSongsId(t){t.selectedSongsId=[]},toggleSetToNamesList(t,e){const n=e.payload,{namesList:r}=t;let i=[...r];r.length===0&&(i=[n]),r.length>0&&r.length<t.nameListLimitCount&&(i=[...r,n]);const s=r.indexOf(n);s>=0&&(i=[...r],i.splice(s,1)),t.namesList=i},setLastFetchingDate(t,e){t.lastFetchingDate=e.payload}},extraReducers:t=>{t.addCase(Il.pending,e=>{e.isLoading=!0,e.error=""}).addCase(Il.fulfilled,(e,n)=>{e.songsList=n.payload,e.error="",e.isLoading=!1,e.tableGroupLabels=n.payload.map(r=>r[1].map(i=>i[0]))}).addCase(Il.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}});function GB(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}const I2=x.forwardRef(({register:t,errors:e,onApply:n,placeholder:r,onChangeValue:i,autoClear:s=!1,onKeyDown:o,children:a,...l},u)=>{var y;const[c,h]=x.useState(""),f=m=>{i&&i(m.target.value),h(m.target.value)},g=()=>{n&&n(c),s&&h("")},v=()=>{i&&i(""),h("")},p=m=>{o&&o(m),m.key==="Enter"&&(n&&n(c),s&&h(""))},S=e?(y=e[t==null?void 0:t.name])==null?void 0:y.message:"";return d.jsxs("div",{className:De.container,children:[d.jsx(K,{component:"h5",children:a}),d.jsxs("div",{className:De.inputBlockContainer,children:[d.jsxs("label",{className:ks.inputContainer,children:[d.jsx("input",{type:"text",className:X.join(De.input,ks.input,Xt.input),placeholder:r,ref:u,onChange:f,onKeyDown:p,value:c,...t,...l}),!n&&c.length>0&&d.jsx(At,{size:"custom",style:{width:20,height:20},className:ks.icon,onClick:v,children:d.jsx(Ku,{size:"custom",style:{width:20,height:20}})}),(!n&&c.length<1||n)&&d.jsx(At,{size:"custom",style:{width:20,height:20},className:ks.icon,onClick:g,children:d.jsx(GB,{size:"custom",style:{width:20,height:20}})})]}),t&&d.jsx(K,{component:"p2",className:X.join(De.error),children:typeof S=="string"&&S})]})]})});I2.displayName="SearchInput";const fm=["Загальний Список","Вивчити/Зробити","Різдво","Пасха","Відкласти на час"],QB="_ListNavigation_1wvg1_1",YB={ListNavigation:QB};function XB({charsList:t}){return d.jsx(ge,{component:"nav",className:YB.ListNavigation,children:t.length>0&&t.map(e=>d.jsx(gv,{href:`${Ct.songslist}#${e}`,className:"link",children:e},e))})}function JB(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("polyline",{points:"9 11 12 14 22 4"}),d.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})}function ZB(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M8 6H21",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M8 12H21",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M8 18H21",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3 6H3.01",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3 12H3.01",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3 18H3.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}const eH="_Navbar_1f589_46",tH="_button_1f589_61",nH="_active_1f589_71",Ya={Navbar:eH,button:tH,active:nH};function rH(){const t=cr(),{page:e}=Vx(),n=()=>{t(Ct.songslist)},r=()=>{t(Ct.songslistSelection)},i=!e&&Ya.active,s=e==="selection"&&Ya.active;return d.jsxs(Mt,{className:Ya.Navbar,row:!0,children:[d.jsxs(ge,{className:Us(Ya.button,i),onClick:n,grid:{xx:3},children:[d.jsx(At,{children:d.jsx(ZB,{})}),d.jsx(K,{component:"caption",children:"Список"})]}),d.jsxs(ge,{className:Us(Ya.button,s),onClick:r,grid:{xx:3},children:[d.jsx(At,{children:d.jsx(JB,{})}),d.jsx(K,{component:"caption",children:"Вибрати"})]})]})}const ZS={up:"up",down:"down"};function iH(t,e){const n=t??100,[r,i]=x.useState("start"),[s,o]=x.useState(0);return x.useEffect(()=>{let a=window.scrollY;const l=f=>Math.abs(f-a)>n,u=f=>f>a&&!(a>0&&f===0)&&!(f>0&&a===0),c=()=>{const f=window.scrollY;if(o(f),l(f)){e&&e();const g=u(f)?ZS.down:ZS.up;i(g),a=f>0?f:0}},h=()=>window.requestAnimationFrame(c);return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]),{scrollDirection:r,scrollPosition:s}}function sH(){const[t,e]=x.useState({windowWidth:0,windowHeight:0});return x.useLayoutEffect(()=>{function n(){e({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t}const oH="_StickyButton_1v8xp_18",aH="_hide_1v8xp_59",lH="_show_1v8xp_65",cs={StickyButton:oH,hide:aH,"sticky-button-hide":"_sticky-button-hide_1v8xp_1",show:lH,"sticky-button-show":"_sticky-button-show_1v8xp_1"};function uH({children:t,popup:e,inverseDirection:n,offset:r,hideOnScreensCount:i=0}){const[s,o]=x.useState(cs.hide),a=x.useRef(null);x.useEffect(()=>{var h;a&&r&&((h=a.current)==null||h.style.setProperty("--sticky-button-offset",`${r}px`))},[a,r]);const{windowHeight:l}=sH(),{scrollDirection:u,scrollPosition:c}=iH(200);return x.useEffect(()=>{const h=c>l*i;o(h&&n&&u==="up"?cs.show:h&&n&&u==="down"||h&&u==="up"?cs.hide:h&&u==="down"?cs.show:cs.hide)},[i,n,u,c,l]),d.jsx("div",{className:X.join(cs.StickyButton,e&&s),ref:a,children:t})}function cH(t){return d.jsx(Ie,{fill:"none",...t,children:d.jsx("path",{d:"M18 15L12 9L6 15",strokeLinecap:"round",strokeLinejoin:"round"})})}function dH(){const{isPlayerShow:t}=ct(n=>n.musicPlayerReducer),e=t?228:64;return d.jsx(uH,{popup:!0,offset:e,inverseDirection:!0,hideOnScreensCount:1,children:d.jsx(Ze,{onClick:()=>document.body.scrollIntoView(),children:d.jsx(cH,{})})})}function hH({children:t,...e}){return d.jsx(d.Fragment,{children:x.Children.map(t,n=>x.isValidElement(n)?x.cloneElement(n,{...n.props,...e}):null)})}const fH="_List_3gzz3_1",pH="_unordered_3gzz3_6",mH="_custom_3gzz3_12",pm={List:fH,unordered:pH,custom:mH},n0=x.forwardRef(({type:t,margin:e,children:n,className:r,...i},s)=>{const o=[t==="unordered"&&pm[t],t==="custom"&&pm[t]],a={marginLeft:e&&`${e}px`};return d.jsx("ul",{className:X.join(pm.List,r,o),ref:s,style:a,...i,children:d.jsx(hH,{style:a,children:n})})});n0.displayName="List";const r0=x.forwardRef(({children:t,className:e,...n},r)=>d.jsx("li",{className:e,ref:r,...n,children:t}));r0.displayName="ListItem";const gH="_SongListItem_4t8ge_46",yH="_playIcon_4t8ge_55",vH="_playing_4t8ge_60",mm={SongListItem:gH,playIcon:yH,playing:vH,"play-animation":"_play-animation_4t8ge_1"};function wH({song:t}){const{audioTracksList:e,currentTrack:n,isPlaying:r}=ct(u=>u.musicPlayerReducer),{actions:i}=Ra,s=hn(),o=()=>{s(i.showPlayer()),s(i.toggleIsPlaying()),n&&n.includes(t.value)||s(i.setCurrentTrack(t.value))},a=r&&n===t.value?"secondary":"text",l=r&&n===t.value&&mm.playing;return d.jsxs(r0,{className:mm.SongListItem,children:[d.jsx(K,{component:"p1",id:`song_${t.position}`,children:t.value}),e.includes(t.value)&&d.jsx(Ze,{type:a,size:"small",onClick:o,className:Us(l),children:r&&n===t.value?d.jsx(x2,{size:"small"}):d.jsx(T2,{size:"small",className:mm.playIcon})})]},t.position)}const _H="_SongsList_50aix_46",SH="_songsGroup_50aix_52",EH="_songsGroupSymbol_50aix_56",CH="_songsNames_50aix_65",bc={SongsList:_H,songsGroup:SH,songsGroupSymbol:EH,songsNames:CH};function xH({songsTable:t}){return d.jsx(ge,{className:bc.SongsList,children:t.map(e=>e[1].length>0&&d.jsxs(ge,{className:bc.songsGroup,children:[d.jsx(K,{component:"h3",className:bc.songsGroupSymbol,id:e[0],children:e[0]}),d.jsx(n0,{className:bc.songsNames,children:e[1].map(n=>d.jsx(wH,{song:n},n.position))})]},e[0]))})}function TH({ref:t,wayDirection:e="horizontal",targetDirection:n=null,swipeOffset:r=10,moveOffset:i=1}){var m;const[s]=x.useState(((m=t.current)==null?void 0:m.style.position)||"static"),[o,a]=x.useState(null),[l,u]=x.useState(null),[c,h]=x.useState(null),[f,g]=x.useState(null),[v,p]=x.useState(null),[S,y]=x.useState(null);return x.useEffect(()=>{const w=t==null?void 0:t.current;let _=null,E=null;const T=A=>{_=A.touches[0].clientX,E=A.touches[0].clientY,a({x:_,y:E})},k=A=>{const O=A.touches[0].clientX,W=A.touches[0].clientY;if(u({x:O,y:W}),_===null||E===null)return;let M=null;e==="horizontal"?(M=O-_,M>i&&p("right"),M<i&&p("left")):e==="vertical"&&(M=W-E,M>i&&p("down"),M<i&&p("up")),y(M)},L=A=>{const O=A.changedTouches[0].clientX,W=A.changedTouches[0].clientY;if(h({x:O,y:W}),!(_===null||E===null)){if(e==="horizontal"){const M=O-_;M>r&&g("right"),M<r&&g("left")}else if(e==="vertical"){const M=W-E;M>r&&g("down"),M<r&&g("up")}a(null)}};return w&&(w.addEventListener("touchstart",T),w.addEventListener("touchmove",k),w.addEventListener("touchend",L)),()=>{w&&(w.removeEventListener("touchstart",T),w.removeEventListener("touchstart",T),w.removeEventListener("touchend",L))}},[]),x.useEffect(()=>{const w=t==null?void 0:t.current;w&&n&&(v===n?(w.style.position="relative",w.style.left=`${S}px`):w.style.position=s)},[S,v]),{startTouchPosition:o,moveTouchPosition:l,endTouchPosition:c,swipeDirection:f,moveDirection:v,difference:S}}function eE(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 8V12",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 16H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function kH(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M10.29 3.86001L1.81999 18C1.64536 18.3024 1.55296 18.6453 1.55198 18.9945C1.551 19.3437 1.64148 19.6871 1.81442 19.9905C1.98735 20.2939 2.23672 20.5468 2.5377 20.7239C2.83868 20.901 3.18079 20.9962 3.52999 21H20.47C20.8192 20.9962 21.1613 20.901 21.4623 20.7239C21.7633 20.5468 22.0126 20.2939 22.1856 19.9905C22.3585 19.6871 22.449 19.3437 22.448 18.9945C22.447 18.6453 22.3546 18.3024 22.18 18L13.71 3.86001C13.5317 3.56611 13.2807 3.32313 12.9812 3.15449C12.6817 2.98585 12.3437 2.89726 12 2.89726C11.6563 2.89726 11.3183 2.98585 11.0188 3.15449C10.7193 3.32313 10.4683 3.56611 10.29 3.86001Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 9V13",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 17H12.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function IH(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18457 2.99721 7.13633 4.39828 5.49707C5.79935 3.85782 7.69279 2.71538 9.79619 2.24015C11.8996 1.76491 14.1003 1.98234 16.07 2.86",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M22 4L12 14.01L9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}function bH(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M12.7165 22.7087C18.2394 22.7087 22.7165 18.2315 22.7165 12.7087C22.7165 7.18582 18.2394 2.70866 12.7165 2.70866C7.19367 2.70866 2.71652 7.18582 2.71652 12.7087C2.71652 18.2315 7.19367 22.7087 12.7165 22.7087Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12.7165 16.7087V12.7087",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12.7165 8.70866H12.7265",strokeLinecap:"round",strokeLinejoin:"round"})]})}function RH(t){return d.jsxs(Ie,{fill:"none",...t,children:[d.jsx("path",{d:"M12.237 22.8758C17.7599 22.8758 22.237 18.3987 22.237 12.8758C22.237 7.35296 17.7599 2.87581 12.237 2.87581C6.71418 2.87581 2.23703 7.35296 2.23703 12.8758C2.23703 18.3987 6.71418 22.8758 12.237 22.8758Z",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M15.237 9.87581L9.23703 15.8758",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M9.23703 9.87581L15.237 15.8758",strokeLinecap:"round",strokeLinejoin:"round"})]})}const AH="_LoaderBars_qlkif_1",PH="_loader_qlkif_1",LH={LoaderBars:AH,loader:PH},NH=x.forwardRef(({className:t,...e},n)=>d.jsxs("div",{className:X.join(LH.LoaderBars,t),ref:n,...e,children:[d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{})]}));NH.displayName="LoaderBars";const OH="_LoaderCounter_1kaup_1",jH="_counter_1kaup_9",DH="_background_1kaup_14",MH="_animation_1kaup_22",uo={LoaderCounter:OH,counter:jH,background:DH,animation:MH,"loader-animation":"_loader-animation_1kaup_1"},b2=x.forwardRef(({timer:t,isInversion:e,className:n,...r},i)=>{const[s,o]=x.useState(t/1e3);x.useEffect(()=>{X.setIntervalCounts({callback:()=>o(u=>u-1),delay:1e3,counts:t/1e3})},[]);const a=x.useRef(null);x.useLayoutEffect(()=>{var u;(u=a.current)==null||u.style.setProperty("--loader-counter--animation-duration",`${t}ms`)},[t]);const l=[e?uo.inversion:uo.normal];return d.jsxs("div",{className:X.join(uo.LoaderCounter,n,l),ref:i,...r,children:[d.jsx("div",{className:uo.background}),d.jsx("div",{className:uo.animation,ref:a}),d.jsx(K,{component:"p2",className:uo.counter,children:s})]})});b2.displayName="LoaderCounter";const $H="_Toast_1acxc_18",UH="_success_1acxc_22",FH="_info_1acxc_27",VH="_error_1acxc_32",zH="_warn_1acxc_37",BH="_oneLine_1acxc_83",HH="_medium_1acxc_86",qH="_large_1acxc_94",WH="_content_1acxc_97",KH="_textContent_1acxc_106",GH="_title_1acxc_116",QH="_message_1acxc_120",YH="_topLeft_1acxc_124",XH="_topCenter_1acxc_128",JH="_topRight_1acxc_132",ZH="_bottomLeft_1acxc_146",eq="_bottomCenter_1acxc_150",tq="_bottomRight_1acxc_154",nq="_hideToastAnimation_1acxc_168",Xn={Toast:$H,success:UH,info:FH,error:VH,warn:zH,oneLine:BH,medium:HH,large:qH,content:WH,textContent:KH,title:GH,message:QH,topLeft:YH,"top-animation-show":"_top-animation-show_1acxc_1",topCenter:XH,topRight:JH,bottomLeft:ZH,"bottom-animation-show":"_bottom-animation-show_1acxc_1",bottomCenter:eq,bottomRight:tq,hideToastAnimation:nq,"animation-hide":"_animation-hide_1acxc_1"};function rq(t){return t==="alert"?d.jsx(eE,{}):t==="info"?d.jsx(bH,{}):t==="success"?d.jsx(IH,{}):t==="error"?d.jsx(RH,{}):t==="warn"?d.jsx(kH,{}):d.jsx(eE,{})}const R2=x.forwardRef(({id:t,message:e,title:n="",type:r,size:i="flex",position:s="topRight",oneLine:o,onCloseButtonClick:a,duration:l=3e3,className:u,...c},h)=>{const f=x.useRef(null),{remove:g}=P2(),v=[i&&Xn[i],r&&Xn[r],s&&Xn[s]],p=o&&Xn.oneLine,S=n||r==="alert"&&"Повідомлення!"||r==="info"&&"Інформація!"||r==="success"&&"Успіх!"||r==="error"&&"Помилка!"||r==="warn"&&"Попередження!",y=()=>{var E,T;(E=f.current)==null||E.classList.add(Xn.hideToastAnimation),(T=f.current)==null||T.addEventListener("animationend",k=>{k.target===f.current&&(k.stopPropagation(),g(t))})},m=x.useRef();x.useEffect(()=>(l>0&&(m.current=setTimeout(()=>{y()},l)),()=>{clearTimeout(m.current)}),[]);const{swipeDirection:w}=TH({ref:f,targetDirection:"right"});x.useEffect(()=>{w==="right"&&y()},[w]);const _=E=>{a&&a(E),y()};return d.jsxs("div",{className:X.join(Xn.Toast,u,v),ref:w2([h,f]),...c,children:[d.jsxs("div",{className:Xn.content,children:[d.jsx(At,{children:rq(r)}),d.jsxs("div",{className:X.join(Xn.textContent,p),children:[d.jsx(K,{component:"h6",className:Xn.title,children:S}),typeof e=="string"?d.jsx(K,{component:"p1",className:Xn.message,children:e}):e.map(E=>d.jsx(K,{component:"p1",className:Xn.message,children:E},E))]}),l>0&&d.jsx(b2,{timer:l})]}),d.jsx(At,{size:"small",onClick:_,children:d.jsx(Ku,{size:"small"})})]})});R2.displayName="Toast";const iq="_ToastsContainer_1yqsk_46",tE={ToastsContainer:iq,"left-top":"_left-top_1yqsk_61","center-top":"_center-top_1yqsk_64","left-bottom":"_left-bottom_1yqsk_67","center-bottom":"_center-bottom_1yqsk_71","right-bottom":"_right-bottom_1yqsk_75"};function sq({toasts:t,position:e={horizontal:"right",vertical:"top"}}){const n=tE[`${e.horizontal}-${e.vertical}`];return!t||t.length<=0?null:d.jsx(e0,{children:d.jsx(ge,{className:X.join(tE.ToastsContainer,n),children:d.jsx(d.Fragment,{children:t.map(r=>d.jsx(R2,{id:r.id,message:r.message,title:r.title,type:r.type,size:r.size,position:r.position,oneLine:r.oneLine,onCloseButtonClick:r.onCloseButtonClick,duration:r.duration},r.id))})})})}const A2=x.createContext({}),P2=()=>x.useContext(A2);function oq({maxToast:t=1,children:e}){const[n,r]=x.useState([]),[i,s]=x.useState("top-right"),o=u=>{u.position&&u.position!==i&&s(u.position),r(c=>{const h=c.length<t?c:c.slice(1),f={...u,id:X.getRandomNumber(1e8,999999999).toString()};return[...h,f]})},a=u=>{r(c=>c.filter(h=>h.id!==u))},l=x.useMemo(()=>({add:o,remove:a,position:i}),[]);return d.jsxs(A2.Provider,{value:l,children:[e,d.jsx(sq,{toasts:n})]})}const aq="_SelectionBar_1inem_46",lq="_extended_1inem_59",uq="_button_1inem_63",Rc={SelectionBar:aq,extended:lq,button:uq};function cq(){const{namesList:t}=ct(l=>l.songsListReducer),{isPlayerShow:e}=ct(l=>l.musicPlayerReducer),n=e&&Rc.extended,r=hn(),{actions:i}=Vf,{add:s}=P2(),o=()=>{r(i.resetNamesList()),r(i.resetSelectedSongsId())},a=async()=>{const l=t.map((c,h)=>`${h+1}. ${c}`),u=l.join(`
`);try{await fj(u)&&s({title:"Скопійовано:",message:l,duration:5e3})}catch{s({type:"error",message:"Не вдалося скопіювати. Напишіть мені в Телеграм!",duration:5e3})}r(i.resetNamesList()),r(i.resetSelectedSongsId())};return d.jsxs(Mt,{className:Us(Rc.SelectionBar,n),row:!0,children:[d.jsx(ge,{className:Rc.button,children:d.jsx(Ze,{size:"small",type:"secondary",onClick:o,children:d.jsx(Ku,{})})}),d.jsx(ge,{className:Rc.button,children:d.jsx(Ze,{size:"small",onClick:a,disabled:t.length<=0,children:`Скопіювати ${t.length} / 10`})})]})}function dq(t){return d.jsx(Ie,{fill:"none",...t,children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})}const hq="_SongListItem_1m3a7_46",fq="_active_1m3a7_53",pq="_song_1m3a7_57",gm={SongListItem:hq,active:fq,song:pq};function mq({song:t}){const{namesList:e,nameListLimitCount:n,selectedSongsId:r}=ct(u=>u.songsListReducer),i=hn(),{actions:s}=Vf,o=r.includes(t.position),a=[o&&gm.active],l=()=>{e.length<n?i(s.toggleSetToSelectedSongsId(t.position)):i(s.removeFromSelectedSongsId(t.position)),i(s.toggleSetToNamesList(t.value))};return d.jsx(ge,{className:Us(gm.SongListItem,a),onClick:l,children:d.jsxs(r0,{className:gm.song,children:[d.jsx(K,{component:"p1",id:`song_${t.position}`,children:t.value}),d.jsx(At,{children:o&&d.jsx(dq,{})})]})})}const gq="_SongsSelection_qhojl_1",yq="_songsGroup_qhojl_7",vq="_songsGroupSymbol_qhojl_11",wq="_songsNames_qhojl_20",Ac={SongsSelection:gq,songsGroup:yq,songsGroupSymbol:vq,songsNames:wq};function _q({songsTable:t}){const{selectedSongsId:e}=ct(n=>n.songsListReducer);return d.jsxs(ge,{className:Ac.SongsSelection,children:[t.map(n=>n[1].length>0&&d.jsxs(ge,{className:Ac.songsGroup,children:[d.jsx(K,{component:"h3",className:Ac.songsGroupSymbol,id:n[0],children:n[0]}),d.jsx(n0,{className:Ac.songsNames,children:n[1].map(r=>d.jsx(mq,{song:r},r.position))})]},n[0])),e.length>0&&d.jsx(cq,{})]})}const Sq="_SongsListPage_2737s_46",Eq="_container_2737s_50",Cq="_tools_2737s_60",ym={SongsListPage:Sq,container:Eq,tools:Cq};function nE(){const[t,e]=x.useState(0),[n,r]=x.useState(),{error:i,isLoading:s,songsList:o,tableGroupLabels:a,lastFetchingDate:l}=ct(y=>y.songsListReducer),{isPlayerShow:u}=ct(y=>y.musicPlayerReducer),c=hn(),{actions:h}=Vf,{page:f}=Vx();x.useEffect(()=>{const y=oj();(ea(o)||l!==y)&&(c(Il()),c(h.setLastFetchingDate(y)))},[]);const[g,v]=x.useState("");x.useEffect(()=>{if(o.length>0){const y=o[t][1];r(g?y.map(m=>[m[0],m[1].filter(w=>w.value.toLowerCase().includes(g.toLowerCase()))]):y)}},[t,o,g]);const p=y=>{const m=fm.indexOf(y);e(m)};if(i)throw Error(i);const S=y=>{v(y)};return d.jsxs(ge,{component:"main",className:ym.SongsListPage,children:[d.jsxs(Mt,{component:"section",container:!0,className:ym.container,children:[d.jsxs(ge,{className:ym.tools,children:[s&&d.jsx(Yu,{}),d.jsx(S2,{selected:fm[t],onDropdownChange:p,options:fm}),d.jsx(I2,{placeholder:"Пошук...",onChangeValue:S}),a&&a.length>0&&d.jsx(XB,{charsList:a[t]})]}),n&&(f==="selection"?d.jsx(_q,{songsTable:n}):d.jsx(xH,{songsTable:n})),d.jsx(dH,{})]}),!s&&n&&d.jsx(rH,{}),n&&u&&d.jsx(WB,{})]})}function xq({onClose:t}){return d.jsx(io,{onClose:t,type:"error",size:"medium",title:"Невірні дані!",children:d.jsxs(d.Fragment,{children:[d.jsx(K,{component:"p1",className:"center",children:"Невірно заповнені поля."}),d.jsx(K,{component:"p1",className:"center",children:"Перевірте, будь ласка, дані та спробуйте ще раз!"})]})})}function Tq({onClose:t}){return d.jsx(io,{onClose:t,type:"success",size:"medium",title:"Чудово!",children:d.jsx(K,{component:"p1",className:"center",children:"Дані успішно оновлені!"})})}const kq="_container_zun5x_1",Iq="_form_zun5x_8",vm={container:kq,form:Iq},wm={male:"Хлопчик",female:"Дівчинка"};function bq(){const[t,e]=x.useState(!1),n=hn(),{actions:r}=ba,{uid:i,displayName:s,photoURL:o,sex:a,role:l,isLoading:u,error:c}=ct(T=>T.userReducer),h=a!==""?a:"male",{register:f,handleSubmit:g,watch:v,formState:{errors:p}}=J1({mode:"onSubmit",defaultValues:{userName:s,profileImage:o,role:l,sex:wm[h]}}),S=ea(p),y={userName:f("userName",{required:"Поле таке пусте! Введіть більше символів!",pattern:{value:/^[\sа-яА-ЯёЁъЪїЇіІєЄґҐa-zA-Z_]+$/,message:"Використовуйте тільки літери, пробіл або нижнє підкреслення!"},minLength:{value:2,message:"Мінімальна довжина логіну 2 символів"},maxLength:{value:32,message:"Максимальна довжина логіну 32 символів"}}),profileImage:f("profileImage",{validate:T=>T&&(typeof T=="string"||typeof T!="string"&&!ea(T))?!0:"Будь ласка, оберіть зображення!"}),role:f("role",{required:"Поле таке пусте! Введіть більше символів!",minLength:{value:2,message:"Мінімальна довжина логіну 2 символів"},maxLength:{value:32,message:"Максимальна довжина логіну 32 символів"}}),sex:f("sex",{required:"Оберіть стать!"})},m=async({userName:T,profileImage:k,role:L,sex:A})=>{const O=A===wm.male?"male":"female";n(Rl({uid:i,displayName:T!==s?T:void 0,photo:typeof k!="string"?k[0]:void 0,role:L!==l?L:void 0,sex:O!==a?O:void 0})),e(!0)},w=cr(),_=()=>{w(lr.users)},E=()=>{n(r.resetError())};return d.jsxs(ge,{component:"main",className:vm.UserPage,children:[d.jsxs(Mt,{container:!0,component:"section",className:vm.container,children:[d.jsx(K,{component:"h4",children:"Редагування профілю"}),d.jsxs(Ff,{className:vm.form,onSubmit:g(m),children:[d.jsx(E2,{watch:v,register:y.profileImage,errors:p,accept:".jpg, .jpeg, .png",label:"Оберіть зображення",children:"Зображення профілю:"}),d.jsx(uy,{register:y.userName,errors:p,children:"Логін*:"}),d.jsxs(uy,{register:y.role,errors:p,children:["Роль*:",d.jsx(K,{component:"caption",children:"(наприклад: Майстер мікрофону, Басист)"})]}),d.jsx(C2,{labels:Object.values(wm),register:y.sex,errors:p,children:"Стать*:"}),d.jsx(Ze,{submit:!0,disabled:!S,children:"Оновити дані"})]})]}),u&&d.jsx(Yu,{}),t&&!u&&d.jsx(Tq,{onClose:_}),c&&!u?d.jsx(xq,{onClose:E}):null]})}const rd=Xs("user/getAllUsers",async(t,e)=>{try{const n=await ke.google.firebase.database.users.getAllUsers();return Object.values(n.users).map(i=>({uid:i.uid,...i.user}))}catch(n){return e.rejectWithValue(ce(n))}}),Rq="_UsersPage_1r515_46",Aq="_container_1r515_50",Pq="_listContainer_1r515_57",Lq="_userName_1r515_64",Nq="_row_1r515_77",Oq="_ellipsis_1r515_83",jq="_userStats_1r515_90",Dq="_time_1r515_103",Mq="_current_1r515_108",On={UsersPage:Rq,container:Aq,listContainer:Pq,userName:Lq,row:Nq,ellipsis:Oq,userStats:jq,time:Dq,current:Mq};function $q(){const{uid:t}=ct(i=>i.userReducer),{isLoading:e,users:n}=ct(i=>i.usersReducer),r=hn();return x.useEffect(()=>{r(rd())},[]),d.jsxs(ge,{component:"main",className:On.UsersPage,children:[d.jsxs(Mt,{container:!0,component:"section",className:On.container,children:[d.jsx(K,{component:"h4",children:"Список користувачів"}),d.jsxs(Mt,{className:On.listContainer,children:[d.jsxs(Mt,{row:!0,className:On.row,children:[d.jsx(ge,{grid:{xx:7,xl:9,md:9},children:d.jsx(K,{component:"h5",children:"Користувач"})}),d.jsx(ge,{grid:{xx:2,md:3},children:d.jsx(K,{component:"h5",className:On.ellipsis,children:"Відвідувань"})})]}),n.length>0&&dj(n,"visitsCount").reverse().map(i=>{var s,o;return d.jsxs(Mt,{row:!0,className:Us(On.row,i.uid===t?On.current:null),children:[d.jsx(ge,{grid:{xx:1,md:2},children:d.jsx(mu,{src:i.photoURL,alt:i.displayName,char:((s=i.displayName)==null?void 0:s[0])||((o=i.email)==null?void 0:o[0])||"",size:"small"})}),d.jsxs(ge,{grid:{xx:6,xl:8,md:7},className:On.userName,children:[d.jsx(K,{component:"p1",className:On.ellipsis,children:i.displayName}),i.role&&d.jsx(K,{component:"caption",className:On.ellipsis,children:`[${i.role}]`})]}),d.jsxs(ge,{grid:{xx:2,md:3},className:On.userStats,children:[d.jsx(K,{component:"p1",children:i.visitsCount}),i.lastVisitDate&&d.jsxs(ge,{className:On.time,children:[d.jsx(K,{component:"caption",children:qw(i.lastVisitDate).toLocaleDateString()}),d.jsx(K,{component:"caption",children:qw(i.lastVisitDate).toLocaleTimeString()})]})]})]},i.uid)})]})]}),e&&d.jsx(Yu,{})]})}function rE({children:t}){const{isAuth:e}=Pr();return e?t:d.jsx(Bx,{to:Ct.login})}function Uq({children:t}){const{isAdmin:e}=Pr();return e?t:d.jsx(Bx,{to:Ct.home})}const Fq=qN([{path:"/",element:d.jsx(PV,{}),errorElement:d.jsx(WV,{}),children:[{element:d.jsx(QV,{}),index:!0},{element:d.jsx(vB,{}),path:Ct.login},{element:d.jsx(kB,{}),path:Ct.signup},{element:d.jsx(nE,{}),path:`${Ct.songslist}`},{element:d.jsx(nE,{}),path:`${Ct.songslist}/:page`},{element:d.jsx(rE,{children:d.jsx(bq,{})}),path:lr.user},{element:d.jsx(rE,{children:d.jsx($q,{})}),path:lr.users},{element:d.jsx(Uq,{children:d.jsx(DV,{})}),path:qx.admin}]}]);function Vq(){return d.jsx(jN,{router:Fq})}var i0="persist:",s0="persist/FLUSH",zf="persist/REHYDRATE",o0="persist/PAUSE",a0="persist/PERSIST",l0="persist/PURGE",u0="persist/REGISTER",zq=-1;function id(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?id=function(n){return typeof n}:id=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},id(t)}function iE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iE(n,!0).forEach(function(r){Hq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iE(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qq(t,e,n,r){r.debug;var i=Bq({},n);return t&&id(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function Wq(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:i0).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(E){return E}:typeof t.serialize=="function"?a=t.serialize:a=Kq;var l=t.writeFailHandler||null,u={},c={},h=[],f=null,g=null,v=function(E){Object.keys(E).forEach(function(T){y(T)&&u[T]!==E[T]&&h.indexOf(T)===-1&&h.push(T)}),Object.keys(u).forEach(function(T){E[T]===void 0&&y(T)&&h.indexOf(T)===-1&&u[T]!==void 0&&h.push(T)}),f===null&&(f=setInterval(p,i)),u=E};function p(){if(h.length===0){f&&clearInterval(f),f=null;return}var _=h.shift(),E=r.reduce(function(T,k){return k.in(T,_,u)},u[_]);if(E!==void 0)try{c[_]=a(E)}catch(T){console.error("redux-persist/createPersistoid: error serializing state",T)}else delete c[_];h.length===0&&S()}function S(){Object.keys(c).forEach(function(_){u[_]===void 0&&delete c[_]}),g=o.setItem(s,a(c)).catch(m)}function y(_){return!(n&&n.indexOf(_)===-1&&_!=="_persist"||e&&e.indexOf(_)!==-1)}function m(_){l&&l(_)}var w=function(){for(;h.length!==0;)p();return g||Promise.resolve()};return{update:v,flush:w}}function Kq(t){return JSON.stringify(t)}function Gq(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:i0).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=Qq,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function Qq(t){return JSON.parse(t)}function Yq(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:i0).concat(t.key);return e.removeItem(n,Xq)}function Xq(t){}function sE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sE(n,!0).forEach(function(r){Jq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sE(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zq(t,e){if(t==null)return{};var n=eW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var tW=5e3;function nW(t,e){var n=t.version!==void 0?t.version:zq;t.debug;var r=t.stateReconciler===void 0?qq:t.stateReconciler,i=t.getStoredState||Gq,s=t.timeout!==void 0?t.timeout:tW,o=null,a=!1,l=!0,u=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(c,h){var f=c||{},g=f._persist,v=Zq(f,["_persist"]),p=v;if(h.type===a0){var S=!1,y=function(L,A){S||(h.rehydrate(t.key,L,A),S=!0)};if(s&&setTimeout(function(){!S&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=Wq(t)),g)return jr({},e(p,h),{_persist:g});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),i(t).then(function(k){var L=t.migrate||function(A,O){return Promise.resolve(A)};L(k,n).then(function(A){y(A)},function(A){y(void 0,A)})},function(k){y(void 0,k)}),jr({},e(p,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===l0)return a=!0,h.result(Yq(t)),jr({},e(p,h),{_persist:g});if(h.type===s0)return h.result(o&&o.flush()),jr({},e(p,h),{_persist:g});if(h.type===o0)l=!0;else if(h.type===zf){if(a)return jr({},p,{_persist:jr({},g,{rehydrated:!0})});if(h.key===t.key){var m=e(p,h),w=h.payload,_=r!==!1&&w!==void 0?r(w,c,m,t):m,E=jr({},_,{_persist:jr({},g,{rehydrated:!0})});return u(E)}}}if(!g)return e(c,h);var T=e(p,h);return T===p?c:u(jr({},T,{_persist:g}))}}function oE(t){return sW(t)||iW(t)||rW()}function rW(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function iW(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function sW(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function aE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aE(n,!0).forEach(function(r){oW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aE(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oW(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L2={registry:[],bootstrapped:!1},aW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L2,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case u0:return cy({},e,{registry:[].concat(oE(e.registry),[n.key])});case zf:var r=e.registry.indexOf(n.key),i=oE(e.registry);return i.splice(r,1),cy({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function lW(t,e,n){var r=n||!1,i=Tv(aW,L2,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:u0,key:u})},o=function(u,c,h){var f={type:zf,payload:c,err:h,key:u};t.dispatch(f),i.dispatch(f),r&&a.getState().bootstrapped&&(r(),r=!1)},a=cy({},i,{purge:function(){var u=[];return t.dispatch({type:l0,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:s0,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){t.dispatch({type:o0})},persist:function(){t.dispatch({type:a0,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var c0={},d0={};d0.__esModule=!0;d0.default=dW;function sd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sd=function(n){return typeof n}:sd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},sd(t)}function _m(){}var uW={getItem:_m,setItem:_m,removeItem:_m};function cW(t){if((typeof self>"u"?"undefined":sd(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function dW(t){var e="".concat(t,"Storage");return cW(e)?self[e]:uW}c0.__esModule=!0;c0.default=pW;var hW=fW(d0);function fW(t){return t&&t.__esModule?t:{default:t}}function pW(t){var e=(0,hW.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var N2=void 0,mW=gW(c0);function gW(t){return t&&t.__esModule?t:{default:t}}var yW=(0,mW.default)("local");N2=yW;const vW={isLoading:!1,error:"",users:[]},wW=Cu({name:"users",initialState:vW,reducers:{removeUsers(t){t.users=[]},resetError(t){t.error=""}},extraReducers:t=>{t.addCase(rd.pending,e=>{e.error="",e.isLoading=!0}).addCase(rd.fulfilled,(e,n)=>{e.users=n.payload,e.error="",e.isLoading=!1}).addCase(rd.rejected,(e,n)=>{typeof n.payload=="string"&&(e.error=n.payload),e.isLoading=!1})}}),_W=Zx({appReducer:rT.reducer,songsListReducer:Vf.reducer,userReducer:ba.reducer,usersReducer:wW.reducer,musicPlayerReducer:Ra.reducer}),SW={key:Iv.name,storage:N2},EW=nW(SW,_W),O2=Wj({reducer:EW,middleware:t=>t({serializableCheck:{ignoredActions:[s0,zf,o0,a0,l0,u0]}})}),CW=lW(O2);function xW(){return d.jsx(gL,{store:O2,children:d.jsx(oq,{maxToast:5,children:d.jsx(bx,{loading:null,persistor:CW,children:d.jsx(Vq,{})})})})}const TW=document.getElementById("root"),kW=yx(TW);kW.render(d.jsx(xW,{}));
